(self.webpackChunkprismhr_ess=self.webpackChunkprismhr_ess||[]).push([[3411],{56065:(He,ge,T)=>{"use strict";T.d(ge,{j:()=>I});var o=T(94650);let I=(()=>{class Z{constructor(){}}return Z.\u0275fac=function(V){return new(V||Z)},Z.\u0275cmp=o.\u0275\u0275defineComponent({type:Z,selectors:[["ng-component"]],inputs:{title:"title",description:"description",cancelText:"cancelText",yesText:"yesText",submitText:"submitText"},decls:14,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(V,ne){1&V&&(o.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"button",2),o.\u0275\u0275listener("click",function(){return ne.parentModal.close("cancel")}),o.\u0275\u0275elementStart(4,"span",3),o.\u0275\u0275text(5,"\xd7"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(6,"div",4)(7,"p"),o.\u0275\u0275text(8),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(9,"div",5)(10,"button",6),o.\u0275\u0275listener("click",function(){return ne.parentModal.close("yes")}),o.\u0275\u0275text(11),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(12,"button",7),o.\u0275\u0275listener("click",function(){return ne.parentModal.close("no")}),o.\u0275\u0275text(13),o.\u0275\u0275elementEnd()()),2&V&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(ne.title),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate(ne.description),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate2(" ",ne.yesText,", ",ne.submitText," "),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",ne.cancelText," "))},encapsulation:2}),Z})()},66402:(He,ge,T)=>{"use strict";T.d(ge,{_:()=>ke});var o=T(94650),I=T(30567),Z=T(15439),X=T.n(Z),V=(()=>{return(k=V||(V={})).APPROVED="A",k.PENDING_APPROVAL="N",V;var k})(),ne=T(14811),fe=T(27111),Ee=T(25424),Oe=T(36895),nt=T(34623),Ce=T(88452),rt=T(24006),ee=T(42466),S=T(56946),Y=T(29785),K=T(52885);const F=["popover"];function G(k,te){1&k&&(o.\u0275\u0275elementStart(0,"div",16),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&k&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" *",o.\u0275\u0275pipeBind1(2,1,"MESSAGE.PTO.ESTIMATE_NOT_AVAILABLE")," "))}function re(k,te){1&k&&(o.\u0275\u0275elementStart(0,"div",17),o.\u0275\u0275element(1,"i",18),o.\u0275\u0275elementEnd())}function Xe(k,te){if(1&k&&(o.\u0275\u0275elementStart(0,"p",22)(1,"b"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"number"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275elementEnd()),2&k){const x=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind2(3,2,x.accrualEstimate,"1.0-2")),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(5,5,"LABEL.HOURS")," ")}}function Ft(k,te){1&k&&(o.\u0275\u0275elementStart(0,"p",22)(1,"b"),o.\u0275\u0275text(2,"N/A*"),o.\u0275\u0275elementEnd()())}function St(k,te){if(1&k&&(o.\u0275\u0275elementStart(0,"div",20)(1,"b"),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(3,Xe,6,7,"p",21),o.\u0275\u0275template(4,Ft,3,0,"p",21),o.\u0275\u0275elementEnd()),2&k){const x=te.$implicit,O=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(x.description),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",O.canCalculateEstimate(x)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!O.canCalculateEstimate(x))}}function Lt(k,te){if(1&k&&(o.\u0275\u0275elementStart(0,"div",11),o.\u0275\u0275template(1,St,5,3,"div",19),o.\u0275\u0275elementEnd()),2&k){const x=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",x.ptoTypes)}}function ct(k,te){if(1&k){const x=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",3)(1,"phr-date-control",4,5),o.\u0275\u0275listener("valueChange",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.dateChange(W))}),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"hr"),o.\u0275\u0275elementStart(5,"div",6),o.\u0275\u0275element(6,"i",7),o.\u0275\u0275elementStart(7,"div",8)(8,"b",9),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(11,"br"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(12,G,3,3,"div",10),o.\u0275\u0275elementStart(13,"div",11),o.\u0275\u0275template(14,re,2,0,"div",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(15,Lt,2,1,"div",13),o.\u0275\u0275elementStart(16,"div",14)(17,"button",15),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(x),o.\u0275\u0275nextContext();const W=o.\u0275\u0275reference(3);return o.\u0275\u0275resetView(W.close())}),o.\u0275\u0275text(18),o.\u0275\u0275pipe(19,"translate"),o.\u0275\u0275elementEnd()()()}if(2&k){const x=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate1("label","",o.\u0275\u0275pipeBind1(3,9,"LABEL.PLANNED")," PTO"),o.\u0275\u0275property("control",x.estimateForm.controls.ptoEstimateDate)("minDate",x.minDate),o.\u0275\u0275advance(8),o.\u0275\u0275textInterpolate2(" ",o.\u0275\u0275pipeBind1(10,11,"LABEL.ESTIMATED_PTO_TITLE")," ",x.getFormattedDate()," "),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngIf",x.hasNonEstimableType()),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",x.loading),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!x.loading),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(19,13,"ACTION.CLOSE")," ")}}let Mt=(()=>{class k{constructor(x,O,W,R){this.fb=x,this.translateService=O,this.ptoService=W,this.toastService=R,this.ptoTypes=[],this.estimateForm=this.fb.group({ptoEstimateDate:[new Date,null]}),this.minDate=new Date,this.loading=!1}ngAfterViewInit(){this.shownSub=this.popover.shown.subscribe(()=>{this.estimateForm.controls.ptoEstimateDate.setValue(new Date)})}ngOnDestroy(){this.shownSub.unsubscribe()}onResize(x){this.popover.close()}hasNonEstimableType(){for(const x of this.ptoTypes)if(!this.canCalculateEstimate(x))return!0;return!1}canCalculateEstimate(x){return"F"===x.losBasis&&"P"===x.triggerMethod}dateChange(x){const O=X()(x);O.isValid()&&X()().isSameOrBefore(O,"day")?(this.loading=!0,this.ptoService.getAccrualEstimation(this.clientId,this.employeeId,O.toDate()).subscribe(W=>{W.forEach(R=>{this.ptoTypes.forEach(Be=>{Be.id===R.absenceTypeCode&&(Be.accrualEstimate=R.accrued+this.ptoService.calculateAvailableHours(Be),R.accrStopBalHm&&Be.accrualEstimate>R.accrStopBalHm&&(Be.accrualEstimate=R.accrStopBalHm))})}),this.loading=!1},()=>{this.loading=!1,this.toastService.error({text:this.translateService.instant("MESSAGE.PTO.ERRORS.CONFIG_ERROR")}),this.popover.close()})):this.clearAccrualEstimates()}clearAccrualEstimates(){this.ptoTypes.forEach(x=>{x.accrualEstimate=void 0})}getFormattedDate(){const x=this.estimateForm.controls.ptoEstimateDate.value,O=X()(x);return O.isValid()?O.locale(this.translateService.currentLang).format("ddd MM/DD/YYYY").replace(/^\w/,W=>W.toUpperCase()):""}get maxDate(){return this.ptoTypes.length>0?this.ptoTypes.map(x=>X()(x.maxDatePrior,"MM/DD/YYYY")).sort((x,O)=>x.isBefore(O)?1:O.isBefore(x)?-1:0)[0]:new Date}get popoverPlacement(){return"bottom"}}return k.\u0275fac=function(x){return new(x||k)(o.\u0275\u0275directiveInject(rt.FormBuilder),o.\u0275\u0275directiveInject(ee.sK),o.\u0275\u0275directiveInject(ne.M),o.\u0275\u0275directiveInject(S.k))},k.\u0275cmp=o.\u0275\u0275defineComponent({type:k,selectors:[["phr-estimate-pto"]],viewQuery:function(x,O){if(1&x&&o.\u0275\u0275viewQuery(F,5),2&x){let W;o.\u0275\u0275queryRefresh(W=o.\u0275\u0275loadQuery())&&(O.popover=W.first)}},hostBindings:function(x,O){1&x&&o.\u0275\u0275listener("resize",function(R){return O.onResize(R)},!1,o.\u0275\u0275resolveWindow)},inputs:{ptoTypes:"ptoTypes",clientId:"clientId",employeeId:"employeeId"},decls:6,vars:6,consts:[["estimatePtoPopover",""],["popoverClass","estimatePtoPopover",1,"btn","btn-link","test",3,"placement","ngbPopover","autoClose"],["popover","ngbPopover"],[1,"p-2"],["boldLabel","true",3,"label","control","minDate","valueChange"],["datePicker",""],[1,"d-flex","pb-1"],[1,"fas","fa-clock","fa-2x","text-primary","pr-1"],[1,"d-flex","align-items-center"],[1,"small","font-weight-bold"],["class","pb-2 pl-4",4,"ngIf"],[1,"row"],["class","col-12 text-center pb-3 text-primary",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"btn","btn-outline-primary",3,"click"],[1,"pb-2","pl-4"],[1,"col-12","text-center","pb-3","text-primary"],["aria-hidden","true",1,"fas","fa-spin","fa-circle-notch","fa-3x"],["class","col-4 text-nowrap text-truncate",4,"ngFor","ngForOf"],[1,"col-4","text-nowrap","text-truncate"],["class","small",4,"ngIf"],[1,"small"]],template:function(x,O){if(1&x&&(o.\u0275\u0275template(0,ct,20,15,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementStart(2,"button",1,2),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"translate"),o.\u0275\u0275elementEnd()),2&x){const W=o.\u0275\u0275reference(1);o.\u0275\u0275advance(2),o.\u0275\u0275property("placement",O.popoverPlacement)("ngbPopover",W)("autoClose",!1),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(5,4,"LABEL.ESTIMATE_PTO"),"\n")}},dependencies:[Oe.sg,Oe.O5,Y.Oz,K.o8,ee.X$,Oe.JJ],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]     .estimatePtoPopover{box-shadow:3px 4px 8px #0000004d!important;border:solid 1px #d0d0d0!important;width:400px!important;max-width:none!important;left:-125px!important}@media screen and (max-width: 567px){[_nghost-%COMP%]     .estimatePtoPopover{width:310px!important;max-width:310px!important;left:60px!important}}@media screen and (max-width: 360px){[_nghost-%COMP%]     .estimatePtoPopover{width:340px!important;max-width:340px!important;left:65px!important}}@media screen and (max-width: 320px){[_nghost-%COMP%]     .estimatePtoPopover{width:270px!important;max-width:270px!important;left:65px!important}}"]}),k})();var pe=T(98474),Ie=T(68757),Pt=T(56065),ht=T(87224),Re=T(54843),at=T(3270),Ne=T(14927),it=T(90525);function ot(k,te){if(1&k){const x=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(x);const W=o.\u0275\u0275nextContext().$implicit,R=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(R.resendPtoRequest(W.data))}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}if(2&k){const x=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("disabled",x.isProxyUser),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,2,"ACTION.RESEND_PTO")," ")}}function ft(k,te){if(1&k){const x=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",14),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(x);const W=o.\u0275\u0275nextContext().$implicit,R=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(R.cancelPtoRequest(W.data))}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}if(2&k){const x=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("disabled",x.isProxyUser),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,2,"ACTION.CANCEL")," ")}}function wt(k,te){1&k&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1,"-"),o.\u0275\u0275elementEnd())}function Nt(k,te){if(1&k&&(o.\u0275\u0275template(0,ot,3,4,"button",10),o.\u0275\u0275template(1,ft,3,4,"button",11),o.\u0275\u0275template(2,wt,2,0,"p",12)),2&k){const x=te.$implicit;o.\u0275\u0275property("ngIf",x.data.canResend),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",x.data.canCancel),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!x.data.canCancel&&!x.data.canResend)}}function yt(k,te){if(1&k){const x=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",6)(1,"phr-table-controls-component",7),o.\u0275\u0275listener("onFilterSelect",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleFilterChanged(W,"planned"))})("onSearchStringChange",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleSearchStringChange(W,"planned"))})("onFiltersChange",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleFiltersChanged(W,"planned"))}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"phr-table-component",8),o.\u0275\u0275listener("onSort",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleSortChange(W,"planned"))}),o.\u0275\u0275template(3,Nt,3,3,"ng-template",null,9,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275elementEnd()()}if(2&k){const x=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("messages",x.tableTranslationsService.controlsMessages)("filters",x.filters.planned)("useColumnChooser",!1)("tableColumns",x.plannedPtoCols)("searchString",x.searchString.planned),o.\u0275\u0275advance(1),o.\u0275\u0275property("data",x.ptoRequests)("filters",x.filters.planned)("searchString",x.searchString.planned)("tableColumns",x.plannedPtoCols)("templates",x.plannedPtoTemplates)("mobileColCount",2)("itemsPerPage",10)("paginationMessages",x.tableTranslationsService.paginationMessages)("noRowsMessage",x.translateService.instant("MESSAGE.PTO.NO_PTO")+"...")}}function H(k,te){if(1&k){const x=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",6)(1,"phr-table-controls-component",7),o.\u0275\u0275listener("onFilterSelect",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleFilterChanged(W,"history"))})("onSearchStringChange",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleSearchStringChange(W,"history"))})("onFiltersChange",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleFiltersChanged(W,"history"))}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"phr-table-component",15),o.\u0275\u0275listener("onSort",function(W){o.\u0275\u0275restoreView(x);const R=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(R.handleSortChange(W,"history"))}),o.\u0275\u0275elementEnd()()}if(2&k){const x=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("messages",x.tableTranslationsService.controlsMessages)("filters",x.filters.history)("useColumnChooser",!1)("tableColumns",x.historyPtoCols)("searchString",x.searchString.history),o.\u0275\u0275advance(1),o.\u0275\u0275property("data",x.ptoHistory)("filters",x.filters.history)("searchString",x.searchString.history)("tableColumns",x.historyPtoCols)("mobileColCount",2)("itemsPerPage",10)("paginationMessages",x.tableTranslationsService.paginationMessages)("noRowsMessage",x.translateService.instant("MESSAGE.PTO.NO_HISTORY")+"...")}}let le=(()=>{class k{constructor(x,O,W,R,Be,Tt,vt,en){this.tableTranslationsService=x,this.ptoService=O,this.translateService=W,this.i18nService=R,this.broadcast=Be,this.toastService=Tt,this.modalService=vt,this.userStateService=en,this.ptoRequests=[],this.ptoHistory=[],this.showResendRequest=!1,this.isTemplatePTOReadOnly=!1,this.canManagerRequestCancelPTO=!0,this.requestCancelled=new o.EventEmitter,this.tabIds={planned:"planned",history:"history"},this.tabId=this.tabIds.planned,this.searchString={planned:"",history:""},this.filters={planned:[],history:[]},this.plannedPtoCols=[{title:"",localeKey:"LABEL.TYPE",sort:Ie.ER.ALPHA,property:"description"},{title:"",localeKey:"LABEL.START_DATE",sort:Ie.ER.DATE,direction:Ie.Sr.DESC,enumerable:!1,transform:ye=>{if(ye){const $e=X()(ye,"MM/DD/YYYY");return $e.locale(this.translateService.currentLang),$e.format("ddd MM/DD/YYYY").replace(/^\w/,Dt=>Dt.toUpperCase())}},property:"startDate"},{title:"",localeKey:"LABEL.END_DATE",sort:Ie.ER.DATE,enumerable:!1,transform:ye=>{if(ye){const $e=X()(ye,"MM/DD/YYYY");return $e.locale(this.translateService.currentLang),$e.format("ddd MM/DD/YYYY").replace(/^\w/,Dt=>Dt.toUpperCase())}},property:"endDate"},{title:"",localeKey:"LABEL.REQUESTER",sort:Ie.ER.ALPHA,property:"requesterUserId"},{title:"",localeKey:"LABEL.STATUS",sort:Ie.ER.ALPHA,property:"statusDescription",transform:(ye="")=>{const $e=ye.replace(/\s+/,"_").toUpperCase();return this.translateService.instant(`LABEL.${$e}`)}},{title:"",localeKey:"LABEL.HOURS",sort:Ie.ER.NUM,enumerable:!1,property:"totalHours",transform:ye=>ye&&Number(ye).toFixed(2)},{title:"",localeKey:"LABEL.APPROVER",sort:Ie.ER.ALPHA,property:"approver"}].map(ye=>(ye.title=this.translateService.instant(ye.localeKey),new Ie.hj(ye))),this.historyPtoCols=[{title:"",localeKey:"LABEL.TYPE",sort:Ie.ER.ALPHA,property:"description"},{title:"",localeKey:"LABEL.START_DATE",sort:Ie.ER.DATE,direction:Ie.Sr.ASC,transform:ye=>{if(ye){const $e=X()(ye.replace(/Z$/,""));return $e.locale(this.translateService.currentLang),$e.format("ddd MM/DD/YYYY").replace(/^\w/,Dt=>Dt.toUpperCase())}},enumerable:!1,property:"startDate"},{title:"",localeKey:"LABEL.HOURS",sort:Ie.ER.NUM,enumerable:!1,transform:ye=>ye&&Number(ye).toFixed(2),property:"hoursAbsent"}].map(ye=>(ye.title=this.translateService.instant(ye.localeKey),new Ie.hj(ye))),this.plannedPtoTemplates=[],this.broadcast.on(this.i18nService.changedEvent).subscribe(ye=>{this.localize()})}ngOnInit(){this.userStateService.session$.pipe((0,ht.P)()).subscribe(x=>{this.isProxyUser=!!x?.proxyInfo}),this.isTemplatePTOReadOnly&&(this.showResendRequest=!1),(!this.isTemplatePTOReadOnly&&this.canManagerRequestCancelPTO||this.showResendRequest)&&(this.plannedPtoCols.push({property:"actions",localeKey:"LABEL.ACTIONS",title:this.translateService.instant("LABEL.ACTIONS"),enumerable:!1,visible:!0,default:!0}),this.plannedPtoTemplates.push("actions")),this.loadData()}initFilters(){this.filters={planned:pe.iZ.buildFilters(this.plannedPtoCols,this.ptoRequests),history:pe.iZ.buildFilters(this.historyPtoCols,this.ptoHistory)};const x=O=>"startDate"===O.property;this.handleSortChange(this.historyPtoCols.find(x),"history"),this.handleSortChange(this.plannedPtoCols.find(x),"planned")}localize(){this.plannedPtoCols=this.plannedPtoCols.map(x=>(x.title=this.translateService.instant(x.localeKey),x)),this.historyPtoCols=this.historyPtoCols.map(x=>(x.title=this.translateService.instant(x.localeKey),x))}handleSortChange(x,O){const W=R=>(R.direction=R.property===x.property?x.direction:null,R);return"planned"===O?this.plannedPtoCols.map(W):this.historyPtoCols.map(W)}handleSearchStringChange(x,O){this.searchString[O]=x}handleFilterChanged(x,O="planned"){const W=this.filters[O].findIndex(R=>R.attribute.property===x.attribute.property);this.filters[O][W]=x}handleFiltersChanged(x,O="planned"){this.filters[O]=x}showApprovedPtoCancelModal(){const x=this.modalService.open(Pt.j,{backdrop:"static"});return x.componentInstance.parentModal=x,x.componentInstance.title=this.translateService.instant("MESSAGE.PTO.CANCEL_REQUEST"),x.componentInstance.description=this.translateService.instant("MESSAGE.PTO.CANCEL_REQUEST_DESCRIPTION"),x.componentInstance.cancelText=this.translateService.instant("ACTION.NO"),x.componentInstance.yesText=this.translateService.instant("ACTION.YES"),x.componentInstance.submitText=this.translateService.instant("ACTION.CANCEL"),x.result}cancelPtoRequest(x){let O;return O=x.status===V.APPROVED?this.showApprovedPtoCancelModal().then(W=>"yes"===W&&this.cancelPtoRequestWorker(x)):this.cancelPtoRequestWorker(x),O}cancelPtoRequestWorker(x){x.deleting=!0,this.ptoService.deleteLeaveRequest(x.id,this.clientId,this.employeeId).subscribe(O=>{for(let W=0;W<this.ptoRequests.length;W++)if(this.ptoRequests[W]===x)return void this.ptoRequests.splice(W,1)},O=>{x.deleting=!1})}resendPtoRequest(x){this.ptoService.resendPtoRequest(x.id,this.clientId,this.employeeId).subscribe(O=>{this.toastService.success({text:this.translateService.instant("MESSAGE.RESEND_PTO.SUCCESS")})},O=>{this.toastService.error({text:this.translateService.instant("MESSAGE.RESEND_PTO.ERROR")})})}loadData(){this.initFilters()}}return k.\u0275fac=function(x){return new(x||k)(o.\u0275\u0275directiveInject(Re.L),o.\u0275\u0275directiveInject(ne.M),o.\u0275\u0275directiveInject(ee.sK),o.\u0275\u0275directiveInject(at.D),o.\u0275\u0275directiveInject(Ne.BroadcastEventService),o.\u0275\u0275directiveInject(S.k),o.\u0275\u0275directiveInject(K.FF),o.\u0275\u0275directiveInject(it.P))},k.\u0275cmp=o.\u0275\u0275defineComponent({type:k,selectors:[["phr-pto-timeoff-details"]],inputs:{ptoRequests:"ptoRequests",ptoHistory:"ptoHistory",employeeId:"employeeId",clientId:"clientId",showResendRequest:"showResendRequest",isTemplatePTOReadOnly:"isTemplatePTOReadOnly",canManagerRequestCancelPTO:"canManagerRequestCancelPTO"},outputs:{requestCancelled:"requestCancelled"},decls:15,vars:15,consts:[["ngbNav","",1,"nav-pills","prismhr-nav-pills-underline",3,"activeId","animation","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"mt-3"],[3,"messages","filters","useColumnChooser","tableColumns","searchString","onFilterSelect","onSearchStringChange","onFiltersChange"],[3,"data","filters","searchString","tableColumns","templates","mobileColCount","itemsPerPage","paginationMessages","noRowsMessage","onSort"],["cell",""],["class","btn btn-primary mr-2 my-1",3,"disabled","click",4,"ngIf"],["class","btn btn-danger my-1",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary","mr-2","my-1",3,"disabled","click"],[1,"btn","btn-danger","my-1",3,"disabled","click"],[3,"data","filters","searchString","tableColumns","mobileColCount","itemsPerPage","paginationMessages","noRowsMessage","onSort"]],template:function(x,O){if(1&x&&(o.\u0275\u0275elementStart(0,"ul",0,1),o.\u0275\u0275listener("activeIdChange",function(R){return O.tabId=R}),o.\u0275\u0275elementStart(2,"li",2)(3,"a",3),o.\u0275\u0275text(4),o.\u0275\u0275pipe(5,"uppercase"),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,yt,5,14,"ng-template",4),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"li",2)(9,"a",3),o.\u0275\u0275text(10),o.\u0275\u0275pipe(11,"uppercase"),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(13,H,3,13,"ng-template",4),o.\u0275\u0275elementEnd()(),o.\u0275\u0275element(14,"div",5)),2&x){const W=o.\u0275\u0275reference(1);o.\u0275\u0275property("activeId",O.tabId)("animation",!1),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngbNavItem",O.tabIds.planned),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(5,7,o.\u0275\u0275pipeBind1(6,9,"LABEL.PLANNED"))),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngbNavItem",O.tabIds.history),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(11,11,o.\u0275\u0275pipeBind1(12,13,"LABEL.HISTORY"))),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngbNavOutlet",W)}},dependencies:[Oe.O5,K.uN,K.Pz,K.nv,K.Vx,K.tO,pe.RT,pe.y,ee.X$,Oe.gd],styles:["phr-table-controls-component[_ngcontent-%COMP%]     phr-filter-dropdown>div{position:relative}"]}),k})(),M=(()=>{class k{constructor(x){this.activeModal=x}}return k.\u0275fac=function(x){return new(x||k)(o.\u0275\u0275directiveInject(K.Kz))},k.\u0275cmp=o.\u0275\u0275defineComponent({type:k,selectors:[["phr-pto-chart-tooltip-component"]],decls:13,vars:6,consts:[["type","button","aria-label","Close",1,"close","pto-tooltip-button",3,"click"],["aria-hidden","true"],[1,"modal-body","pto-chart-tooltip-body"],[1,"border-top"],[1,"d-flex","justify-content-center","py-3"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(x,O){1&x&&(o.\u0275\u0275elementStart(0,"div")(1,"button",0),o.\u0275\u0275listener("click",function(){return O.activeModal.dismiss()}),o.\u0275\u0275elementStart(2,"span",1),o.\u0275\u0275text(3,"\xd7"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(4,"div",2)(5,"div"),o.\u0275\u0275text(6),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(8,"div",3)(9,"div",4)(10,"button",5),o.\u0275\u0275listener("click",function(){return O.activeModal.close()}),o.\u0275\u0275text(11),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd()()()),2&x&&(o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(7,2,"MESSAGE.PTO.LIMIT_PER_YEAR")," "),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(12,4,"ACTION.OK_GOT_IT")," "))},dependencies:[ee.X$],styles:[".pto-tooltip-button[_ngcontent-%COMP%]{margin:5px 10px 0 5px}.pto-chart-tooltip-body[_ngcontent-%COMP%]{margin:20px 0 0}"]}),k})();var D=T(34793),N=T(39256);const J=["availableEl"],$=["plannedEl"],Ae=["takenEl"];function ve(k,te){1&k&&(o.\u0275\u0275elementStart(0,"div")(1,"button",25)(2,"span",26),o.\u0275\u0275text(3,"\xd7"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(4,"div",27),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd()),2&k&&(o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(6,1,"MESSAGE.PTO.LIMIT_PER_YEAR")," "))}const Se=function(k){return["/ess/pto/details",k]};function he(k,te){if(1&k&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275element(1,"hr"),o.\u0275\u0275elementStart(2,"a",28),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd()()),2&k){const x=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(4,Se,x.encodeSpecialChars(x.ptoType.id))),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(4,2,"ACTION.VIEW_DETAILS")," ")}}let st=(()=>{class k{constructor(x,O,W){this.translateService=x,this.modalService=O,this.ptoService=W,this.showViewPtoDetails=!1,this.encodeSpecialChars=R=>encodeURIComponent(R)}ngOnInit(){this.availableColor=window.getComputedStyle(this.availableEl.nativeElement).backgroundColor,this.plannedColor=window.getComputedStyle(this.plannedEl.nativeElement).backgroundColor,this.takenColor=window.getComputedStyle(this.takenEl.nativeElement).backgroundColor;let x=this.ptoService.calculateAvailableHours(this.ptoType);x<0&&(x=0);let O=this.ptoType.planned;O<0&&(O=0);let W=this.ptoType.taken;W<0&&(W=0),this.config={type:"doughnut",data:{labels:[this.translateService.instant("LABEL.AVAILABLE"),this.translateService.instant("LABEL.PLANNED"),this.translateService.instant("LABEL.TAKEN")],datasets:[{data:[x,O,W],backgroundColor:[this.availableColor,this.plannedColor,this.takenColor],hoverBackgroundColor:[this.availableColor,this.plannedColor,this.takenColor]}]},options:{animation:{animateScale:!1},responsive:!0,maintainAspectRatio:!1,cutoutPercentage:70,title:{display:!1,text:this.ptoType.description},legend:{display:!1}}}}showModal(){this.modalService.open(M)}}return k.\u0275fac=function(x){return new(x||k)(o.\u0275\u0275directiveInject(ee.sK),o.\u0275\u0275directiveInject(K.FF),o.\u0275\u0275directiveInject(ne.M))},k.\u0275cmp=o.\u0275\u0275defineComponent({type:k,selectors:[["phr-pto-chart"]],viewQuery:function(x,O){if(1&x&&(o.\u0275\u0275viewQuery(J,7),o.\u0275\u0275viewQuery($,7),o.\u0275\u0275viewQuery(Ae,7)),2&x){let W;o.\u0275\u0275queryRefresh(W=o.\u0275\u0275loadQuery())&&(O.availableEl=W.first),o.\u0275\u0275queryRefresh(W=o.\u0275\u0275loadQuery())&&(O.plannedEl=W.first),o.\u0275\u0275queryRefresh(W=o.\u0275\u0275loadQuery())&&(O.takenEl=W.first)}},inputs:{ptoType:"ptoType",showViewPtoDetails:"showViewPtoDetails"},decls:54,vars:32,consts:[["helpPTOLimitPerYearContent",""],["hidden","true",1,"bg-primary"],["availableEl",""],["hidden","true",1,"bg-success"],["plannedEl",""],["hidden","true",1,"bg-danger"],["takenEl",""],[1,"chart-container","mb-2"],[1,"chart-wrapper","d-flex","justify-content-center"],[3,"type","data","options"],[1,"d-flex","justify-content-center","chart-container-details"],[1,"text-center"],[1,"text-warning",2,"margin-top","55px"],[1,"w-100","text-center","text-truncate","font-weight-bold",2,"font-size","1.2em"],[3,"title"],[1,"d-md-none","btn","btn-link","test","pto-chart-tooltip-button-size",3,"click"],["aria-hidden","true",1,"fas","fa-question-circle","fa-2x"],["placement","bottom-center",1,"d-none","d-md-inline","btn","btn-link","test","pto-chart-tooltip-button-size",3,"ngbPopover","autoClose"],[1,"d-flex","flex-wrap","justify-content-center"],["aria-hidden","true",1,"fas","fa-circle","text-primary"],[1,"ml-2"],["aria-hidden","true",1,"ml-2","fas","fa-circle","text-success"],["aria-hidden","true",1,"fas","fa-circle","text-danger"],[1,"mr-2"],[4,"ngIf"],["type","button","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"pto-chart-tooltip-body"],[1,"btn",3,"routerLink"]],template:function(x,O){if(1&x&&(o.\u0275\u0275template(0,ve,7,3,"ng-template",null,0,o.\u0275\u0275templateRefExtractor),o.\u0275\u0275element(2,"div",1,2)(4,"div",3,4)(6,"div",5,6),o.\u0275\u0275elementStart(8,"div",7)(9,"div",8),o.\u0275\u0275element(10,"chart",9),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(11,"div",10)(12,"div",11)(13,"h1",12)(14,"strong"),o.\u0275\u0275text(15),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(16,"div"),o.\u0275\u0275text(17),o.\u0275\u0275pipe(18,"translate"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(19,"div",13)(20,"span",14),o.\u0275\u0275text(21),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"button",15),o.\u0275\u0275listener("click",function(){return O.showModal()}),o.\u0275\u0275element(23,"i",16),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(24,"button",17),o.\u0275\u0275element(25,"i",16),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(26,"div",11)(27,"div",18)(28,"div"),o.\u0275\u0275element(29,"i",19),o.\u0275\u0275elementStart(30,"span",20),o.\u0275\u0275text(31),o.\u0275\u0275pipe(32,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(33,"div"),o.\u0275\u0275element(34,"i",21),o.\u0275\u0275elementStart(35,"span",20),o.\u0275\u0275text(36),o.\u0275\u0275pipe(37,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(38,"div",18)(39,"div"),o.\u0275\u0275element(40,"i",22),o.\u0275\u0275elementStart(41,"span",20),o.\u0275\u0275text(42),o.\u0275\u0275pipe(43,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(44,"div",18)(45,"div")(46,"span",23),o.\u0275\u0275text(47),o.\u0275\u0275pipe(48,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(49,"div")(50,"span"),o.\u0275\u0275text(51),o.\u0275\u0275pipe(52,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275template(53,he,5,6,"div",24),o.\u0275\u0275elementEnd()),2&x){const W=o.\u0275\u0275reference(1);o.\u0275\u0275advance(10),o.\u0275\u0275property("type",O.config.type)("data",O.config.data)("options",O.config.options),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(O.ptoService.calculateAvailableHours(O.ptoType)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(18,20,"LABEL.AVAILABLE")),o.\u0275\u0275advance(3),o.\u0275\u0275propertyInterpolate("title",O.ptoType.description),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(O.ptoType.description),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngbPopover",W)("autoClose","inside"),o.\u0275\u0275advance(7),o.\u0275\u0275textInterpolate2("",o.\u0275\u0275pipeBind1(32,22,"LABEL.AVAILABLE"),": ",O.ptoService.calculateAvailableHours(O.ptoType),""),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate2("",o.\u0275\u0275pipeBind1(37,24,"LABEL.PLANNED"),": ",O.ptoType.planned,""),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate2("",o.\u0275\u0275pipeBind1(43,26,"LABEL.TAKEN"),": ",O.ptoType.taken,""),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate2("",o.\u0275\u0275pipeBind1(48,28,"LABEL.TOTAL_ACCRUED"),": ",O.ptoType.accrued,""),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate2("",o.\u0275\u0275pipeBind1(52,30,"LABEL.CARRY_OVER"),": ",O.ptoType.carryover,""),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",O.showViewPtoDetails)}},dependencies:[D.yS,Oe.O5,K.o8,N.ChartComponent,ee.X$],styles:[".chart-container[_ngcontent-%COMP%]{position:relative}.chart-container-details[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:5}.chart-wrapper[_ngcontent-%COMP%]{position:relative;width:180px;height:180px;margin-left:auto;margin-right:auto;z-index:10}[_nghost-%COMP%] > canvas[_ngcontent-%COMP%]{width:100%;height:100%}.pto-chart-tooltip-body[_ngcontent-%COMP%]{margin:15px 0 0}.pto-chart-tooltip-button-size[_ngcontent-%COMP%]{font-size:.6em}"]}),k})();const Ze=["plannedEl"],ie=["takenEl"];let z=(()=>{class k{constructor(x){this.translateService=x}ngOnInit(){this.color=window.getComputedStyle(this.plannedEl.nativeElement).backgroundColor,this.config={type:"doughnut",data:{labels:[this.translateService.instant("LABEL.UNLIMITED")],datasets:[{data:[1],backgroundColor:[this.color],hoverBackgroundColor:[this.color]}]},options:{animation:{animateScale:!1},responsive:!0,maintainAspectRatio:!1,cutoutPercentage:70,title:{display:!1,text:this.translateService.instant("LABEL.UNLIMITED")},legend:{display:!1},tooltips:{enabled:!1}}}}}return k.\u0275fac=function(x){return new(x||k)(o.\u0275\u0275directiveInject(ee.sK))},k.\u0275cmp=o.\u0275\u0275defineComponent({type:k,selectors:[["phr-unlimited-pto-chart"]],viewQuery:function(x,O){if(1&x&&(o.\u0275\u0275viewQuery(Ze,7),o.\u0275\u0275viewQuery(ie,7)),2&x){let W;o.\u0275\u0275queryRefresh(W=o.\u0275\u0275loadQuery())&&(O.plannedEl=W.first),o.\u0275\u0275queryRefresh(W=o.\u0275\u0275loadQuery())&&(O.takenEl=W.first)}},inputs:{ptoType:"ptoType"},decls:37,vars:16,consts:[["hidden","true",1,"bg-primary"],["availableEl",""],["hidden","true",1,"bg-success"],["plannedEl",""],["hidden","true",1,"bg-danger"],["takenEl",""],[1,"chart-container","mb-2"],[1,"chart-wrapper","d-flex","justify-content-center"],[3,"type","data","options"],[1,"d-flex","justify-content-center","chart-container-details"],[1,"text-center"],[1,"text-warning",2,"margin-top","80px"],[1,"w-100","text-center","text-truncate","font-weight-bold",2,"font-size","1.2em",3,"title"],[1,"d-flex","flex-wrap","justify-content-center"],[1,"mr-2"]],template:function(x,O){1&x&&(o.\u0275\u0275element(0,"div",0,1)(2,"div",2,3)(4,"div",4,5),o.\u0275\u0275elementStart(6,"div",6)(7,"div",7),o.\u0275\u0275element(8,"chart",8),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(9,"div",9)(10,"div",10)(11,"h5",11)(12,"strong"),o.\u0275\u0275text(13),o.\u0275\u0275pipe(14,"translate"),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275elementStart(15,"div",12),o.\u0275\u0275text(16),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(17,"div",10)(18,"div",13)(19,"div",14)(20,"span"),o.\u0275\u0275text(21),o.\u0275\u0275pipe(22,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(23,"div")(24,"span"),o.\u0275\u0275text(25),o.\u0275\u0275pipe(26,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(27,"div",13)(28,"div"),o.\u0275\u0275element(29,"span",14),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(30,"div"),o.\u0275\u0275element(31,"span"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(32,"div",13)(33,"div"),o.\u0275\u0275element(34,"span",14),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(35,"div"),o.\u0275\u0275element(36,"span"),o.\u0275\u0275elementEnd()()()),2&x&&(o.\u0275\u0275advance(8),o.\u0275\u0275property("type",O.config.type)("data",O.config.data)("options",O.config.options),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(14,10,"LABEL.UNLIMITED")),o.\u0275\u0275advance(2),o.\u0275\u0275propertyInterpolate("title",O.ptoType.description),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",O.ptoType.description," "),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate2("",o.\u0275\u0275pipeBind1(22,12,"LABEL.PLANNED"),": ",O.ptoType.planned,""),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate2("",o.\u0275\u0275pipeBind1(26,14,"LABEL.TAKEN"),": ",O.ptoType.taken,""))},dependencies:[N.ChartComponent,ee.X$],styles:[".chart-container[_ngcontent-%COMP%]{position:relative}.chart-container-details[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:5}.chart-wrapper[_ngcontent-%COMP%]{position:relative;width:180px;height:180px;margin-left:auto;margin-right:auto;z-index:10}[_nghost-%COMP%] > canvas[_ngcontent-%COMP%]{width:100%;height:100%}"]}),k})();function oe(k,te){if(1&k){const x=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",7),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(x);const W=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(W.ptoRequestRedirect.emit())}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}2&k&&(o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,"LABEL.REQUEST_TIME_OFF")," "))}function w(k,te){1&k&&o.\u0275\u0275element(0,"div",8)}function B(k,te){1&k&&o.\u0275\u0275element(0,"phr-block-loader")}function Q(k,te){if(1&k&&o.\u0275\u0275element(0,"phr-pto-chart",21),2&k){const x=o.\u0275\u0275nextContext().$implicit,O=o.\u0275\u0275nextContext(2);o.\u0275\u0275property("ptoType",x)("showViewPtoDetails",O.showViewPtoDetails)}}function ue(k,te){if(1&k&&o.\u0275\u0275element(0,"phr-unlimited-pto-chart",22),2&k){const x=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275property("ptoType",x)}}function q(k,te){if(1&k&&(o.\u0275\u0275elementStart(0,"ngu-item",17)(1,"div",18),o.\u0275\u0275template(2,Q,1,2,"phr-pto-chart",19),o.\u0275\u0275template(3,ue,1,1,"phr-unlimited-pto-chart",20),o.\u0275\u0275elementEnd()()),2&k){const x=te.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf","UL"!==x.losBasis),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf","UL"===x.losBasis)}}function Ye(k,te){1&k&&o.\u0275\u0275element(0,"div",23)}function pt(k,te){if(1&k){const x=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div")(1,"ngu-carousel",9),o.\u0275\u0275template(2,q,4,2,"ngu-item",10),o.\u0275\u0275elementStart(3,"button",11),o.\u0275\u0275element(4,"i",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"button",13),o.\u0275\u0275element(6,"i",14),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(7,Ye,1,0,"div",15),o.\u0275\u0275elementStart(8,"phr-pto-timeoff-details",16),o.\u0275\u0275listener("requestCancelled",function(){o.\u0275\u0275restoreView(x);const W=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(W.onRequestCancelled)}),o.\u0275\u0275elementEnd()()}if(2&k){const x=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("inputs",x.carouselSettings)("dataSource",x.ptoTypes),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngIf",!x.loading),o.\u0275\u0275advance(1),o.\u0275\u0275property("employeeId",x.employeeId)("clientId",x.clientId)("ptoHistory",x.ptoHistory)("isTemplatePTOReadOnly",x.isTemplatePTOReadOnly)("canManagerRequestCancelPTO",x.canManagerRequestCancelPTO)("showResendRequest",x.showResendRequest)("ptoRequests",x.ptoRequests)}}let ke=(()=>{class k{constructor(x,O){this.ptoService=x,this.configService=O,this.ptoTypes=[],this.pageNumber=0,this.loading=!1,this.showViewPtoDetails=!1,this.showResendRequest=!1,this.requestCancelled=new o.EventEmitter,this.ptoRequestRedirect=new o.EventEmitter,this.ptoRequests=[],this.ptoHistory=[],this.canManagerRequestCancelPTO=!0,this.isTemplatePTOReadOnly=!1,this.carouselSettings={grid:{xs:1,sm:1,md:2,lg:3,all:0},slide:1,loop:!1,speed:400,point:{visible:!0,hideOnSingleSlide:!0},touch:!0,easing:"ease"},this.configService.config&&(this.isTemplatePTOReadOnly=O.config.ptoReadOnly)}ngOnInit(){this.loadData()}onRequestCancelled(x){this.requestCancelled.emit(x)}isRequestAndCancelPTOAllowed(){return!this.isTemplatePTOReadOnly&&this.canManagerRequestCancelPTO}hasValidStatus(x){return[V.APPROVED,V.PENDING_APPROVAL].includes(x)}loadData(){this.loading=!0;const x=[this.ptoService.getEmployeePtoTypes(this.employeeId,this.clientId),this.ptoService.getEmployeePtoRequests(this.employeeId,this.clientId),this.ptoService.getEmployeePtoHistory(this.employeeId,this.clientId)];(0,I.D)(x).subscribe(O=>{this.ptoTypes=O[0],this.ptoRequests=O[1],this.ptoHistory=O[2];const W=X()().format("MM/DD/YYYY");for(const R of this.ptoRequests){let Be=!1,Tt=!1;R.status===V.APPROVED&&X()(R.startDate,"MM/DD/YYYY").isSameOrBefore(W)&&(Be=!0),R.status===V.APPROVED&&R.batchLinks.length>0&&(Tt=!0),R.canCancel=!(Be||Tt)&&this.canManagerRequestCancelPTO&&this.hasValidStatus(R.status),R.canResend=this.showResendRequest&&R.status===V.PENDING_APPROVAL}this.loading=!1},O=>{this.loading=!1,console.log(O)})}}return k.\u0275fac=function(x){return new(x||k)(o.\u0275\u0275directiveInject(ne.M),o.\u0275\u0275directiveInject(fe.oV))},k.\u0275cmp=o.\u0275\u0275defineComponent({type:k,selectors:[["phr-pto-details"]],inputs:{ptoTypes:"ptoTypes",loading:"loading",employeeId:"employeeId",clientId:"clientId",showViewPtoDetails:"showViewPtoDetails",showResendRequest:"showResendRequest",ptoRequests:"ptoRequests",ptoHistory:"ptoHistory",pageTitle:"pageTitle",canManagerRequestCancelPTO:"canManagerRequestCancelPTO",isTemplatePTOReadOnly:"isTemplatePTOReadOnly"},outputs:{requestCancelled:"requestCancelled",ptoRequestRedirect:"ptoRequestRedirect"},decls:9,vars:11,consts:[[1,"border","border-top-0","border-left-0","border-right-0","mb-2"],[3,"pageTitle","showHeading"],[1,"d-flex","justify-content-end","text-center"],[3,"ptoTypes","clientId","employeeId"],["tabindex","1","class","btn btn-primary",3,"click",4,"ngIf"],["class","mt-2",4,"ngIf"],[4,"ngIf"],["tabindex","1",1,"btn","btn-primary",3,"click"],[1,"mt-2"],[3,"inputs","dataSource"],["NguCarouselItem","",4,"nguCarouselDef"],["NguCarouselPrev","",1,"leftRs","btn-primary","btn","btn-sm"],["aria-hidden","true",1,"fas","fa-angle-left"],["NguCarouselNext","",1,"rightRs","btn-primary","btn","btn-sm"],["aria-hidden","true",1,"fas","fa-angle-right"],["class","row justify-content-center mb-3",4,"ngIf"],[3,"employeeId","clientId","ptoHistory","isTemplatePTOReadOnly","canManagerRequestCancelPTO","showResendRequest","ptoRequests","requestCancelled"],["NguCarouselItem",""],[1,"p-3","chart-container"],[3,"ptoType","showViewPtoDetails",4,"ngIf"],[3,"ptoType",4,"ngIf"],[3,"ptoType","showViewPtoDetails"],[3,"ptoType"],[1,"row","justify-content-center","mb-3"]],template:function(x,O){1&x&&(o.\u0275\u0275elementStart(0,"div",0)(1,"phr-page-heading",1)(2,"div",2)(3,"div"),o.\u0275\u0275element(4,"phr-estimate-pto",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,oe,3,3,"a",4),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275template(6,w,1,0,"div",5),o.\u0275\u0275template(7,B,1,0,"phr-block-loader",6),o.\u0275\u0275template(8,pt,9,10,"div",6)),2&x&&(o.\u0275\u0275advance(1),o.\u0275\u0275propertyInterpolate("pageTitle",O.pageTitle),o.\u0275\u0275property("showHeading",!0),o.\u0275\u0275advance(2),o.\u0275\u0275classProp("mr-2",O.isRequestAndCancelPTOAllowed()),o.\u0275\u0275advance(1),o.\u0275\u0275property("ptoTypes",O.ptoTypes)("clientId",O.clientId)("employeeId",O.employeeId),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",O.isRequestAndCancelPTOAllowed()),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",O.loading),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",O.loading),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!O.loading))},dependencies:[Ee.rC,Ee.nN,Ee.s5,Ee.Wc,Ee.Vy,Ee.Mg,Oe.O5,nt.F,Ce.E,Mt,le,st,z,ee.X$],styles:["ngu-carousel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{min-height:200px;background-color:#fff;text-align:center;line-height:200px}ngu-carousel[_ngcontent-%COMP%]   .leftRs[_ngcontent-%COMP%]{position:absolute;margin:auto;top:0;bottom:0;width:50px;height:50px;left:0;z-index:99}ngu-carousel[_ngcontent-%COMP%]   .rightRs[_ngcontent-%COMP%]{position:absolute;margin:auto;top:0;bottom:0;width:50px;height:50px;right:0;z-index:99}ngu-carousel[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;background-color:#fff;margin:10px}"]}),k})()},14595:(He,ge,T)=>{"use strict";T.d(ge,{H:()=>Tr});var o=T(94650),I=T(17489),Z=T(56065),X=T(28115),V=T(40833),fe=T(80953);function Ee(m){(0,V.Z)(1,arguments);var y=(0,fe.Z)(m);return!isNaN(y)}var Oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ce(m){return function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=y.width?String(y.width):m.defaultWidth,g=m.formats[p]||m.formats[m.defaultWidth];return g}}var Y={date:Ce({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ce({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ce({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},F={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function re(m){return function(y,p){var L,g=p||{};if("formatting"===(g.context?String(g.context):"standalone")&&m.formattingValues){var ae=m.defaultFormattingWidth||m.defaultWidth,_e=g.width?String(g.width):ae;L=m.formattingValues[_e]||m.formattingValues[ae]}else{var Me=m.defaultWidth,we=g.width?String(g.width):m.defaultWidth;L=m.values[we]||m.values[Me]}return L[m.argumentCallback?m.argumentCallback(y):y]}}function ht(m){return function(y){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=y.match(m.matchPattern);if(!g)return null;var E=g[0],L=y.match(m.parsePattern);if(!L)return null;var ae=m.valueCallback?m.valueCallback(L[0]):L[0];ae=p.valueCallback?p.valueCallback(ae):ae;var _e=y.slice(E.length);return{value:ae,rest:_e}}}function Re(m){return function(y){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=p.width,E=g&&m.matchPatterns[g]||m.matchPatterns[m.defaultMatchWidth],L=y.match(E);if(!L)return null;var we,ae=L[0],_e=g&&m.parsePatterns[g]||m.parsePatterns[m.defaultParseWidth],Me=Array.isArray(_e)?Ne(_e,function(Ge){return Ge.test(ae)}):at(_e,function(Ge){return Ge.test(ae)});we=m.valueCallback?m.valueCallback(Me):Me,we=p.valueCallback?p.valueCallback(we):we;var Ke=y.slice(ae.length);return{value:we,rest:Ke}}}function at(m,y){for(var p in m)if(m.hasOwnProperty(p)&&y(m[p]))return p}function Ne(m,y){for(var p=0;p<m.length;p++)if(y(m[p]))return p}const Se={code:"en-US",formatDistance:function nt(m,y,p){var g;return p=p||{},g="string"==typeof Oe[m]?Oe[m]:1===y?Oe[m].one:Oe[m].other.replace("{{count}}",y),p.addSuffix?p.comparison>0?"in "+g:g+" ago":g},formatLong:Y,formatRelative:function G(m,y,p,g){return F[m]},localize:{ordinalNumber:function pe(m,y){var p=Number(m),g=p%100;if(g>20||g<10)switch(g%10){case 1:return p+"st";case 2:return p+"nd";case 3:return p+"rd"}return p+"th"},era:re({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:re({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(m){return Number(m)-1}}),month:re({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:re({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:re({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ht({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(m){return parseInt(m,10)}}),era:Re({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Re({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(m){return m+1}}),month:Re({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Re({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Re({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function he(m){if(null===m||!0===m||!1===m)return NaN;var y=Number(m);return isNaN(y)?y:y<0?Math.ceil(y):Math.floor(y)}function st(m,y){(0,V.Z)(2,arguments);var p=(0,fe.Z)(m).getTime(),g=he(y);return new Date(p+g)}function Ze(m,y){(0,V.Z)(2,arguments);var p=he(y);return st(m,-p)}function ie(m,y){for(var p=m<0?"-":"",g=Math.abs(m).toString();g.length<y;)g="0"+g;return p+g}const oe_y=function(m,y){var p=m.getUTCFullYear(),g=p>0?p:1-p;return ie("yy"===y?g%100:g,y.length)},oe_M=function(m,y){var p=m.getUTCMonth();return"M"===y?String(p+1):ie(p+1,2)},oe_d=function(m,y){return ie(m.getUTCDate(),y.length)},oe_h=function(m,y){return ie(m.getUTCHours()%12||12,y.length)},oe_H=function(m,y){return ie(m.getUTCHours(),y.length)},oe_m=function(m,y){return ie(m.getUTCMinutes(),y.length)},oe_s=function(m,y){return ie(m.getUTCSeconds(),y.length)},oe_S=function(m,y){var p=y.length,g=m.getUTCMilliseconds();return ie(Math.floor(g*Math.pow(10,p-3)),y.length)};var w=864e5;function Q(m){(0,V.Z)(1,arguments);var y=1,p=(0,fe.Z)(m),g=p.getUTCDay(),E=(g<y?7:0)+g-y;return p.setUTCDate(p.getUTCDate()-E),p.setUTCHours(0,0,0,0),p}function ue(m){(0,V.Z)(1,arguments);var y=(0,fe.Z)(m),p=y.getUTCFullYear(),g=new Date(0);g.setUTCFullYear(p+1,0,4),g.setUTCHours(0,0,0,0);var E=Q(g),L=new Date(0);L.setUTCFullYear(p,0,4),L.setUTCHours(0,0,0,0);var ae=Q(L);return y.getTime()>=E.getTime()?p+1:y.getTime()>=ae.getTime()?p:p-1}function q(m){(0,V.Z)(1,arguments);var y=ue(m),p=new Date(0);p.setUTCFullYear(y,0,4),p.setUTCHours(0,0,0,0);var g=Q(p);return g}var Ye=6048e5;function ke(m,y){(0,V.Z)(1,arguments);var p=y||{},g=p.locale,E=g&&g.options&&g.options.weekStartsOn,L=null==E?0:he(E),ae=null==p.weekStartsOn?L:he(p.weekStartsOn);if(!(ae>=0&&ae<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var _e=(0,fe.Z)(m),Me=_e.getUTCDay(),we=(Me<ae?7:0)+Me-ae;return _e.setUTCDate(_e.getUTCDate()-we),_e.setUTCHours(0,0,0,0),_e}function k(m,y){(0,V.Z)(1,arguments);var p=(0,fe.Z)(m,y),g=p.getUTCFullYear(),E=y||{},L=E.locale,ae=L&&L.options&&L.options.firstWeekContainsDate,_e=null==ae?1:he(ae),Me=null==E.firstWeekContainsDate?_e:he(E.firstWeekContainsDate);if(!(Me>=1&&Me<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var we=new Date(0);we.setUTCFullYear(g+1,0,Me),we.setUTCHours(0,0,0,0);var Ke=ke(we,y),Ge=new Date(0);Ge.setUTCFullYear(g,0,Me),Ge.setUTCHours(0,0,0,0);var xt=ke(Ge,y);return p.getTime()>=Ke.getTime()?g+1:p.getTime()>=xt.getTime()?g:g-1}function te(m,y){(0,V.Z)(1,arguments);var p=y||{},g=p.locale,E=g&&g.options&&g.options.firstWeekContainsDate,L=null==E?1:he(E),ae=null==p.firstWeekContainsDate?L:he(p.firstWeekContainsDate),_e=k(m,y),Me=new Date(0);Me.setUTCFullYear(_e,0,ae),Me.setUTCHours(0,0,0,0);var we=ke(Me,y);return we}var x=6048e5;function Be(m,y){var p=m>0?"-":"+",g=Math.abs(m),E=Math.floor(g/60),L=g%60;if(0===L)return p+String(E);var ae=y||"";return p+String(E)+ae+ie(L,2)}function Tt(m,y){return m%60==0?(m>0?"-":"+")+ie(Math.abs(m)/60,2):vt(m,y)}function vt(m,y){var p=y||"",g=m>0?"-":"+",E=Math.abs(m);return g+ie(Math.floor(E/60),2)+p+ie(E%60,2)}const en={G:function(m,y,p){var g=m.getUTCFullYear()>0?1:0;switch(y){case"G":case"GG":case"GGG":return p.era(g,{width:"abbreviated"});case"GGGGG":return p.era(g,{width:"narrow"});default:return p.era(g,{width:"wide"})}},y:function(m,y,p){if("yo"===y){var g=m.getUTCFullYear();return p.ordinalNumber(g>0?g:1-g,{unit:"year"})}return oe_y(m,y)},Y:function(m,y,p,g){var E=k(m,g),L=E>0?E:1-E;return"YY"===y?ie(L%100,2):"Yo"===y?p.ordinalNumber(L,{unit:"year"}):ie(L,y.length)},R:function(m,y){return ie(ue(m),y.length)},u:function(m,y){return ie(m.getUTCFullYear(),y.length)},Q:function(m,y,p){var g=Math.ceil((m.getUTCMonth()+1)/3);switch(y){case"Q":return String(g);case"QQ":return ie(g,2);case"Qo":return p.ordinalNumber(g,{unit:"quarter"});case"QQQ":return p.quarter(g,{width:"abbreviated",context:"formatting"});case"QQQQQ":return p.quarter(g,{width:"narrow",context:"formatting"});default:return p.quarter(g,{width:"wide",context:"formatting"})}},q:function(m,y,p){var g=Math.ceil((m.getUTCMonth()+1)/3);switch(y){case"q":return String(g);case"qq":return ie(g,2);case"qo":return p.ordinalNumber(g,{unit:"quarter"});case"qqq":return p.quarter(g,{width:"abbreviated",context:"standalone"});case"qqqqq":return p.quarter(g,{width:"narrow",context:"standalone"});default:return p.quarter(g,{width:"wide",context:"standalone"})}},M:function(m,y,p){var g=m.getUTCMonth();switch(y){case"M":case"MM":return oe_M(m,y);case"Mo":return p.ordinalNumber(g+1,{unit:"month"});case"MMM":return p.month(g,{width:"abbreviated",context:"formatting"});case"MMMMM":return p.month(g,{width:"narrow",context:"formatting"});default:return p.month(g,{width:"wide",context:"formatting"})}},L:function(m,y,p){var g=m.getUTCMonth();switch(y){case"L":return String(g+1);case"LL":return ie(g+1,2);case"Lo":return p.ordinalNumber(g+1,{unit:"month"});case"LLL":return p.month(g,{width:"abbreviated",context:"standalone"});case"LLLLL":return p.month(g,{width:"narrow",context:"standalone"});default:return p.month(g,{width:"wide",context:"standalone"})}},w:function(m,y,p,g){var E=function O(m,y){(0,V.Z)(1,arguments);var p=(0,fe.Z)(m),g=ke(p,y).getTime()-te(p,y).getTime();return Math.round(g/x)+1}(m,g);return"wo"===y?p.ordinalNumber(E,{unit:"week"}):ie(E,y.length)},I:function(m,y,p){var g=function pt(m){(0,V.Z)(1,arguments);var y=(0,fe.Z)(m),p=Q(y).getTime()-q(y).getTime();return Math.round(p/Ye)+1}(m);return"Io"===y?p.ordinalNumber(g,{unit:"week"}):ie(g,y.length)},d:function(m,y,p){return"do"===y?p.ordinalNumber(m.getUTCDate(),{unit:"date"}):oe_d(m,y)},D:function(m,y,p){var g=function B(m){(0,V.Z)(1,arguments);var y=(0,fe.Z)(m),p=y.getTime();y.setUTCMonth(0,1),y.setUTCHours(0,0,0,0);var g=y.getTime();return Math.floor((p-g)/w)+1}(m);return"Do"===y?p.ordinalNumber(g,{unit:"dayOfYear"}):ie(g,y.length)},E:function(m,y,p){var g=m.getUTCDay();switch(y){case"E":case"EE":case"EEE":return p.day(g,{width:"abbreviated",context:"formatting"});case"EEEEE":return p.day(g,{width:"narrow",context:"formatting"});case"EEEEEE":return p.day(g,{width:"short",context:"formatting"});default:return p.day(g,{width:"wide",context:"formatting"})}},e:function(m,y,p,g){var E=m.getUTCDay(),L=(E-g.weekStartsOn+8)%7||7;switch(y){case"e":return String(L);case"ee":return ie(L,2);case"eo":return p.ordinalNumber(L,{unit:"day"});case"eee":return p.day(E,{width:"abbreviated",context:"formatting"});case"eeeee":return p.day(E,{width:"narrow",context:"formatting"});case"eeeeee":return p.day(E,{width:"short",context:"formatting"});default:return p.day(E,{width:"wide",context:"formatting"})}},c:function(m,y,p,g){var E=m.getUTCDay(),L=(E-g.weekStartsOn+8)%7||7;switch(y){case"c":return String(L);case"cc":return ie(L,y.length);case"co":return p.ordinalNumber(L,{unit:"day"});case"ccc":return p.day(E,{width:"abbreviated",context:"standalone"});case"ccccc":return p.day(E,{width:"narrow",context:"standalone"});case"cccccc":return p.day(E,{width:"short",context:"standalone"});default:return p.day(E,{width:"wide",context:"standalone"})}},i:function(m,y,p){var g=m.getUTCDay(),E=0===g?7:g;switch(y){case"i":return String(E);case"ii":return ie(E,y.length);case"io":return p.ordinalNumber(E,{unit:"day"});case"iii":return p.day(g,{width:"abbreviated",context:"formatting"});case"iiiii":return p.day(g,{width:"narrow",context:"formatting"});case"iiiiii":return p.day(g,{width:"short",context:"formatting"});default:return p.day(g,{width:"wide",context:"formatting"})}},a:function(m,y,p){var E=m.getUTCHours()/12>=1?"pm":"am";switch(y){case"a":case"aa":return p.dayPeriod(E,{width:"abbreviated",context:"formatting"});case"aaa":return p.dayPeriod(E,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return p.dayPeriod(E,{width:"narrow",context:"formatting"});default:return p.dayPeriod(E,{width:"wide",context:"formatting"})}},b:function(m,y,p){var E,g=m.getUTCHours();switch(E=12===g?"noon":0===g?"midnight":g/12>=1?"pm":"am",y){case"b":case"bb":return p.dayPeriod(E,{width:"abbreviated",context:"formatting"});case"bbb":return p.dayPeriod(E,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return p.dayPeriod(E,{width:"narrow",context:"formatting"});default:return p.dayPeriod(E,{width:"wide",context:"formatting"})}},B:function(m,y,p){var E,g=m.getUTCHours();switch(E=g>=17?"evening":g>=12?"afternoon":g>=4?"morning":"night",y){case"B":case"BB":case"BBB":return p.dayPeriod(E,{width:"abbreviated",context:"formatting"});case"BBBBB":return p.dayPeriod(E,{width:"narrow",context:"formatting"});default:return p.dayPeriod(E,{width:"wide",context:"formatting"})}},h:function(m,y,p){if("ho"===y){var g=m.getUTCHours()%12;return 0===g&&(g=12),p.ordinalNumber(g,{unit:"hour"})}return oe_h(m,y)},H:function(m,y,p){return"Ho"===y?p.ordinalNumber(m.getUTCHours(),{unit:"hour"}):oe_H(m,y)},K:function(m,y,p){var g=m.getUTCHours()%12;return"Ko"===y?p.ordinalNumber(g,{unit:"hour"}):ie(g,y.length)},k:function(m,y,p){var g=m.getUTCHours();return 0===g&&(g=24),"ko"===y?p.ordinalNumber(g,{unit:"hour"}):ie(g,y.length)},m:function(m,y,p){return"mo"===y?p.ordinalNumber(m.getUTCMinutes(),{unit:"minute"}):oe_m(m,y)},s:function(m,y,p){return"so"===y?p.ordinalNumber(m.getUTCSeconds(),{unit:"second"}):oe_s(m,y)},S:function(m,y){return oe_S(m,y)},X:function(m,y,p,g){var L=(g._originalDate||m).getTimezoneOffset();if(0===L)return"Z";switch(y){case"X":return Tt(L);case"XXXX":case"XX":return vt(L);default:return vt(L,":")}},x:function(m,y,p,g){var L=(g._originalDate||m).getTimezoneOffset();switch(y){case"x":return Tt(L);case"xxxx":case"xx":return vt(L);default:return vt(L,":")}},O:function(m,y,p,g){var L=(g._originalDate||m).getTimezoneOffset();switch(y){case"O":case"OO":case"OOO":return"GMT"+Be(L,":");default:return"GMT"+vt(L,":")}},z:function(m,y,p,g){var L=(g._originalDate||m).getTimezoneOffset();switch(y){case"z":case"zz":case"zzz":return"GMT"+Be(L,":");default:return"GMT"+vt(L,":")}},t:function(m,y,p,g){return ie(Math.floor((g._originalDate||m).getTime()/1e3),y.length)},T:function(m,y,p,g){return ie((g._originalDate||m).getTime(),y.length)}};function ye(m,y){switch(m){case"P":return y.date({width:"short"});case"PP":return y.date({width:"medium"});case"PPP":return y.date({width:"long"});default:return y.date({width:"full"})}}function $e(m,y){switch(m){case"p":return y.time({width:"short"});case"pp":return y.time({width:"medium"});case"ppp":return y.time({width:"long"});default:return y.time({width:"full"})}}const $n={p:$e,P:function Dt(m,y){var L,p=m.match(/(P+)(p+)?/),g=p[1],E=p[2];if(!E)return ye(m,y);switch(g){case"P":L=y.dateTime({width:"short"});break;case"PP":L=y.dateTime({width:"medium"});break;case"PPP":L=y.dateTime({width:"long"});break;default:L=y.dateTime({width:"full"})}return L.replace("{{date}}",ye(g,y)).replace("{{time}}",$e(E,y))}};var qn=T(9868),Kn=["D","DD"],f=["YY","YYYY"];function Gn(m){return-1!==Kn.indexOf(m)}function Qn(m){return-1!==f.indexOf(m)}function Cn(m,y,p){if("YYYY"===m)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(y,"`) for formatting years to the input `").concat(p,"`; see: https://git.io/fxCyr"));if("YY"===m)throw new RangeError("Use `yy` instead of `YY` (in `".concat(y,"`) for formatting years to the input `").concat(p,"`; see: https://git.io/fxCyr"));if("D"===m)throw new RangeError("Use `d` instead of `D` (in `".concat(y,"`) for formatting days of the month to the input `").concat(p,"`; see: https://git.io/fxCyr"));if("DD"===m)throw new RangeError("Use `dd` instead of `DD` (in `".concat(y,"`) for formatting days of the month to the input `").concat(p,"`; see: https://git.io/fxCyr"))}var Xn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jn=/^'([^]*?)'?$/,cn=/''/g,lt=/[a-zA-Z]/;function Bt(m,y,p){(0,V.Z)(2,arguments);var g=String(y),E=p||{},L=E.locale||Se,ae=L.options&&L.options.firstWeekContainsDate,_e=null==ae?1:he(ae),Me=null==E.firstWeekContainsDate?_e:he(E.firstWeekContainsDate);if(!(Me>=1&&Me<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var we=L.options&&L.options.weekStartsOn,Ke=null==we?0:he(we),Ge=null==E.weekStartsOn?Ke:he(E.weekStartsOn);if(!(Ge>=0&&Ge<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var xt=(0,fe.Z)(m);if(!Ee(xt))throw new RangeError("Invalid time value");var vn=(0,qn.Z)(xt),qt=Ze(xt,vn),zt={firstWeekContainsDate:Me,weekStartsOn:Ge,locale:L,_originalDate:xt},It=g.match(Zn).map(function(De){var Ue=De[0];return"p"===Ue||"P"===Ue?(0,$n[Ue])(De,L.formatLong,zt):De}).join("").match(Xn).map(function(De){if("''"===De)return"'";var Ue=De[0];if("'"===Ue)return hn(De);var Kt=en[Ue];if(Kt)return!E.useAdditionalWeekYearTokens&&Qn(De)&&Cn(De,y,m),!E.useAdditionalDayOfYearTokens&&Gn(De)&&Cn(De,y,m),Kt(qt,De,L.localize,zt);if(Ue.match(lt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ue+"`");return De}).join("");return It}function hn(m){return m.match(Jn)[1].replace(cn,"'")}var qe=T(24006),_t=T(42466),Sn=T(14811),er=T(52885);let fn=(()=>{class m{constructor(p,g,E,L){this.fb=p,this.translateService=g,this.ptoService=E,this.modalService=L,this._hoursList=[],this._ptoRequests=[],this._errMsg="",this._ptoRequestForm=this.fb.group({type:["",null],startDate:["",null],endDate:["",null],comment:["",null]})}set ptoRequests(p){this._ptoRequests=p}get ptoRequests(){return this._ptoRequests}get defaultTypeOptions(){return[{value:"",display:this.translateService.instant("LABEL.SELECT_ONE")}]}set hoursList(p){this._hoursList=p}get hoursList(){return this._hoursList}get errMsg(){return this._errMsg}get hoursSum(){return this._hoursSum}set includeWeekends(p){this._includeWeekends=p,this.generateHoursList()}get includeWeekends(){return this._includeWeekends}get ptoRequestForm(){return this._ptoRequestForm}get startDate(){return this._ptoRequestForm.controls.startDate}get endDate(){return this._ptoRequestForm.controls.endDate}get type(){return this._ptoRequestForm.controls.type}get comment(){return this._ptoRequestForm.controls.comment}ptoTypeCodeChange(){this.startDate.setValue(""),this.endDate.setValue(""),this.hoursList=[]}getPtoRequestBody(){return{type:this.type.value.id,startDate:this.startDate.value,endDate:this.endDate.value,hours:this.hoursList,comment:this.comment.value}}submitPtoRequest(){return!this.ptoIsUnlimited()&&this.ptoRequestedMoreThanAvailable()?this.showOutOfLimitModal().then(p=>"yes"===p&&this.checkIfPtoHasConflictDays()):this.checkIfPtoHasConflictDays()}showOutOfLimitModal(){const p=this.modalService.open(Z.j,{backdrop:"static"});return p.componentInstance.parentModal=p,p.componentInstance.title=this.translateService.instant("MESSAGE.PTO.CONTINUE_WITH_TIME_OFF_REQUEST"),p.componentInstance.description=this.translateService.instant("MESSAGE.PTO.TIME_OFF_NOT_AVAILABLE"),p.componentInstance.cancelText=this.translateService.instant("ACTION.CANCEL"),p.componentInstance.yesText=this.translateService.instant("ACTION.YES"),p.componentInstance.submitText=this.translateService.instant("ACTION.CONTINUE"),p.result}checkIfPtoHasConflictDays(){return this.ptoHasConflictingDays(this.getPtoRequestBody().hours)?this.showPtoConflictModal().then(p=>"yes"===p):Promise.resolve(!0)}ptoIsUnlimited(){return"UL"===this.type.value.losBasis}ptoRequestedMoreThanAvailable(){return this.sumHoursList()>this.ptoService.calculateAvailableHours(this.type.value)}sumHoursList(){return this.hoursList.reduce((p,g)=>p+g.hours,0)}showPtoConflictModal(){const p=this.modalService.open(Z.j,{backdrop:"static"});return p.componentInstance.parentModal=p,p.componentInstance.title=this.translateService.instant("MESSAGE.ARE_YOU_SURE"),p.componentInstance.description=this.translateService.instant("MESSAGE.PTO.PTO_CONFLICT"),p.componentInstance.cancelText=this.translateService.instant("ACTION.CANCEL"),p.componentInstance.yesText=this.translateService.instant("ACTION.YES"),p.componentInstance.submitText=this.translateService.instant("ACTION.SUBMIT"),p.result}ptoHasConflictingDays(p){return this._ptoRequests.some(g=>g.hours.some(E=>p.some(L=>function ne(m,y){(0,V.Z)(2,arguments);var p=(0,X.Z)(m),g=(0,X.Z)(y);return p.getTime()===g.getTime()}(new Date(E.date),new Date(L.date)))))}generateHoursList(){this.hoursList=[];let p=new Date(this.startDate.value);const g=new Date(this.endDate.value),E=this.includeWeekends;for(;p<=g;){const L=Bt(p,"MM/dd/yyyy");(!E&&p.getDay()>0&&p.getDay()<6||E)&&this.hoursList.push({date:L,hours:8});const ae=p.setDate(p.getDate()+1);p=new Date(ae)}this.validate()}removeDate(p){p.date===this.startDate?.value&&this.startDate?.setValue(this.hoursList?.[1]?.date),p.date===this.endDate?.value&&this.endDate?.setValue(this.hoursList?.[this.hoursList?.length-2]?.date),this.hoursList=this.hoursList.filter(g=>g!==p),this.validate()}validate(){const p=this.type.value;if(p){const g=new Date(this.startDate.value),E=new Date(this.endDate.value),{minHours:L,maxHours:ae,maxDaysPrior:_e,allowRequestArrears:Me,retroDays:we,retroType:Ke}=p,Ge=new Date(p.payPeriodStartDate),xt=Math.abs(g.getTime()-(new Date).getTime()),qt=Math.ceil(xt/864e5),zt=Number(p.maxUsagePerYear),It=this.ptoService.calculateAvailableHours(p),De=this.sumHoursList();this._hoursSum=De;const Ue=It>0?De-It:De+Math.abs(It);this._errMsg=g>E?this.getStartBeforeEndMessage():_e>0&&g>new Date&&qt>_e?this.getYouMayNotRequestDaysMoreThaDaysOutMessage(p.description,_e):"U"===Ke&&g<new Date&&qt-1>we?this.getYouMayNotRequestFarInThePastMessage(p.description):"N"===Ke&&g<Ge?this.getPayrollInProgressMessage():L&&De<L?this.getAtLeastHoursMustBeTakenMessage(L,p.description):ae&&De>ae?this.getMaxHoursCanBeTakenMessage(ae,p.description):It<De&&!Me?this.getYouMayNotMoreThanAvailableMessage(p.description):zt&&De>zt?this.getMaxHoursPerYearMessage(zt,p.description):Me&&De>0&&De>It&&!(0,I.isNil)(p.maxNegativeHours)&&Ue>Number(p.maxNegativeHours)?this.getMaxNegativeHoursMessage(Number(p.maxNegativeHours),Ue):null}else this._errMsg=""}getStartBeforeEndMessage(){return this.translateService.instant("MESSAGE.PTO.ERRORS.START_BEFORE_END")}getYouMayNotRequestDaysMoreThaDaysOutMessage(p,g){return`${this.translateService.instant("MESSAGE.PTO.ERRORS.YOU_MAY_NOT_REQUEST")} ${p} ${this.translateService.instant("MESSAGE.PTO.ERRORS.MORE_THAN")} ${g} ${this.translateService.instant("MESSAGE.PTO.ERRORS.DAYS_OUT")}`}getYouMayNotRequestFarInThePastMessage(p){return`${this.translateService.instant("MESSAGE.PTO.ERRORS.YOU_MAY_NOT_REQUEST")} ${p} ${this.translateService.instant("MESSAGE.PTO.ERRORS.THIS_FAR_IN_THE_PAST")}`}getAtLeastHoursMustBeTakenMessage(p,g){return`${this.translateService.instant("MESSAGE.PTO.ERRORS.AT_LEAST")} ${p} ${this.translateService.instant("MESSAGE.PTO.ERRORS.HOURS_OF")} ${g} ${this.translateService.instant("MESSAGE.PTO.ERRORS.MUST_BE_TAKEN")}`}getMaxHoursCanBeTakenMessage(p,g){return`${this.translateService.instant("MESSAGE.PTO.ERRORS.A_MAXIMUM")} ${p} ${this.translateService.instant("MESSAGE.PTO.ERRORS.HOURS_OF")} ${g} ${this.translateService.instant("MESSAGE.PTO.ERRORS.CAN_BE_TAKEN")}`}getYouMayNotMoreThanAvailableMessage(p){return`${this.translateService.instant("MESSAGE.PTO.ERRORS.YOU_MAY_NOT_TAKE")} ${p} ${this.translateService.instant("MESSAGE.PTO.ERRORS.THAN_AVAILABLE")}`}getMaxHoursPerYearMessage(p,g){return`${this.translateService.instant("MESSAGE.PTO.ERRORS.A_MAXIMUM")} ${p} ${this.translateService.instant("MESSAGE.PTO.ERRORS.HOURS_OF")} ${g} ${this.translateService.instant("MESSAGE.PTO.ERRORS.CAN_BE_TAKEN_PER_YEAR")}`}getPayrollInProgressMessage(){return this.translateService.instant("MESSAGE.PTO.ERRORS.PAYROLL_IN_PROGRESS")}getMaxNegativeHoursMessage(p,g){let E=this.translateService.instant("MESSAGE.PTO.ERRORS.NEGATIVE_PTO_REQUESTED_MESSAGE");return E=E.replace("<X>",p),E=E.replace("<Y>",Math.round(g-p)),E}}return m.\u0275fac=function(p){return new(p||m)(o.\u0275\u0275inject(qe.FormBuilder),o.\u0275\u0275inject(_t.sK),o.\u0275\u0275inject(Sn.M),o.\u0275\u0275inject(er.FF))},m.\u0275prov=o.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac}),m})();var tn=T(68757),ze={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}},rr={date:Ce({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Ce({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Ce({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},wn={lastWeek:"'el' eeee 'pasado a la' LT",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},ar={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"};const pn={code:"es",formatDistance:function ut(m,y,p){var g;return p=p||{},g="string"==typeof ze[m]?ze[m]:1===y?ze[m].one:ze[m].other.replace("{{count}}",y),p.addSuffix?p.comparison>0?"en "+g:"hace "+g:g},formatLong:rr,formatRelative:function ir(m,y,p,g){return 1!==y.getUTCHours()?ar[m]:wn[m]},localize:{ordinalNumber:function On(m){return Number(m)+"\xba"},era:re({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:re({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:function(m){return Number(m)-1}}),month:re({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:re({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sa"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:re({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:ht({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(m){return parseInt(m,10)}}),era:Re({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u\xfa]n|despu[e\xe9]s de cristo|era com[u\xfa]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u\xfa]n)/i,/^(despu[e\xe9]s de cristo|era com[u\xfa]n)/i]},defaultParseWidth:"any"}),quarter:Re({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(m){return m+1}}),month:Re({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:Re({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|sa)/i,abbreviated:/^(dom|lun|mar|mie|jue|vie|sab)/i,wide:/^(domingo|lunes|martes|mi[\xe9e]rcoles|jueves|viernes|s[\xe1a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Re({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (ma\xf1ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma\xf1ana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma\xf1ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function br(m,y){(0,V.Z)(2,arguments);var p=(0,fe.Z)(m),g=he(y);if(isNaN(g))return new Date(NaN);if(!g)return p;var E=p.getDate(),L=new Date(p.getTime());L.setMonth(p.getMonth()+g+1,0);var ae=L.getDate();return E>=ae?L:(p.setFullYear(L.getFullYear(),L.getMonth(),E),p)}function Rn(m,y){(0,V.Z)(2,arguments);var p=he(y);return br(m,12*p)}var Et=T(87224),mt=T(90525),gt=T(36895),An=T(59253),yr=T(57305),bt=T(29785),_r=T(66058);const an=function(m){return{mask:m,guide:!1}};let Fn=(()=>{class m{constructor(){this.valueChange=new o.EventEmitter,this.mask=[/\d/,/\d/]}get minutes(){return this._minutes}set minutes(p){parseInt(p,10)>59&&(p="59"),parseInt(p,10)<0&&(p="0"),this._minutes=p,this.valueChange.emit(this.value)}get hours(){return this._hours}set hours(p){parseInt(p,10)>24&&(p="24"),parseInt(p,10)>23&&(this.minutes=""),parseInt(p,10)<0&&(p="0"),this._hours=p,this.valueChange.emit(this.value)}get value(){const p=parseInt(this.hours,10),g=parseInt(this.minutes,10);return parseFloat(((p||0)+(g||0)/60).toFixed(2))}set value(p){const g=Math.floor(p),ae=Math.round(60*(p-g))||"";this._hours=(g||"").toString(),this._minutes=ae.toString()}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275cmp=o.\u0275\u0275defineComponent({type:m,selectors:[["phr-time-input"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},decls:8,vars:8,consts:[[1,"form-group"],[1,"input-group"],["size","2","maxlength","2","type","text","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","textMask","ngModelChange"],[1,"ml-1","mr-2","pt-1"],[1,"ml-1","pt-1"]],template:function(p,g){1&p&&(o.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"input",2),o.\u0275\u0275listener("ngModelChange",function(L){return g.hours=L}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"span",3),o.\u0275\u0275text(4,"h"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(5,"input",2),o.\u0275\u0275listener("ngModelChange",function(L){return g.minutes=L}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"span",4),o.\u0275\u0275text(7,"m"),o.\u0275\u0275elementEnd()()()),2&p&&(o.\u0275\u0275advance(2),o.\u0275\u0275property("ngModel",g.hours)("textMask",o.\u0275\u0275pureFunction1(4,an,g.mask)),o.\u0275\u0275advance(3),o.\u0275\u0275property("ngModel",g.minutes)("textMask",o.\u0275\u0275pureFunction1(6,an,g.mask)))},dependencies:[qe.DefaultValueAccessor,qe.NgControlStatus,qe.MaxLengthValidator,qe.NgModel,_r.hd],encapsulation:2}),m})(),xr=(()=>{class m{transform(p,g,E){return Bt(new Date(p),g,{locale:E})}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275pipe=o.\u0275\u0275definePipe({name:"localizedDate",type:m,pure:!0}),m})();function Cr(m,y){1&m&&(o.\u0275\u0275elementStart(0,"div",2)(1,"div",26)(2,"strong"),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd()()),2&m&&(o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(4,2,"LABEL.TIP")),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(6,4,"MESSAGE.PTO.REVIEW_HOURS")," "))}function Ln(m,y){if(1&m){const p=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",29)(1,"span")(2,"span",30),o.\u0275\u0275text(3),o.\u0275\u0275pipe(4,"titlecase"),o.\u0275\u0275pipe(5,"localizedDate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(6,"br"),o.\u0275\u0275elementStart(7,"phr-time-input",31),o.\u0275\u0275listener("valueChange",function(E){const ae=o.\u0275\u0275restoreView(p).$implicit;return o.\u0275\u0275resetView(ae.hours=E)})("valueChange",function(){o.\u0275\u0275restoreView(p);const E=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(E.validate())}),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(8,"span",32)(9,"button",33),o.\u0275\u0275listener("click",function(){const L=o.\u0275\u0275restoreView(p).$implicit,ae=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(ae.removeDate(L))}),o.\u0275\u0275element(10,"i",34),o.\u0275\u0275elementEnd()()()}if(2&m){const p=y.$implicit,g=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(4,2,o.\u0275\u0275pipeBind3(5,4,p.date,"E MM/dd/yyyy",g.locale))),o.\u0275\u0275advance(4),o.\u0275\u0275property("value",p.hours)}}function Sr(m,y){if(1&m&&(o.\u0275\u0275elementStart(0,"div",27),o.\u0275\u0275template(1,Ln,11,8,"div",28),o.\u0275\u0275elementEnd()),2&m){const p=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",p.ptoFormService.hoursList)}}function Mr(m,y){if(1&m&&(o.\u0275\u0275elementStart(0,"div",35)(1,"strong"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275pipe(4,"translate"),o.\u0275\u0275elementEnd()()),2&m){const p=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate3("",o.\u0275\u0275pipeBind1(3,3,"LABEL.REQUEST_TOTAL"),": ",p.ptoFormService.hoursSum," ",o.\u0275\u0275pipeBind1(4,5,"LABEL.HOURS"),"")}}function Pr(m,y){if(1&m){const p=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"button",36),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(p);const E=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(E.submitPtoRequest())}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}if(2&m){const p=o.\u0275\u0275nextContext();o.\u0275\u0275property("disabled",!p.ptoFormService.ptoRequestForm.valid||p.ptoFormService.errMsg||p.isProxyUser),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,2,"ACTION.SUBMIT")," ")}}function Ot(m,y){1&m&&(o.\u0275\u0275elementStart(0,"button",37),o.\u0275\u0275element(1,"i",38),o.\u0275\u0275elementEnd())}const wr=function(){return{standalone:!0}};let Tr=(()=>{class m{constructor(p,g,E){this.ptoFormService=p,this.translateService=g,this.userStateService=E,this.save=new o.EventEmitter,this.cancel=new o.EventEmitter,this.typeOptions=this.ptoFormService.defaultTypeOptions,this.minPtoDate=Bt(function rn(m,y){(0,V.Z)(2,arguments);var p=he(y);return Rn(m,-p)}(new Date,1),"MM/dd/yyyy"),this.maxPtoDate=Bt(Rn(new Date,2),"MM/dd/yyyy")}get locale(){return"es"===this.translateService.currentLang?pn:Se}ngOnChanges(p){(0,tn.t$)(p.ptoRequests?.currentValue)&&(this.ptoFormService.ptoRequests=this.ptoRequests),(0,tn.t$)(p.ptoTypes?.currentValue)&&this.setPtoTypeOptions()}ngOnInit(){this.userStateService.session$.pipe((0,Et.P)()).subscribe(p=>{this.isProxyUser=!!p?.proxyInfo})}ptoTypeCodeChange(){this.ptoFormService.ptoTypeCodeChange()}generateHoursList(){this.ptoFormService.generateHoursList()}removeDate(p){this.ptoFormService.removeDate(p)}validate(){this.ptoFormService.validate()}submitPtoRequest(){this.saving=!0,this.ptoFormService.submitPtoRequest().then(p=>{p?this.save.emit(this.ptoFormService.getPtoRequestBody()):this.saving=!1})}setPtoTypeOptions(){this.typeOptions=this.ptoTypes.reduce((p,g)=>[...p,{value:g,display:g.description}],this.ptoFormService.defaultTypeOptions)}}return m.\u0275fac=function(p){return new(p||m)(o.\u0275\u0275directiveInject(fn),o.\u0275\u0275directiveInject(_t.sK),o.\u0275\u0275directiveInject(mt.P))},m.\u0275cmp=o.\u0275\u0275defineComponent({type:m,selectors:[["phr-pto-request-form"]],inputs:{saving:"saving",ptoRequests:"ptoRequests",ptoTypes:"ptoTypes"},outputs:{save:"save",cancel:"cancel"},features:[o.\u0275\u0275ProvidersFeature([fn]),o.\u0275\u0275NgOnChangesFeature],decls:48,vars:45,consts:[[3,"formGroup"],[1,"card","mb-3"],[1,"card-body"],[1,"row"],[1,"col"],["required","",3,"label","options","control","valueChange"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"disabled","ngModel","ngModelOptions","ngModelChange"],[1,"custom-control-label"],[1,"custom-control-description"],["id","startData",1,"col-12","col-lg-6"],["required","",3,"label","disabled","control","maxDate","minDate","valueChange"],["id","endData",1,"col-12","col-lg-6"],[3,"label","disabled","control"],[1,"card"],[1,"card-header","d-flex","justify-content-start"],["type","button",1,"ml-auto","btn","btn-primary","btn-sm",3,"click"],["aria-hidden","true",1,"fas","fa-undo"],["class","card-body",4,"ngIf"],["class","card-body","style","max-height: 300px; overflow-y: auto",4,"ngIf"],["class","card-footer","style","max-height: 300px; overflow-y: auto",4,"ngIf"],[1,"d-flex","justify-content-start","flex-wrap"],[1,"text-danger","mb-3",3,"hidden"],["type","button","class","btn btn-primary mr-3 mb-2","id","save",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary float-right mr-3 mb-2",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","mr-3","mb-2",3,"click"],["role","alert",1,"alert","alert-info","mb-0"],[1,"card-body",2,"max-height","300px","overflow-y","auto"],["class","d-flex justify-content-start mb-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-start","mb-1"],[1,"align-middle"],[3,"value","valueChange"],[1,"ml-auto"],["type","button",1,"btn","btn-sm","btn-danger","float-right",3,"click"],["aria-hidden","true",1,"fas","fa-trash-alt"],[1,"card-footer",2,"max-height","300px","overflow-y","auto"],["type","button","id","save",1,"btn","btn-primary","mr-3","mb-2",3,"disabled","click"],["type","button",1,"btn","btn-primary","float-right","mr-3","mb-2"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(p,g){1&p&&(o.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"phr-dropdown-control",5),o.\u0275\u0275listener("valueChange",function(){return g.ptoTypeCodeChange()}),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd()()(),o.\u0275\u0275elementStart(7,"div",3)(8,"div",4)(9,"label",6)(10,"input",7),o.\u0275\u0275listener("ngModelChange",function(L){return g.ptoFormService.includeWeekends=L}),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(11,"span",8),o.\u0275\u0275elementStart(12,"span",9),o.\u0275\u0275text(13),o.\u0275\u0275pipe(14,"translate"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(15,"div",3)(16,"div",4)(17,"div",3)(18,"div",10)(19,"phr-date-control",11),o.\u0275\u0275listener("valueChange",function(){return g.generateHoursList()}),o.\u0275\u0275pipe(20,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(21,"div",12)(22,"phr-date-control",11),o.\u0275\u0275listener("valueChange",function(){return g.generateHoursList()}),o.\u0275\u0275pipe(23,"translate"),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275elementStart(24,"div",3)(25,"div",4),o.\u0275\u0275element(26,"phr-control",13),o.\u0275\u0275pipe(27,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(28,"div",3)(29,"div",4)(30,"div",14)(31,"div",15),o.\u0275\u0275text(32),o.\u0275\u0275pipe(33,"translate"),o.\u0275\u0275elementStart(34,"button",16),o.\u0275\u0275listener("click",function(){return g.generateHoursList()}),o.\u0275\u0275element(35,"i",17),o.\u0275\u0275elementEnd()(),o.\u0275\u0275template(36,Cr,7,6,"div",18),o.\u0275\u0275template(37,Sr,2,1,"div",19),o.\u0275\u0275template(38,Mr,5,7,"div",20),o.\u0275\u0275elementEnd()()()()(),o.\u0275\u0275elementStart(39,"div",21)(40,"span",22),o.\u0275\u0275text(41),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(42,"div",21),o.\u0275\u0275template(43,Pr,3,4,"button",23),o.\u0275\u0275template(44,Ot,2,0,"button",24),o.\u0275\u0275elementStart(45,"button",25),o.\u0275\u0275listener("click",function(){return g.cancel.emit()}),o.\u0275\u0275text(46),o.\u0275\u0275pipe(47,"translate"),o.\u0275\u0275elementEnd()()()),2&p&&(o.\u0275\u0275property("formGroup",g.ptoFormService.ptoRequestForm),o.\u0275\u0275advance(5),o.\u0275\u0275propertyInterpolate("label",o.\u0275\u0275pipeBind1(6,30,"LABEL.PTO_TYPE")),o.\u0275\u0275property("options",g.typeOptions)("control",g.ptoFormService.type),o.\u0275\u0275advance(5),o.\u0275\u0275property("disabled",!g.ptoFormService.type.value)("ngModel",g.ptoFormService.includeWeekends)("ngModelOptions",o.\u0275\u0275pureFunction0(44,wr)),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(14,32,"LABEL.INCLUDE_WEEKENDS")),o.\u0275\u0275advance(6),o.\u0275\u0275propertyInterpolate("label",o.\u0275\u0275pipeBind1(20,34,"LABEL.START_DATE")),o.\u0275\u0275property("disabled",!g.ptoFormService.type.value)("control",g.ptoFormService.startDate)("maxDate",g.maxPtoDate)("minDate",g.minPtoDate),o.\u0275\u0275advance(3),o.\u0275\u0275propertyInterpolate("label",o.\u0275\u0275pipeBind1(23,36,"LABEL.END_DATE")),o.\u0275\u0275property("disabled",!g.ptoFormService.type.value)("control",g.ptoFormService.endDate)("maxDate",g.maxPtoDate)("minDate",g.minPtoDate),o.\u0275\u0275advance(4),o.\u0275\u0275propertyInterpolate("label",o.\u0275\u0275pipeBind1(27,38,"LABEL.COMMENT")),o.\u0275\u0275property("disabled",!g.ptoFormService.type.value)("control",g.ptoFormService.comment),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(33,40,"LABEL.REVIEW_HOURS")," "),o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",g.ptoFormService.hoursList.length<1),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",g.ptoFormService.hoursList.length>0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",g.ptoFormService.hoursList.length>0),o.\u0275\u0275advance(2),o.\u0275\u0275property("hidden",!g.ptoFormService.errMsg),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(g.ptoFormService.errMsg),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",!g.saving),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",g.saving),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(47,42,"ACTION.CANCEL")," "))},dependencies:[gt.sg,gt.O5,qe.\u0275NgNoValidate,qe.CheckboxControlValueAccessor,qe.NgControlStatus,qe.NgControlStatusGroup,qe.NgModel,qe.FormGroupDirective,An.S,yr.T,bt.Oz,Fn,_t.X$,gt.rS,xr]}),m})()},43411:(He,ge,T)=>{"use strict";T.r(ge),T.d(ge,{PtoModule:()=>ie});var o=T(34793),I=T(36895),Z=T(24006),X=T(39256),V=T(66058),ne=T(42466),fe=T(52885),Ee=T(25424),Oe=T(14811),nt=T(29415),Ce=T(42437),rt=T(42341),ee=T(98474),S=T(94650),Y=T(27111),K=T(43242),F=T(66402);function G(z,oe){if(1&z){const w=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"phr-pto-details",2),S.\u0275\u0275listener("ptoRequestRedirect",function(){S.\u0275\u0275restoreView(w);const Q=S.\u0275\u0275nextContext();return S.\u0275\u0275resetView(Q.onPtoRequestRedirect())}),S.\u0275\u0275elementEnd()}if(2&z){const w=S.\u0275\u0275nextContext();S.\u0275\u0275property("employeeId",w.employeeId)("clientId",w.clientId)("readonly",w.readonly)("showViewPtoDetails",!0)("showResendRequest",!0)}}let re=(()=>{class z{constructor(w,B,Q,ue,q){this.router=w,this.authService=B,this.breadcrumbService=Q,this.translateService=ue,this.configService=q,this.pageNumber=0,this.loaded=!1,this.readonly=!1}setBreadcrumbs(){this.breadcrumbService.setBreadcrumbItems([{url:"/ess/home"},{url:"/ess/pto"}])}ngOnInit(){this.translateService.onLangChange.subscribe(B=>{this.setBreadcrumbs()}),this.setBreadcrumbs(),this.readonly=this.configService.config.ptoReadOnly,this.authService.loadSession().subscribe(B=>{this.employeeId=B.user.employeeId,this.clientId=B.clientId,this.loaded=!0},B=>{})}onPtoRequestRedirect(){this.router.navigate(["/ess/pto/request"])}}return z.\u0275fac=function(w){return new(w||z)(S.\u0275\u0275directiveInject(o.F0),S.\u0275\u0275directiveInject(Y.e8),S.\u0275\u0275directiveInject(K.Vn),S.\u0275\u0275directiveInject(ne.sK),S.\u0275\u0275directiveInject(Y.oV))},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["ng-component"]],decls:2,vars:1,consts:[[1,"container-fluid"],[3,"employeeId","clientId","readonly","showViewPtoDetails","showResendRequest","ptoRequestRedirect",4,"ngIf"],[3,"employeeId","clientId","readonly","showViewPtoDetails","showResendRequest","ptoRequestRedirect"]],template:function(w,B){1&w&&(S.\u0275\u0275elementStart(0,"div",0),S.\u0275\u0275template(1,G,1,5,"phr-pto-details",1),S.\u0275\u0275elementEnd()),2&w&&(S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",B.loaded))},dependencies:[I.O5,F._],encapsulation:2}),z})();var Xe=T(24096),Ft=T(30567),St=T(92198),Lt=T(87224),ct=T(2994),Mt=T(87545),pe=T(68757),Ie=T(90525),Pt=T(56946),ht=T(34623),Re=T(88452),at=T(14595);function Ne(z,oe){1&z&&S.\u0275\u0275element(0,"phr-block-loader",3)}function it(z,oe){if(1&z){const w=S.\u0275\u0275getCurrentView();S.\u0275\u0275elementStart(0,"div",4)(1,"div",5)(2,"phr-pto-request-form",6),S.\u0275\u0275listener("save",function(Q){S.\u0275\u0275restoreView(w);const ue=S.\u0275\u0275nextContext();return S.\u0275\u0275resetView(ue.submitPtoRequest(Q))})("cancel",function(){S.\u0275\u0275restoreView(w);const Q=S.\u0275\u0275nextContext();return S.\u0275\u0275resetView(Q.cancelPtoRequest())}),S.\u0275\u0275elementEnd()()()}if(2&z){const w=S.\u0275\u0275nextContext();S.\u0275\u0275advance(2),S.\u0275\u0275property("ptoTypes",w.ptoTypes)("ptoRequests",w.ptoRequests)("saving",w.saving)}}let ot=(()=>{class z{constructor(w,B,Q,ue,q,Ye){this.userStateService=w,this.ptoService=B,this.translateService=Q,this.breadcrumbService=ue,this.toastService=q,this.router=Ye,this.loading=!1,this.saving=!1,this.ptoTypes=[],this.ptoRequests=[],this.subscriptions$=new Xe.w}ngOnDestroy(){this.subscriptions$.unsubscribe()}ngOnInit(){this.subscriptions$.add(this.translateService.onLangChange.subscribe(()=>{this.setBreadcrumbs()})),this.setBreadcrumbs(),this.loading=!0,this.userStateService.session$.pipe((0,St.h)(pe.t$),(0,Lt.P)(),(0,ct.b)(w=>this.clientId=w.clientId),(0,ct.b)(w=>this.employeeId=w.user.employeeId),(0,Mt.w)(()=>this.fetchPtoData())).subscribe(()=>this.loading=!1,()=>this.loading=!1)}fetchPtoData(){return(0,Ft.D)([this.ptoService.getEmployeePtoRequests(this.employeeId,this.clientId),this.ptoService.getEmployeePtoTypes(this.employeeId,this.clientId)]).pipe((0,ct.b)(([w,B])=>{this.ptoRequests=w,this.ptoTypes=B}))}setBreadcrumbs(){this.breadcrumbService.setBreadcrumbItems([{url:"/ess/home"},{url:"/ess/pto"},{text:this.translateService.instant("LABEL.REQUEST_TIME_OFF")}])}cancelPtoRequest(){this.router.navigate(["/ess/pto"])}submitPtoRequest(w){this.ptoService.submitPtoRequest(this.clientId,this.employeeId,w).subscribe(()=>{this.toastService.success({text:this.translateService.instant("MESSAGE.PTO_SAVE_SUCCESS")}),this.saving=!1,this.router.navigate(["/ess/pto"])},()=>{this.toastService.error({text:this.translateService.instant("ERROR.SERVER_ERROR")}),this.saving=!1})}}return z.\u0275fac=function(w){return new(w||z)(S.\u0275\u0275directiveInject(Ie.P),S.\u0275\u0275directiveInject(Oe.M),S.\u0275\u0275directiveInject(ne.sK),S.\u0275\u0275directiveInject(K.Vn),S.\u0275\u0275directiveInject(Pt.k),S.\u0275\u0275directiveInject(o.F0))},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["ng-component"]],decls:4,vars:2,consts:[[1,"container-fluid"],["id","loader",4,"ngIf"],["class","row justify-content-center mb-3",4,"ngIf"],["id","loader"],[1,"row","justify-content-center","mb-3"],[1,"col-xl-6","col-lg-8","col-md-10","col-12"],[3,"ptoTypes","ptoRequests","saving","save","cancel"]],template:function(w,B){1&w&&(S.\u0275\u0275elementStart(0,"div",0),S.\u0275\u0275element(1,"phr-page-heading"),S.\u0275\u0275template(2,Ne,1,0,"phr-block-loader",1),S.\u0275\u0275template(3,it,3,3,"div",2),S.\u0275\u0275elementEnd()),2&w&&(S.\u0275\u0275advance(2),S.\u0275\u0275property("ngIf",B.loading),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",!B.loading))},dependencies:[I.O5,ht.F,Re.E,at.H],encapsulation:2}),z})(),ft=(()=>{class z{constructor(w,B){this.router=w,this.configService=B}canActivate(){return this.configService.config&&!this.configService.config.ptoReadOnly||(this.router.navigate(["/ess/pto"]),!1)}}return z.\u0275fac=function(w){return new(w||z)(S.\u0275\u0275inject(o.F0),S.\u0275\u0275inject(Y.oV))},z.\u0275prov=S.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac}),z})();var wt=T(34202),Nt=T(15439),yt=T.n(Nt),H=T(54843),le=T(3270),M=T(14927);let D=(()=>{class z{constructor(w,B,Q,ue){this.tableTranslationsService=w,this.translateService=B,this.i18nService=Q,this.broadcast=ue,this.readonly=!1,this.ptoTypeTransactionTemplates=[],this.searchString="",this.filters=[],this.ptoTransactionCols=[{title:"",localeKey:"LABEL.DATE",sort:pe.ER.DATE,direction:pe.Sr.ASC,enumerable:!0,transform:q=>{if(q){const Ye=yt()(q.replace(/Z$/,""));return Ye.locale(this.translateService.currentLang),Ye.format("MM/DD/YYYY").replace(/^\w/,pt=>pt.toUpperCase())}},property:"date"},{title:"",localeKey:"LABEL.CARRYOVER_HOURS",sort:pe.ER.NUM,enumerable:!1,property:"carryover",transform:q=>q&&Number(q).toFixed(2)},{title:"",localeKey:"LABEL.HOURS_ACCRUED",sort:pe.ER.NUM,enumerable:!1,property:"accrued",transform:q=>q&&Number(q).toFixed(2)},{title:"",localeKey:"LABEL.HOURS_TAKEN",sort:pe.ER.NUM,enumerable:!1,property:"taken",transform:q=>q&&Number(q).toFixed(2)},{title:"",localeKey:"LABEL.DESCRIPTION",sort:pe.ER.ALPHA,enumerable:!1,property:"description"}].map(q=>(q.title=this.translateService.instant(q.localeKey),new pe.hj(q))),this.broadcast.on(this.i18nService.changedEvent).subscribe(q=>{this.localize()})}ngOnInit(){this.initFilters(),this.localize()}initFilters(){this.filters=ee.iZ.buildFilters([new pe.hj({localeKey:"LABEL.YEAR",property:"year",title:"Year",sort:pe.ER.ALPHA,enumerable:!0})],this.ptoType.transactions)}localize(){this.ptoTransactionCols=this.ptoTransactionCols.map(w=>(w.title=this.translateService.instant(w.localeKey),w)),this.filters=this.filters.map(w=>(w.attribute.title=this.translateService.instant(w.attribute.localeKey),w))}get noRowsMessage(){return this.searchString&&this.searchString.length>0||this.filters&&this.filters.some(w=>!ee.iZ.allFieldsSelected(w))?this.translateService.instant("ERROR.NO_ROWS_FILTERS"):this.translateService.instant("ERROR.NO_ROWS")}handleSortChange(w){return this.ptoTransactionCols.map(Q=>(Q.direction=Q.property===w.property?w.direction:null,Q))}handleSearchStringChange(w){this.searchString=w}handleFilterChanged(w){const B=this.filters.findIndex(Q=>Q.attribute.property===w.attribute.property);this.filters[B]=w}handleFiltersChanged(w){this.filters=w}}return z.\u0275fac=function(w){return new(w||z)(S.\u0275\u0275directiveInject(H.L),S.\u0275\u0275directiveInject(ne.sK),S.\u0275\u0275directiveInject(le.D),S.\u0275\u0275directiveInject(M.BroadcastEventService))},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["phr-pto-transaction"]],inputs:{ptoType:"ptoType"},decls:2,vars:13,consts:[[3,"messages","filters","useColumnChooser","tableColumns","searchString","onFilterSelect","searchStringChange","onSearchStringChange","onFiltersChange"],[3,"data","filters","searchString","tableColumns","mobileColCount","itemsPerPage","paginationMessages","noRowsMessage","onSort"]],template:function(w,B){1&w&&(S.\u0275\u0275elementStart(0,"phr-table-controls-component",0),S.\u0275\u0275listener("onFilterSelect",function(ue){return B.handleFilterChanged(ue)})("searchStringChange",function(ue){return B.searchString=ue})("onSearchStringChange",function(ue){return B.handleSearchStringChange(ue)})("onFiltersChange",function(ue){return B.handleFiltersChanged(ue)}),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(1,"phr-table-component",1),S.\u0275\u0275listener("onSort",function(ue){return B.handleSortChange(ue)}),S.\u0275\u0275elementEnd()),2&w&&(S.\u0275\u0275property("messages",B.tableTranslationsService.controlsMessages)("filters",B.filters)("useColumnChooser",!1)("tableColumns",B.ptoTransactionCols)("searchString",B.searchString),S.\u0275\u0275advance(1),S.\u0275\u0275property("data",B.ptoType.transactions)("filters",B.filters)("searchString",B.searchString)("tableColumns",B.ptoTransactionCols)("mobileColCount",2)("itemsPerPage",15)("paginationMessages",B.tableTranslationsService.paginationMessages)("noRowsMessage",B.noRowsMessage))},dependencies:[ee.RT,ee.y],encapsulation:2}),z})(),N=(()=>{class z{constructor(w,B,Q,ue){this.tableTranslationsService=w,this.translateService=B,this.i18nService=Q,this.broadcast=ue,this.readonly=!1,this.searchString="",this.filters=[],this.ptoTypeYearEndCols=[{title:"",localeKey:"LABEL.DATE",sort:pe.ER.DATE,direction:pe.Sr.ASC,enumerable:!1,transform:q=>{if(q){const Ye=yt()(q.replace(/Z$/,""));return Ye.locale(this.translateService.currentLang),Ye.format("MM/DD/YYYY").replace(/^\w/,pt=>pt.toUpperCase())}},property:"date"},{title:"",localeKey:"LABEL.HOURS_ACCRUED",sort:pe.ER.NUM,enumerable:!1,property:"accrued",transform:q=>q&&Number(q).toFixed(2)},{title:"",localeKey:"LABEL.CARRYOVER_HOURS",sort:pe.ER.NUM,enumerable:!1,property:"carryover",transform:q=>q&&Number(q).toFixed(2)},{title:"",localeKey:"LABEL.BALANCE",sort:pe.ER.NUM,enumerable:!1,property:"balance",transform:q=>q&&Number(q).toFixed(2)}].map(q=>(q.title=this.translateService.instant(q.localeKey),new pe.hj(q))),this.broadcast.on(this.i18nService.changedEvent).subscribe(q=>{this.localize()})}ngOnInit(){this.initFilters(),this.localize()}initFilters(){this.filters=ee.iZ.buildFilters([new pe.hj({localeKey:"LABEL.YEAR",property:"year",title:"Year",sort:pe.ER.ALPHA,enumerable:!0})],this.ptoType.transactions)}localize(){this.ptoTypeYearEndCols=this.ptoTypeYearEndCols.map(w=>(w.title=this.translateService.instant(w.localeKey),w)),this.filters=this.filters.map(w=>(w.attribute.title=this.translateService.instant(w.attribute.localeKey),w))}get noRowsMessage(){return this.searchString&&this.searchString.length>0||this.filters&&this.filters.some(w=>!ee.iZ.allFieldsSelected(w))?this.translateService.instant("ERROR.NO_ROWS_FILTERS"):this.translateService.instant("ERROR.NO_ROWS")}handleSortChange(w){return this.ptoTypeYearEndCols.map(Q=>(Q.direction=Q.property===w.property?w.direction:null,Q))}handleSearchStringChange(w){this.searchString=w}handleFilterChanged(w){const B=this.filters.findIndex(Q=>Q.attribute.property===w.attribute.property);this.filters[B]=w}handleFiltersChanged(w){this.filters=w}}return z.\u0275fac=function(w){return new(w||z)(S.\u0275\u0275directiveInject(H.L),S.\u0275\u0275directiveInject(ne.sK),S.\u0275\u0275directiveInject(le.D),S.\u0275\u0275directiveInject(M.BroadcastEventService))},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["phr-pto-year-end"]],inputs:{ptoType:"ptoType"},decls:2,vars:13,consts:[[3,"messages","filters","useColumnChooser","tableColumns","searchString","onFilterSelect","searchStringChange","onSearchStringChange","onFiltersChange"],[3,"data","filters","searchString","tableColumns","mobileColCount","itemsPerPage","paginationMessages","noRowsMessage","onSort"]],template:function(w,B){1&w&&(S.\u0275\u0275elementStart(0,"phr-table-controls-component",0),S.\u0275\u0275listener("onFilterSelect",function(ue){return B.handleFilterChanged(ue)})("searchStringChange",function(ue){return B.searchString=ue})("onSearchStringChange",function(ue){return B.handleSearchStringChange(ue)})("onFiltersChange",function(ue){return B.handleFiltersChanged(ue)}),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(1,"phr-table-component",1),S.\u0275\u0275listener("onSort",function(ue){return B.handleSortChange(ue)}),S.\u0275\u0275elementEnd()),2&w&&(S.\u0275\u0275property("messages",B.tableTranslationsService.controlsMessages)("filters",B.filters)("useColumnChooser",!1)("tableColumns",B.ptoTypeYearEndCols)("searchString",B.searchString),S.\u0275\u0275advance(1),S.\u0275\u0275property("data",B.ptoType.transactions)("filters",B.filters)("searchString",B.searchString)("tableColumns",B.ptoTypeYearEndCols)("mobileColCount",2)("itemsPerPage",15)("paginationMessages",B.tableTranslationsService.paginationMessages)("noRowsMessage",B.noRowsMessage))},dependencies:[ee.RT,ee.y],encapsulation:2}),z})();function J(z,oe){if(1&z&&(S.\u0275\u0275elementStart(0,"div",2),S.\u0275\u0275element(1,"phr-pto-transaction",9),S.\u0275\u0275elementEnd()),2&z){const w=S.\u0275\u0275nextContext();S.\u0275\u0275advance(1),S.\u0275\u0275property("ptoType",w.ptoType)}}function $(z,oe){if(1&z&&(S.\u0275\u0275elementStart(0,"div",2),S.\u0275\u0275element(1,"phr-pto-year-end",9),S.\u0275\u0275elementEnd()),2&z){const w=S.\u0275\u0275nextContext();S.\u0275\u0275advance(1),S.\u0275\u0275property("ptoType",w.ptoType)}}let Ae=(()=>{class z{constructor(w){this.translateService=w,this.tabIds={transactions:"transactions",timeOffYear:"timeOffYear"},this.activeId=this.tabIds.transactions}}return z.\u0275fac=function(w){return new(w||z)(S.\u0275\u0275directiveInject(ne.sK))},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["phr-timeoff-type-details"]],inputs:{ptoType:"ptoType"},decls:31,vars:23,consts:[[1,"d-flex","row","no-gutters","border","w-100","py-2","px-2","bg-white"],[1,"col-6","col-sm-3"],[1,"mt-3"],["ngbNav","",1,"nav-pills","prismhr-nav-pills-underline",3,"activeId","animation","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"ptoType"]],template:function(w,B){if(1&w&&(S.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"b"),S.\u0275\u0275text(3),S.\u0275\u0275pipe(4,"translate"),S.\u0275\u0275elementEnd(),S.\u0275\u0275element(5,"br"),S.\u0275\u0275text(6),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(7,"div",1)(8,"b"),S.\u0275\u0275text(9),S.\u0275\u0275pipe(10,"translate"),S.\u0275\u0275elementEnd(),S.\u0275\u0275element(11,"br"),S.\u0275\u0275text(12),S.\u0275\u0275elementEnd()(),S.\u0275\u0275elementStart(13,"div",2)(14,"ul",3,4),S.\u0275\u0275listener("activeIdChange",function(ue){return B.activeId=ue}),S.\u0275\u0275elementStart(16,"li",5)(17,"a",6)(18,"b"),S.\u0275\u0275text(19),S.\u0275\u0275pipe(20,"uppercase"),S.\u0275\u0275pipe(21,"translate"),S.\u0275\u0275elementEnd()(),S.\u0275\u0275template(22,J,2,1,"ng-template",7),S.\u0275\u0275elementEnd(),S.\u0275\u0275elementStart(23,"li",5)(24,"a",6)(25,"b"),S.\u0275\u0275text(26),S.\u0275\u0275pipe(27,"uppercase"),S.\u0275\u0275pipe(28,"translate"),S.\u0275\u0275elementEnd()(),S.\u0275\u0275template(29,$,2,1,"ng-template",7),S.\u0275\u0275elementEnd()(),S.\u0275\u0275element(30,"div",8),S.\u0275\u0275elementEnd()),2&w){const Q=S.\u0275\u0275reference(15);S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate(S.\u0275\u0275pipeBind1(4,11,"LABEL.TIME_OFF_ACCRUAL")),S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate1(" ",B.ptoType.accruedThruDate," "),S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate(S.\u0275\u0275pipeBind1(10,13,"LABEL.TIME_OFF_YEAR_END")),S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate1(" ",B.ptoType.yearEnd," "),S.\u0275\u0275advance(2),S.\u0275\u0275property("activeId",B.activeId)("animation",!1),S.\u0275\u0275advance(2),S.\u0275\u0275property("ngbNavItem",B.tabIds.transactions),S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate(S.\u0275\u0275pipeBind1(20,15,S.\u0275\u0275pipeBind1(21,17,"LABEL.TIME_OFF_TRANSACTIONS"))),S.\u0275\u0275advance(4),S.\u0275\u0275property("ngbNavItem",B.tabIds.timeOffYear),S.\u0275\u0275advance(3),S.\u0275\u0275textInterpolate(S.\u0275\u0275pipeBind1(27,19,S.\u0275\u0275pipeBind1(28,21,"LABEL.TIME_OFF_YEAR_END"))),S.\u0275\u0275advance(4),S.\u0275\u0275property("ngbNavOutlet",Q)}},dependencies:[fe.uN,fe.Pz,fe.nv,fe.Vx,fe.tO,D,N,ne.X$,I.gd],encapsulation:2}),z})();function ve(z,oe){1&z&&S.\u0275\u0275element(0,"phr-block-loader")}function Se(z,oe){if(1&z&&S.\u0275\u0275element(0,"phr-timeoff-type-details",4),2&z){const w=S.\u0275\u0275nextContext();S.\u0275\u0275property("ptoType",w.ptoType)}}let he=(()=>{class z{constructor(w,B,Q,ue,q){this.authService=w,this.breadcrumbService=B,this.translateService=Q,this.ptoService=ue,this.route=q,this.loading=!0}setBreadcrumbs(){this.breadcrumbService.setBreadcrumbItems([{text:this.translateService.instant("LABEL.DASHBOARD"),url:"/ess/home"},{text:this.translateService.instant("LABEL.PAID_TIME_OFF"),url:"/ess/pto"},{text:this.id+" "+this.translateService.instant("LABEL.DETAILS")}])}ngOnInit(){this.id=decodeURIComponent(this.route.snapshot.params.id),this.translateService.onLangChange.subscribe(w=>{this.setBreadcrumbs()}),this.setBreadcrumbs(),this.loadPtoType().subscribe()}loadPtoType(){return this.loading=!0,new wt.y(w=>{this.authService.loadSession().subscribe(B=>{this.ptoService.getPtoTypeDetail(B.clientId,B.user.employeeId,this.id.replace(/\//g,"%252F")).subscribe(Q=>{this.loading=!1,this.ptoType=Q,w.next(),w.complete()})},B=>this.loading=!1)})}}return z.\u0275fac=function(w){return new(w||z)(S.\u0275\u0275directiveInject(Y.e8),S.\u0275\u0275directiveInject(K.Vn),S.\u0275\u0275directiveInject(ne.sK),S.\u0275\u0275directiveInject(Oe.M),S.\u0275\u0275directiveInject(o.gz))},z.\u0275cmp=S.\u0275\u0275defineComponent({type:z,selectors:[["phr-timeoff-type-details-page"]],decls:5,vars:2,consts:[[1,"container-fluid"],[1,"mb-3"],[4,"ngIf"],["class","w-100",3,"ptoType",4,"ngIf"],[1,"w-100",3,"ptoType"]],template:function(w,B){1&w&&(S.\u0275\u0275elementStart(0,"div",0)(1,"div",1),S.\u0275\u0275element(2,"phr-page-heading"),S.\u0275\u0275template(3,ve,1,0,"phr-block-loader",2),S.\u0275\u0275template(4,Se,1,1,"phr-timeoff-type-details",3),S.\u0275\u0275elementEnd()()),2&w&&(S.\u0275\u0275advance(3),S.\u0275\u0275property("ngIf",B.loading),S.\u0275\u0275advance(1),S.\u0275\u0275property("ngIf",!B.loading))},dependencies:[I.O5,ht.F,Re.E,Ae],encapsulation:2}),z})(),st=(()=>{class z{}return z.\u0275fac=function(w){return new(w||z)},z.\u0275mod=S.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=S.\u0275\u0275defineInjector({imports:[o.Bz.forChild([{path:"",component:re},{path:"request",component:ot,canActivate:[ft]},{path:"details/:id",component:he}]),o.Bz]}),z})();var Ze=T(24586);let ie=(()=>{class z{}return z.\u0275fac=function(w){return new(w||z)},z.\u0275mod=S.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=S.\u0275\u0275defineInjector({providers:[Oe.M,ft],imports:[Ee.vz,o.Bz,ne.aw,I.ez,Z.FormsModule,Z.ReactiveFormsModule,K.pk,nt.j,Ce.L,rt.z,fe.IJ,X.ChartModule,V.QA,st,ee.JT,Ze.p]}),z})()},14811:(He,ge,T)=>{"use strict";T.d(ge,{M:()=>nt});var o=T(34202),I=T(15439),Z=T.n(I),X=T(87224),V=T(94650),ne=T(80529),fe=T(27111),Ee=T(14927);let nt=(()=>{class Ce{constructor(ee,S,Y){this.http=ee,this.domainService=S,this.broadcastService=Y,this.ptoRequestsUrl=this.domainService.getEssApiPath()+"/pto/requests/",this.ptoTypes=[],this.broadcastService.on("clearCache").subscribe(()=>{this.clearCache()})}clearCache(){this.ptoTypes=[]}deleteLeaveRequest(ee,S,Y){const K=`${this.domainService.getEssApiPath()}/clients/${S}/employees/${Y}/pto/requests/${ee}/cancel`;return new o.y(F=>{this.http.delete(K,{withCredentials:!0,responseType:"text"}).subscribe(G=>{F.next(G),F.complete()},G=>{try{const re=JSON.parse(G.error);F.error(re)}catch{F.error({errorCode:1,errorMessage:"Server Error"})}})})}submitPtoRequest(ee,S,Y){return this.http.post(`${this.domainService.getEssApiPath()}/clients/${ee}/employees/${S}/pto-requests`,Y).pipe((0,X.P)())}resendPtoRequest(ee,S,Y){const K=`${this.domainService.getEssApiPath()}/clients/${S}/employees/${Y}/pto/requests/${ee}/resend`;return new o.y(F=>{this.http.post(K,void 0,{withCredentials:!0}).subscribe(G=>{F.next(G),F.complete()},G=>{try{const re=JSON.parse(G.error);F.error(re)}catch{F.error({errorCode:1,errorMessage:"Server Error"})}})})}getEmployeePtoTypes(ee,S){const Y=`${this.domainService.getEssApiPath()}/clients/${S}/employees/${ee}/pto/types`;return new o.y(K=>{this.http.get(Y,{withCredentials:!0}).subscribe(F=>{this.ptoTypes=F,K.next(F),K.complete()},F=>{try{const G=JSON.parse(F.error);K.error(G)}catch{K.error({errorCode:1,errorMessage:"Server Error"})}})})}getEmployeePtoHistory(ee,S){const Y=`${this.domainService.getEssApiPath()}/clients/${S}/employees/${ee}/pto/history`;return new o.y(K=>{this.http.get(Y,{withCredentials:!0}).subscribe(F=>{K.next(F),K.complete()},F=>{try{const G=JSON.parse(F.error);K.error(G)}catch{K.error({errorCode:1,errorMessage:"Server Error"})}})})}getPtoTypeDetail(ee,S,Y){const K=`${this.domainService.getEssApiPath()}/clients/${ee}/employees/${S}/pto/types/${Y}`;return new o.y(F=>{this.http.get(K,{withCredentials:!0}).subscribe(G=>{G.transactions=[],G.transactions.push(...G.accruedTransactions),G.transactions.push(...G.takenTransactions),G.transactions.push(...G.yearEndTransactions);for(const re of G.transactions)re.year=Z()(re.date).format("YYYY"),void 0===re.accrued&&(re.accrued=0),void 0===re.balance&&(re.balance=0),void 0===re.carryover&&(re.carryover=0),void 0===re.date&&(re.date=null),void 0===re.description&&(re.description=""),void 0===re.taken&&(re.taken=0),void 0===re.year&&(re.year="");F.next(G),F.complete()},G=>{try{const re=JSON.parse(G.error);F.error(re)}catch{F.error({errorCode:1,errorMessage:"Server Error"})}})})}getAccrualEstimation(ee,S,Y){const K=`${this.domainService.getEssApiPath()}/clients/${ee}/employees/${S}/pto/types/accrual-estimate`;return new o.y(F=>{this.http.post(K,{toDate:Y},{withCredentials:!0}).subscribe(G=>{F.next(G),F.complete()},G=>{F.error(G)})})}getEmployeePtoRequests(ee,S){const Y=`${this.domainService.getEssApiPath()}/clients/${S}/employees/${ee}/pto/requests`;return new o.y(K=>{this.http.get(Y,{withCredentials:!0}).subscribe(F=>{K.next(F),K.complete()},F=>{try{const G=JSON.parse(F.error);K.error(G)}catch{K.error({errorCode:1,errorMessage:"Server Error"})}})})}calculateAvailableHours(ee){const S=ee.accrued+ee.carryover,Y=ee.planned+ee.taken,K="number"==typeof ee.maxUsagePerYear?Math.min(S,ee.maxUsagePerYear):S;return Number((K-Y).toFixed(2))}}return Ce.\u0275fac=function(ee){return new(ee||Ce)(V.\u0275\u0275inject(ne.eN),V.\u0275\u0275inject(fe.NF),V.\u0275\u0275inject(Ee.BroadcastEventService))},Ce.\u0275prov=V.\u0275\u0275defineInjectable({token:Ce,factory:Ce.\u0275fac}),Ce})()},54843:(He,ge,T)=>{"use strict";T.d(ge,{L:()=>Z});var o=T(94650),I=T(42466);let Z=(()=>{class X{constructor(ne){this.translateService=ne}get paginationMessages(){return{of:this.translateService.instant("LABEL.OF"),view:this.translateService.instant("LABEL.VIEWING"),rows:"Rows"}}get controlsMessages(){return{filter:this.translateService.instant("ACTION.FILTER"),filterTranslations:{all:this.translateService.instant("LABEL.ALL")},search:this.translateService.instant("LABEL.SEARCH"),columnDropdown:{columns:this.translateService.instant("LABEL.COLUMNS"),restore:this.translateService.instant("ACTION.RESTORE_DEFAULTS"),apply:this.translateService.instant("ACTION.APPLY"),cancel:this.translateService.instant("ACTION.CANCEL")},mobileFilterModal:{back:this.translateService.instant("ACTION.BACK"),close:this.translateService.instant("ACTION.CLOSE"),filter:this.translateService.instant("ACTION.FILTER"),reset:this.translateService.instant("ACTION.RESET"),all:this.translateService.instant("LABEL.ALL"),applyFilters:this.translateService.instant("ACTION.APPLY_FILTERS"),ASC:"ASC",DESC:"DESC"}}}}return X.\u0275fac=function(ne){return new(ne||X)(o.\u0275\u0275inject(I.sK))},X.\u0275prov=o.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},29785:(He,ge,T)=>{"use strict";T.d(ge,{Oz:()=>S});var o=T(94650),I=T(93456),Z=T(52885),X=T(3270),V=T(36895),ne=T(24006),fe=T(78126);let Ee=(()=>{class Y{constructor(){this.tabOutside=new o.EventEmitter,this.localEvent=null}compareEvent(F){F!==this.localEvent&&this.tabOutside.emit(F),this.localEvent=null}trackEvent(F){this.localEvent=F}}return Y.\u0275fac=function(F){return new(F||Y)},Y.\u0275dir=o.\u0275\u0275defineDirective({type:Y,selectors:[["","phrTabOutside",""]],hostBindings:function(F,G){1&F&&o.\u0275\u0275listener("keydown.Tab",function(Xe){return G.compareEvent(Xe)},!1,o.\u0275\u0275resolveDocument)("keydown.Tab",function(Xe){return G.trackEvent(Xe)})},outputs:{tabOutside:"tabOutside"}}),Y})();function Oe(Y,K){if(1&Y){const F=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",7),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(F),o.\u0275\u0275nextContext();const re=o.\u0275\u0275reference(4),Xe=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(Xe.control.enabled?re.toggle():null)}),o.\u0275\u0275element(1,"i",8),o.\u0275\u0275elementEnd()}}function nt(Y,K){if(1&Y){const F=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"div",1)(1,"phr-input-label",2),o.\u0275\u0275listener("tabOutside",function(){o.\u0275\u0275restoreView(F);const re=o.\u0275\u0275reference(4);return o.\u0275\u0275resetView(re.close())}),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(2,"div",3)(3,"input",4,5),o.\u0275\u0275listener("focus",function(){o.\u0275\u0275restoreView(F);const re=o.\u0275\u0275reference(4);return o.\u0275\u0275resetView(re.open())})("blur",function(){o.\u0275\u0275restoreView(F);const re=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(re.validateMinMax())}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,Oe,2,0,"div",6),o.\u0275\u0275elementEnd()()}if(2&Y){const F=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("control",F.control)("label",F.label)("boldLabel",F.boldLabel)("required",F.required),o.\u0275\u0275advance(2),o.\u0275\u0275classProp("is-invalid",(F.control.value||F.control.touched)&&F.control.invalid),o.\u0275\u0275property("formControl",F.control)("readonly",F.readonly)("disabled",F.disabled)("firstDayOfWeek",7)("minDate",F._minDate)("maxDate",F._maxDate)("startDate",F._startDate)("autoClose",F.autoClose)("restoreFocus",null),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",!F.readonly)}}const Ce={en:{weekdays:["Mo","Tu","We","Th","Fr","Sa","Su"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},es:{weekdays:["Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}};let rt=(()=>{class Y extends Z.DO{constructor(F){super(),this.ngbDateParserFormatter=F}fromModel(F){return this.ngbDateParserFormatter.parse(F)}toModel(F){return this.ngbDateParserFormatter.format(F)}}return Y.\u0275fac=function(F){return new(F||Y)(o.\u0275\u0275inject(Z.NG))},Y.\u0275prov=o.\u0275\u0275defineInjectable({token:Y,factory:Y.\u0275fac}),Y})(),ee=(()=>{class Y extends Z.wf{constructor(F){super(),this.i18nService=F}getWeekdayShortName(F){return Ce[this.i18nService.appLocale.code].weekdays[F-1]}getMonthShortName(F){return Ce[this.i18nService.appLocale.code].months[F-1]}getMonthFullName(F){return this.getMonthShortName(F)}getDayAriaLabel(F){return"test"}getWeekdayLabel(F,G){return""}}return Y.\u0275fac=function(F){return new(F||Y)(o.\u0275\u0275inject(X.D))},Y.\u0275prov=o.\u0275\u0275defineInjectable({token:Y,factory:Y.\u0275fac}),Y})(),S=(()=>{class Y extends I.E{constructor(F,G){super(),this.ngbDateParserFormatter=F,this.cdRef=G,this.autoClose=!0,this.boldLabel=!1,this.valueChange=new o.EventEmitter,this.validators=[]}set maxDate(F){this._maxDate=this.ngbDateParserFormatter.parse(F)}get maxDate(){return this.ngbDateParserFormatter.format(this._maxDate)}set minDate(F){this._minDate=this.ngbDateParserFormatter.parse(F)}get minDate(){return this.ngbDateParserFormatter.format(this._minDate)}set startDate(F){this._startDate=this.ngbDateParserFormatter.parse(F)}get startDate(){return this.ngbDateParserFormatter.format(this._startDate)}validateMinMax(){const F=new Date(this.ngbDateParserFormatter.format(this.control.value));this._minDate&&F<new Date(this.ngbDateParserFormatter.format(this._minDate))&&this.control.setValue(this.ngbDateParserFormatter.format(this._minDate)),this._maxDate&&F>new Date(this.ngbDateParserFormatter.format(this._maxDate))&&this.control.setValue(this.ngbDateParserFormatter.format(this._maxDate))}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}}return Y.\u0275fac=function(F){return new(F||Y)(o.\u0275\u0275directiveInject(Z.NG),o.\u0275\u0275directiveInject(o.ChangeDetectorRef))},Y.\u0275cmp=o.\u0275\u0275defineComponent({type:Y,selectors:[["phr-date-control"]],inputs:{control:"control",label:"label",required:"required",disabled:"disabled",readonly:"readonly",autoClose:"autoClose",boldLabel:"boldLabel",maxDate:"maxDate",minDate:"minDate",startDate:"startDate"},outputs:{valueChange:"valueChange"},features:[o.\u0275\u0275ProvidersFeature([{provide:Z.wf,useClass:ee},{provide:Z.DO,useClass:rt}]),o.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","form-group",4,"ngIf"],[1,"form-group"],["phrTabOutside","",3,"control","label","boldLabel","required","tabOutside"],[1,"input-group"],["placeholder","MM/DD/YYYY","ngbDatepicker","",1,"form-control",3,"formControl","readonly","disabled","firstDayOfWeek","minDate","maxDate","startDate","autoClose","restoreFocus","focus","blur"],["d","ngbDatepicker"],["class","input-group-prepend input-group-text",3,"click",4,"ngIf"],[1,"input-group-prepend","input-group-text",3,"click"],["aria-hidden","true",1,"fas","fa-calendar-alt","hover-cursor"]],template:function(F,G){1&F&&o.\u0275\u0275template(0,nt,6,16,"div",0),2&F&&o.\u0275\u0275property("ngIf",G.control)},dependencies:[V.O5,ne.DefaultValueAccessor,ne.NgControlStatus,ne.FormControlDirective,Z.J4,fe.D,Ee],styles:[".custom-select{-webkit-appearance:none;appearance:none}.hover-cursor:hover{cursor:pointer}ngb-datepicker-navigation-select select{border-radius:2px;border:1px solid rgba(0,0,0,.15)}.ngb-dp-arrow button{padding:0}\n"],encapsulation:2}),Y})()},52463:(He,ge,T)=>{"use strict";var o=T(94650),I=T(94650),Z=function(){function X(V){this.elementRef=V}return X.prototype.ngOnInit=function(){this.create()},X.prototype.ngOnChanges=function(V){var ne=this;if(this.chart)if(V.type||V.options)this.create();else if(V.data){var fe=V.data.currentValue;["datasets","labels","xLabels","yLabels"].forEach(function(Ee){ne.chart.data[Ee]=fe[Ee]}),this.chart.update()}},X.prototype.create=function(){this.canvas&&this.elementRef.nativeElement.removeChild(this.canvas),this.canvas=document.createElement("canvas"),this.elementRef.nativeElement.appendChild(this.canvas),this.chart=new Chart(this.canvas,{type:this.type,data:this.data,options:this.options})},X.ctorParameters=function(){return[{type:o.ElementRef}]},X.propDecorators={type:[{type:o.Input}],data:[{type:o.Input}],options:[{type:o.Input}]},X.\u0275fac=function(ne){return new(ne||X)(I.\u0275\u0275directiveInject(I.ElementRef))},X.\u0275cmp=I.\u0275\u0275defineComponent({type:X,selectors:[["chart"]],inputs:{type:"type",data:"data",options:"options"},features:[I.\u0275\u0275NgOnChangesFeature],decls:0,vars:0,template:function(ne,fe){},styles:["[_nghost-%COMP%] { display: block; }"]}),X}();ge.ChartComponent=Z},46251:(He,ge,T)=>{"use strict";"object"==typeof window&&T(68332),T(94650),T(52463);var Z=T(94650),V=(T(52463),function(){function ne(){}return ne.ctorParameters=function(){return[]},ne.\u0275fac=function(Ee){return new(Ee||ne)},ne.\u0275mod=Z.\u0275\u0275defineNgModule({type:ne}),ne.\u0275inj=Z.\u0275\u0275defineInjector({}),ne}());ge.ChartModule=V},39256:(He,ge,T)=>{"use strict";function o(I){for(var Z in I)ge.hasOwnProperty(Z)||(ge[Z]=I[Z])}o(T(52463)),o(T(46251))},68332:function(He,ge,T){He.exports=function(o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},V=function I(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){var t={};for(var n in X)X.hasOwnProperty(n)&&(t[X[n]]=n);var r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in r)if(r.hasOwnProperty(a)){if(!("channels"in r[a]))throw new Error("missing channels property: "+a);if(!("labels"in r[a]))throw new Error("missing channel labels property: "+a);if(r[a].labels.length!==r[a].channels)throw new Error("channel and label counts mismatch: "+a);var i=r[a].channels,s=r[a].labels;delete r[a].channels,delete r[a].labels,Object.defineProperty(r[a],"channels",{value:i}),Object.defineProperty(r[a],"labels",{value:s})}function u(l,d){return Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)+Math.pow(l[2]-d[2],2)}r.rgb.hsl=function(l){var C,A,d=l[0]/255,c=l[1]/255,h=l[2]/255,v=Math.min(d,c,h),b=Math.max(d,c,h),_=b-v;return b===v?C=0:d===b?C=(c-h)/_:c===b?C=2+(h-d)/_:h===b&&(C=4+(d-c)/_),(C=Math.min(60*C,360))<0&&(C+=360),A=(v+b)/2,[C,100*(b===v?0:A<=.5?_/(b+v):_/(2-b-v)),100*A]},r.rgb.hsv=function(l){var d,c,h,v,b,_=l[0]/255,C=l[1]/255,P=l[2]/255,A=Math.max(_,C,P),j=A-Math.min(_,C,P),U=function(de){return(A-de)/6/j+.5};return 0===j?v=b=0:(b=j/A,d=U(_),c=U(C),h=U(P),_===A?v=h-c:C===A?v=1/3+d-h:P===A&&(v=2/3+c-d),v<0?v+=1:v>1&&(v-=1)),[360*v,100*b,100*A]},r.rgb.hwb=function(l){var d=l[0],c=l[1],h=l[2];return[r.rgb.hsl(l)[0],1/255*Math.min(d,Math.min(c,h))*100,100*(h=1-1/255*Math.max(d,Math.max(c,h)))]},r.rgb.cmyk=function(l){var C,d=l[0]/255,c=l[1]/255,h=l[2]/255;return[100*((1-d-(C=Math.min(1-d,1-c,1-h)))/(1-C)||0),100*((1-c-C)/(1-C)||0),100*((1-h-C)/(1-C)||0),100*C]},r.rgb.keyword=function(l){var d=t[l];if(d)return d;var h,c=1/0;for(var v in X)if(X.hasOwnProperty(v)){var _=u(l,X[v]);_<c&&(c=_,h=v)}return h},r.keyword.rgb=function(l){return X[l]},r.rgb.xyz=function(l){var d=l[0]/255,c=l[1]/255,h=l[2]/255;return[100*(.4124*(d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92)+.3576*(c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92)+.1805*(h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92)),100*(.2126*d+.7152*c+.0722*h),100*(.0193*d+.1192*c+.9505*h)]},r.rgb.lab=function(l){var d=r.rgb.xyz(l),c=d[0],h=d[1],v=d[2];return h/=100,v/=108.883,c=(c/=95.047)>.008856?Math.pow(c,1/3):7.787*c+16/116,[116*(h=h>.008856?Math.pow(h,1/3):7.787*h+16/116)-16,500*(c-h),200*(h-(v=v>.008856?Math.pow(v,1/3):7.787*v+16/116))]},r.hsl.rgb=function(l){var v,b,_,C,P,d=l[0]/360,c=l[1]/100,h=l[2]/100;if(0===c)return[P=255*h,P,P];v=2*h-(b=h<.5?h*(1+c):h+c-h*c),C=[0,0,0];for(var A=0;A<3;A++)(_=d+1/3*-(A-1))<0&&_++,_>1&&_--,C[A]=255*(P=6*_<1?v+6*(b-v)*_:2*_<1?b:3*_<2?v+(b-v)*(2/3-_)*6:v);return C},r.hsl.hsv=function(l){var d=l[0],c=l[1]/100,h=l[2]/100,v=c,b=Math.max(h,.01);return c*=(h*=2)<=1?h:2-h,v*=b<=1?b:2-b,[d,100*(0===h?2*v/(b+v):2*c/(h+c)),(h+c)/2*100]},r.hsv.rgb=function(l){var d=l[0]/60,c=l[1]/100,h=l[2]/100,v=Math.floor(d)%6,b=d-Math.floor(d),_=255*h*(1-c),C=255*h*(1-c*b),P=255*h*(1-c*(1-b));switch(h*=255,v){case 0:return[h,P,_];case 1:return[C,h,_];case 2:return[_,h,P];case 3:return[_,C,h];case 4:return[P,_,h];case 5:return[h,_,C]}},r.hsv.hsl=function(l){var b,_,C,d=l[0],c=l[1]/100,h=l[2]/100,v=Math.max(h,.01);return C=(2-c)*h,_=c*v,[d,100*(_=(_/=(b=(2-c)*v)<=1?b:2-b)||0),100*(C/=2)]},r.hwb.rgb=function(l){var b,_,C,P,A,j,U,d=l[0]/360,c=l[1]/100,h=l[2]/100,v=c+h;switch(v>1&&(c/=v,h/=v),C=6*d-(b=Math.floor(6*d)),0!=(1&b)&&(C=1-C),P=c+C*((_=1-h)-c),b){default:case 6:case 0:A=_,j=P,U=c;break;case 1:A=P,j=_,U=c;break;case 2:A=c,j=_,U=P;break;case 3:A=c,j=P,U=_;break;case 4:A=P,j=c,U=_;break;case 5:A=_,j=c,U=P}return[255*A,255*j,255*U]},r.cmyk.rgb=function(l){var c=l[1]/100,h=l[2]/100,v=l[3]/100;return[255*(1-Math.min(1,l[0]/100*(1-v)+v)),255*(1-Math.min(1,c*(1-v)+v)),255*(1-Math.min(1,h*(1-v)+v))]},r.xyz.rgb=function(l){var v,b,_,d=l[0]/100,c=l[1]/100,h=l[2]/100;return b=-.9689*d+1.8758*c+.0415*h,_=.0557*d+-.204*c+1.057*h,v=(v=3.2406*d+-1.5372*c+-.4986*h)>.0031308?1.055*Math.pow(v,1/2.4)-.055:12.92*v,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,_=_>.0031308?1.055*Math.pow(_,1/2.4)-.055:12.92*_,[255*(v=Math.min(Math.max(0,v),1)),255*(b=Math.min(Math.max(0,b),1)),255*(_=Math.min(Math.max(0,_),1))]},r.xyz.lab=function(l){var d=l[0],c=l[1],h=l[2];return c/=100,h/=108.883,d=(d/=95.047)>.008856?Math.pow(d,1/3):7.787*d+16/116,[116*(c=c>.008856?Math.pow(c,1/3):7.787*c+16/116)-16,500*(d-c),200*(c-(h=h>.008856?Math.pow(h,1/3):7.787*h+16/116))]},r.lab.xyz=function(l){var v,b,_;v=l[1]/500+(b=(l[0]+16)/116),_=b-l[2]/200;var C=Math.pow(b,3),P=Math.pow(v,3),A=Math.pow(_,3);return b=C>.008856?C:(b-16/116)/7.787,v=P>.008856?P:(v-16/116)/7.787,_=A>.008856?A:(_-16/116)/7.787,[v*=95.047,b*=100,_*=108.883]},r.lab.lch=function(l){var b,d=l[0],c=l[1],h=l[2];return(b=360*Math.atan2(h,c)/2/Math.PI)<0&&(b+=360),[d,Math.sqrt(c*c+h*h),b]},r.lch.lab=function(l){var _,c=l[1];return _=l[2]/360*2*Math.PI,[l[0],c*Math.cos(_),c*Math.sin(_)]},r.rgb.ansi16=function(l){var d=l[0],c=l[1],h=l[2],v=1 in arguments?arguments[1]:r.rgb.hsv(l)[2];if(0===(v=Math.round(v/50)))return 30;var b=30+(Math.round(h/255)<<2|Math.round(c/255)<<1|Math.round(d/255));return 2===v&&(b+=60),b},r.hsv.ansi16=function(l){return r.rgb.ansi16(r.hsv.rgb(l),l[2])},r.rgb.ansi256=function(l){var d=l[0],c=l[1],h=l[2];return d===c&&c===h?d<8?16:d>248?231:Math.round((d-8)/247*24)+232:16+36*Math.round(d/255*5)+6*Math.round(c/255*5)+Math.round(h/255*5)},r.ansi16.rgb=function(l){var d=l%10;if(0===d||7===d)return l>50&&(d+=3.5),[d=d/10.5*255,d,d];var c=.5*(1+~~(l>50));return[(1&d)*c*255,(d>>1&1)*c*255,(d>>2&1)*c*255]},r.ansi256.rgb=function(l){if(l>=232){var d=10*(l-232)+8;return[d,d,d]}var c;return l-=16,[Math.floor(l/36)/5*255,Math.floor((c=l%36)/6)/5*255,c%6/5*255]},r.rgb.hex=function(l){var c=(((255&Math.round(l[0]))<<16)+((255&Math.round(l[1]))<<8)+(255&Math.round(l[2]))).toString(16).toUpperCase();return"000000".substring(c.length)+c},r.hex.rgb=function(l){var d=l.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!d)return[0,0,0];var c=d[0];3===d[0].length&&(c=c.split("").map(function(C){return C+C}).join(""));var h=parseInt(c,16);return[h>>16&255,h>>8&255,255&h]},r.rgb.hcg=function(l){var P,d=l[0]/255,c=l[1]/255,h=l[2]/255,v=Math.max(Math.max(d,c),h),b=Math.min(Math.min(d,c),h),_=v-b;return P=_<=0?0:v===d?(c-h)/_%6:v===c?2+(h-d)/_:4+(d-c)/_+4,P/=6,[360*(P%=1),100*_,100*(_<1?b/(1-_):0)]},r.hsl.hcg=function(l){var h,d=l[1]/100,c=l[2]/100,v=0;return(h=c<.5?2*d*c:2*d*(1-c))<1&&(v=(c-.5*h)/(1-h)),[l[0],100*h,100*v]},r.hsv.hcg=function(l){var c=l[2]/100,h=l[1]/100*c,v=0;return h<1&&(v=(c-h)/(1-h)),[l[0],100*h,100*v]},r.hcg.rgb=function(l){var c=l[1]/100,h=l[2]/100;if(0===c)return[255*h,255*h,255*h];var P,v=[0,0,0],b=l[0]/360%1*6,_=b%1,C=1-_;switch(Math.floor(b)){case 0:v[0]=1,v[1]=_,v[2]=0;break;case 1:v[0]=C,v[1]=1,v[2]=0;break;case 2:v[0]=0,v[1]=1,v[2]=_;break;case 3:v[0]=0,v[1]=C,v[2]=1;break;case 4:v[0]=_,v[1]=0,v[2]=1;break;default:v[0]=1,v[1]=0,v[2]=C}return[255*(c*v[0]+(P=(1-c)*h)),255*(c*v[1]+P),255*(c*v[2]+P)]},r.hcg.hsv=function(l){var d=l[1]/100,h=d+l[2]/100*(1-d),v=0;return h>0&&(v=d/h),[l[0],100*v,100*h]},r.hcg.hsl=function(l){var d=l[1]/100,h=l[2]/100*(1-d)+.5*d,v=0;return h>0&&h<.5?v=d/(2*h):h>=.5&&h<1&&(v=d/(2*(1-h))),[l[0],100*v,100*h]},r.hcg.hwb=function(l){var d=l[1]/100,h=d+l[2]/100*(1-d);return[l[0],100*(h-d),100*(1-h)]},r.hwb.hcg=function(l){var h=1-l[2]/100,v=h-l[1]/100,b=0;return v<1&&(b=(h-v)/(1-v)),[l[0],100*v,100*b]},r.apple.rgb=function(l){return[l[0]/65535*255,l[1]/65535*255,l[2]/65535*255]},r.rgb.apple=function(l){return[l[0]/255*65535,l[1]/255*65535,l[2]/255*65535]},r.gray.rgb=function(l){return[l[0]/100*255,l[0]/100*255,l[0]/100*255]},r.gray.hsl=r.gray.hsv=function(l){return[0,0,l[0]]},r.gray.hwb=function(l){return[0,100,l[0]]},r.gray.cmyk=function(l){return[0,0,0,l[0]]},r.gray.lab=function(l){return[l[0],0,0]},r.gray.hex=function(l){var d=255&Math.round(l[0]/100*255),h=((d<<16)+(d<<8)+d).toString(16).toUpperCase();return"000000".substring(h.length)+h},r.rgb.gray=function(l){return[(l[0]+l[1]+l[2])/3/255*100]}});function St(e){var t=function Ft(){for(var e={},t=Object.keys(V),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),a=Object.keys(V[r]),i=a.length,s=0;s<i;s++){var u=a[s],l=t[u];-1===l.distance&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(u))}return t}function Lt(e,t){return function(n){return t(e(n))}}function ct(e,t){for(var n=[t[e].parent,e],r=V[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),r=Lt(V[t[a].parent][a],r),a=t[a].parent;return r.conversion=n,r}var pe={};Object.keys(V).forEach(function(e){pe[e]={},Object.defineProperty(pe[e],"channels",{value:V[e].channels}),Object.defineProperty(pe[e],"labels",{value:V[e].labels});var t=function(e){for(var t=St(e),n={},r=Object.keys(t),a=r.length,i=0;i<a;i++){var s=r[i];null!==t[s].parent&&(n[s]=ct(s,t))}return n}(e);Object.keys(t).forEach(function(r){var a=t[r];pe[e][r]=function ht(e){var t=function(n){if(null==n)return n;arguments.length>1&&(n=Array.prototype.slice.call(arguments));var r=e(n);if("object"==typeof r)for(var a=r.length,i=0;i<a;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(a),pe[e][r].raw=function Pt(e){var t=function(n){return null==n?n:(arguments.length>1&&(n=Array.prototype.slice.call(arguments)),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(a)})});var Re=pe,at={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ne={getRgba:it,getHsla:ot,getRgb:function wt(e){var t=it(e);return t&&t.slice(0,3)},getHsl:function Nt(e){var t=ot(e);return t&&t.slice(0,3)},getHwb:ft,getAlpha:function yt(e){var t=it(e);return t||(t=ot(e))||(t=ft(e))?t[3]:void 0},hexString:function H(e,n){return n=void 0!==n&&3===e.length?n:e[3],"#"+he(e[0])+he(e[1])+he(e[2])+(n>=0&&n<1?he(Math.round(255*n)):"")},rgbString:function le(e,t){return t<1||e[3]&&e[3]<1?M(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:M,percentString:function D(e,t){return t<1||e[3]&&e[3]<1?N(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:N,hslString:function J(e,t){return t<1||e[3]&&e[3]<1?$(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:$,hwbString:function Ae(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function ve(e){return st[e.slice(0,3)]}};function it(e){if(e){var s=[0,0,0],u=1,l=e.match(/^#([a-fA-F0-9]{3,4})$/i),d="";if(l){d=(l=l[1])[3];for(var c=0;c<s.length;c++)s[c]=parseInt(l[c]+l[c],16);d&&(u=Math.round(parseInt(d+d,16)/255*100)/100)}else if(l=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(d=l[2],l=l[1],c=0;c<s.length;c++)s[c]=parseInt(l.slice(2*c,2*c+2),16);d&&(u=Math.round(parseInt(d,16)/255*100)/100)}else if(l=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(c=0;c<s.length;c++)s[c]=parseInt(l[c+1]);u=parseFloat(l[4])}else if(l=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(c=0;c<s.length;c++)s[c]=Math.round(2.55*parseFloat(l[c+1]));u=parseFloat(l[4])}else if(l=e.match(/(\w+)/)){if("transparent"==l[1])return[0,0,0,0];if(!(s=at[l[1]]))return}for(c=0;c<s.length;c++)s[c]=Se(s[c],0,255);return u=u||0==u?Se(u,0,1):1,s[3]=u,s}}function ot(e){if(e){var n=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(n){var r=parseFloat(n[4]);return[Se(parseInt(n[1]),0,360),Se(parseFloat(n[2]),0,100),Se(parseFloat(n[3]),0,100),Se(isNaN(r)?1:r,0,1)]}}}function ft(e){if(e){var n=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(n){var r=parseFloat(n[4]);return[Se(parseInt(n[1]),0,360),Se(parseFloat(n[2]),0,100),Se(parseFloat(n[3]),0,100),Se(isNaN(r)?1:r,0,1)]}}}function M(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function N(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function $(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function Se(e,t,n){return Math.min(Math.max(t,e),n)}function he(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var st={};for(var Ze in at)st[at[Ze]]=Ze;var ie=function(e){return e instanceof ie?e:this instanceof ie?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=Ne.getRgba(e))?this.setValues("rgb",t):(t=Ne.getHsla(e))?this.setValues("hsl",t):(t=Ne.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):(void 0!==t.c||void 0!==t.cyan)&&this.setValues("cmyk",t)))):new ie(e);var t};ie.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return Ne.hexString(this.values.rgb)},rgbString:function(){return Ne.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Ne.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Ne.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Ne.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Ne.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Ne.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Ne.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,r=e,a=void 0===t?.5:t,i=2*a-1,s=n.alpha()-r.alpha(),u=((i*s==-1?i:(i+s)/(1+i*s))+1)/2,l=1-u;return this.rgb(u*n.red()+l*r.red(),u*n.green()+l*r.green(),u*n.blue()+l*r.blue()).alpha(n.alpha()*a+r.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var r,a,e=new ie,t=this.values,n=e.values;for(var i in t)t.hasOwnProperty(i)&&("[object Array]"===(a={}.toString.call(r=t[i]))?n[i]=r.slice(0):"[object Number]"===a?n[i]=r:console.error("unexpected color value:",r));return e}},ie.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},ie.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},ie.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},ie.prototype.setValues=function(e,t){var s,l,n=this.values,r=this.spaces,a=this.maxes,i=1;if(this.valid=!0,"alpha"===e)i=t;else if(t.length)n[e]=t.slice(0,e.length),i=t[e.length];else if(void 0!==t[e.charAt(0)]){for(s=0;s<e.length;s++)n[e][s]=t[e.charAt(s)];i=t.a}else if(void 0!==t[r[e][0]]){var u=r[e];for(s=0;s<e.length;s++)n[e][s]=t[u[s]];i=t.alpha}if(n.alpha=Math.max(0,Math.min(1,void 0===i?n.alpha:i)),"alpha"===e)return!1;for(s=0;s<e.length;s++)l=Math.max(0,Math.min(a[e][s],n[e][s])),n[e][s]=Math.round(l);for(var d in r)d!==e&&(n[d]=Re[e][d](n[e]));return!0},ie.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},ie.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:(n===r[t]||(r[t]=n,this.setValues(e,r)),this)},typeof window<"u"&&(window.Color=ie);var z=ie;function oe(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}var e,w={noop:function(){},uid:(e=0,function(){return e++}),isNullOrUndef:function(e){return null===e||typeof e>"u"},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return typeof e>"u"?t:e},valueAtIndexOrDefault:function(e,t,n){return w.valueOrDefault(w.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,r){var a,i,s;if(w.isArray(e))if(i=e.length,r)for(a=i-1;a>=0;a--)t.call(n,e[a],a);else for(a=0;a<i;a++)t.call(n,e[a],a);else if(w.isObject(e))for(i=(s=Object.keys(e)).length,a=0;a<i;a++)t.call(n,e[s[a]],s[a])},arrayEquals:function(e,t){var n,r,a,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=t[n],(a=e[n])instanceof Array&&i instanceof Array){if(!w.arrayEquals(a,i))return!1}else if(a!==i)return!1;return!0},clone:function(e){if(w.isArray(e))return e.map(w.clone);if(w.isObject(e)){for(var t=Object.create(e),n=Object.keys(e),r=n.length,a=0;a<r;++a)t[n[a]]=w.clone(e[n[a]]);return t}return e},_merger:function(e,t,n,r){if(oe(e)){var a=t[e],i=n[e];w.isObject(a)&&w.isObject(i)?w.merge(a,i,r):t[e]=w.clone(i)}},_mergerIf:function(e,t,n){if(oe(e)){var r=t[e],a=n[e];w.isObject(r)&&w.isObject(a)?w.mergeIf(r,a):t.hasOwnProperty(e)||(t[e]=w.clone(a))}},merge:function(e,t,n){var i,s,u,l,d,r=w.isArray(t)?t:[t],a=r.length;if(!w.isObject(e))return e;for(i=(n=n||{}).merger||w._merger,s=0;s<a;++s)if(w.isObject(t=r[s]))for(d=0,l=(u=Object.keys(t)).length;d<l;++d)i(u[d],e,t,n);return e},mergeIf:function(e,t){return w.merge(e,t,{merger:w._mergerIf})},extend:Object.assign||function(e){return w.merge(e,[].slice.call(arguments,1),{merger:function(t,n,r){n[t]=r[t]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=w.inherits,e&&w.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,r){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+r+'" instead')}},B=w;w.callCallback=w.callback,w.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},w.getValueOrDefault=w.valueOrDefault,w.getValueAtIndexOrDefault=w.valueAtIndexOrDefault;var Q={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-Q.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*Q.easeInBounce(2*e):.5*Q.easeOutBounce(2*e-1)+.5}},ue={effects:Q};B.easingEffects=Q;var q=Math.PI,Ye=q/180,pt=2*q,ke=q/2,k=q/4,te=2*q/3,x={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,a,i){if(i){var s=Math.min(i,a/2,r/2),u=t+s,l=n+s,d=t+r-s,c=n+a-s;e.moveTo(t,l),u<d&&l<c?(e.arc(u,l,s,-q,-ke),e.arc(d,l,s,-ke,0),e.arc(d,c,s,0,ke),e.arc(u,c,s,ke,q)):u<d?(e.moveTo(u,n),e.arc(d,l,s,-ke,ke),e.arc(u,l,s,ke,q+ke)):l<c?(e.arc(u,l,s,-q,0),e.arc(u,c,s,0,q)):e.arc(u,l,s,-q,q),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,a)},drawPoint:function(e,t,n,r,a,i){var s,u,l,d,c,h=(i||0)*Ye;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(s=t.toString())||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(r,a),e.rotate(h),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(r,a,n,0,pt),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(h)*n,a-Math.cos(h)*n),h+=te,e.lineTo(r+Math.sin(h)*n,a-Math.cos(h)*n),h+=te,e.lineTo(r+Math.sin(h)*n,a-Math.cos(h)*n),e.closePath();break;case"rectRounded":d=n-(c=.516*n),u=Math.cos(h+k)*d,l=Math.sin(h+k)*d,e.arc(r-u,a-l,c,h-q,h-ke),e.arc(r+l,a-u,c,h-ke,h),e.arc(r+u,a+l,c,h,h+ke),e.arc(r-l,a+u,c,h+ke,h+q),e.closePath();break;case"rect":if(!i){d=Math.SQRT1_2*n,e.rect(r-d,a-d,2*d,2*d);break}h+=k;case"rectRot":u=Math.cos(h)*n,l=Math.sin(h)*n,e.moveTo(r-u,a-l),e.lineTo(r+l,a-u),e.lineTo(r+u,a+l),e.lineTo(r-l,a+u),e.closePath();break;case"crossRot":h+=k;case"cross":u=Math.cos(h)*n,l=Math.sin(h)*n,e.moveTo(r-u,a-l),e.lineTo(r+u,a+l),e.moveTo(r+l,a-u),e.lineTo(r-l,a+u);break;case"star":u=Math.cos(h)*n,l=Math.sin(h)*n,e.moveTo(r-u,a-l),e.lineTo(r+u,a+l),e.moveTo(r+l,a-u),e.lineTo(r-l,a+u),h+=k,u=Math.cos(h)*n,l=Math.sin(h)*n,e.moveTo(r-u,a-l),e.lineTo(r+u,a+l),e.moveTo(r+l,a-u),e.lineTo(r-l,a+u);break;case"line":u=Math.cos(h)*n,l=Math.sin(h)*n,e.moveTo(r-u,a-l),e.lineTo(r+u,a+l);break;case"dash":e.moveTo(r,a),e.lineTo(r+Math.cos(h)*n,a+Math.sin(h)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){var n=1e-6;return e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){var a=n.steppedLine;if(a){if("middle"===a){var i=(t.x+n.x)/2;e.lineTo(i,r?n.y:t.y),e.lineTo(i,r?t.y:n.y)}else"after"===a&&!r||"after"!==a&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},O=x;B.clear=x.clear,B.drawRoundedRectangle=function(e){e.beginPath(),x.roundedRect.apply(x,arguments)};var W={_set:function(e,t){return B.merge(this[e]||(this[e]={}),t)}};W._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var R=W,Be=B.valueOrDefault;var vt={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,r,a;return B.isObject(e)?(t=+e.top||0,n=+e.right||0,r=+e.bottom||0,a=+e.left||0):t=n=r=a=+e||0,{top:t,right:n,bottom:r,left:a,height:t+r,width:a+n}},_parseFont:function(e){var t=R.global,n=Be(e.fontSize,t.defaultFontSize),r={family:Be(e.fontFamily,t.defaultFontFamily),lineHeight:B.options.toLineHeight(Be(e.lineHeight,t.defaultLineHeight),n),size:n,style:Be(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=function Tt(e){return!e||B.isNullOrUndef(e.size)||B.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r},resolve:function(e,t,n,r){var i,s,u,a=!0;for(i=0,s=e.length;i<s;++i)if(void 0!==(u=e[i])&&(void 0!==t&&"function"==typeof u&&(u=u(t),a=!1),void 0!==n&&B.isArray(u)&&(u=u[n],a=!1),void 0!==u))return r&&!a&&(r.cacheable=!1),u}},en={_factorize:function(e){var r,t=[],n=Math.sqrt(e);for(r=1;r<n;r++)e%r==0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(function(a,i){return a-i}).pop(),t},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},ye=en;B.log10=en.log10;var f=B,Qn=O,Cn=vt,Xn=ye,Zn={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(n){t=n},textAlign:function(n){return"center"===n?n:"right"===n?"left":"right"},xPlus:function(n,r){return n-r},leftForLtr:function(n,r){return n-r}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,r;("ltr"===t||"rtl"===t)&&(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};f.easing=ue,f.canvas=Qn,f.options=Cn,f.math=Xn,f.rtl=Zn;var cn=function(e){f.extend(this,e),this.initialize.apply(this,arguments)};f.extend(cn.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=f.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,r=t._start,a=t._view;return n&&1!==e?(a||(a=t._view={}),r||(r=t._start={}),function Jn(e,t,n,r){var i,s,u,l,d,c,h,v,b,a=Object.keys(n);for(i=0,s=a.length;i<s;++i)if(c=n[u=a[i]],t.hasOwnProperty(u)||(t[u]=c),(l=t[u])!==c&&"_"!==u[0]){if(e.hasOwnProperty(u)||(e[u]=l),(h=typeof c)==typeof(d=e[u]))if("string"===h){if((v=z(d)).valid&&(b=z(c)).valid){t[u]=b.mix(v,r).rgbString();continue}}else if(f.isFinite(d)&&f.isFinite(c)){t[u]=d+(c-d)*r;continue}t[u]=c}}(r,a,n,e),t):(t._view=f.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return f.isNumber(this._model.x)&&f.isNumber(this._model.y)}}),cn.extend=f.inherits;var lt=cn,Bt=lt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),hn=Bt;Object.defineProperty(Bt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Bt.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),R._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:f.noop,onComplete:f.noop}});var qe={animations:[],request:null,addAnimation:function(e,t,n,r){var i,s,a=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,r||(e.animating=!0),i=0,s=a.length;i<s;++i)if(a[i].chart===e)return void(a[i]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=f.findIndex(this.animations,function(n){return n.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=f.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var t,n,r,a,e=this.animations,i=0;i<e.length;)n=(t=e[i]).chart,r=t.numSteps,a=Math.floor((Date.now()-t.startTime)/t.duration*r)+1,t.currentStep=Math.min(a,r),f.callback(t.render,[n,t],n),f.callback(t.onAnimationProgress,[t],n),t.currentStep>=r?(f.callback(t.onAnimationComplete,[t],n),n.animating=!1,e.splice(i,1)):++i}},_t=f.options.resolve,Sn=["push","pop","shift","splice","unshift"];function fn(e,t){var n=e._chartjs;if(n){var r=n.listeners,a=r.indexOf(t);-1!==a&&r.splice(a,1),!(r.length>0)&&(Sn.forEach(function(i){delete e[i]}),delete e._chartjs)}}var tn=function(e,t){this.initialize(e,t)};f.extend(tn.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.chart,r=n.scales,a=e.getDataset(),i=n.options.scales;(null===t.xAxisID||!(t.xAxisID in r)||a.xAxisID)&&(t.xAxisID=a.xAxisID||i.xAxes[0].id),(null===t.yAxisID||!(t.yAxisID in r)||a.yAxisID)&&(t.yAxisID=a.yAxisID||i.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&fn(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var a,i,e=this,t=e.getMeta(),n=e.getDataset().data||[],r=t.data;for(a=0,i=n.length;a<i;++a)r[a]=r[a]||e.createMetaData(a);t.dataset=t.dataset||e.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this,t=e.getDataset(),n=t.data||(t.data=[]);e._data!==n&&(e._data&&fn(e._data,e),n&&Object.isExtensible(n)&&function er(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Sn.forEach(function(n){var r="onData"+n.charAt(0).toUpperCase()+n.slice(1),a=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:function(){var i=Array.prototype.slice.call(arguments),s=a.apply(this,i);return f.each(e._chartjs.listeners,function(u){"function"==typeof u[r]&&u[r].apply(u,i)}),s}})}))}(n,e),e._data=n),e.resyncElements()},_configure:function(){var e=this;e._config=f.merge(Object.create(null),[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(t,n,r){"_meta"!==t&&"data"!==t&&f._merger(t,n,r)}})},_update:function(e){var t=this;t._configure(),t._cachedDataOpts=null,t.update(e)},update:f.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,a=0;a<r;++a)n[a].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},getStyle:function(e){var a,t=this,n=t.getMeta(),r=n.dataset;return t._configure(),(!1===(a=r&&void 0===e?t._resolveDatasetElementOptions(r||{}):t._resolveDataElementOptions(n.data[e=e||0]||{},e)).fill||null===a.fill)&&(a.backgroundColor=a.borderColor),a},_resolveDatasetElementOptions:function(e,t){var d,c,h,v,n=this,r=n.chart,a=n._config,i=e.custom||{},s=r.options.elements[n.datasetElementType.prototype._type]||{},u=n._datasetElementOptions,l={},b={chart:r,dataset:n.getDataset(),datasetIndex:n.index,hover:t};for(d=0,c=u.length;d<c;++d)h=u[d],v=t?"hover"+h.charAt(0).toUpperCase()+h.slice(1):h,l[h]=_t([i[v],a[v],s[v]],b);return l},_resolveDataElementOptions:function(e,t){var n=this,r=e&&e.custom,a=n._cachedDataOpts;if(a&&!r)return a;var v,b,_,C,i=n.chart,s=n._config,u=i.options.elements[n.dataElementType.prototype._type]||{},l=n._dataElementOptions,d={},c={chart:i,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},h={cacheable:!r};if(r=r||{},f.isArray(l))for(b=0,_=l.length;b<_;++b)d[C=l[b]]=_t([r[C],s[C],u[C]],c,t,h);else for(b=0,_=(v=Object.keys(l)).length;b<_;++b)d[C=v[b]]=_t([r[C],s[l[C]],s[C],u[C]],c,t,h);return h.cacheable&&(n._cachedDataOpts=Object.freeze(d)),d},removeHoverStyle:function(e){f.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},a=e._model,i=f.getHoverColor;e.$previousStyle={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth},a.backgroundColor=_t([r.hoverBackgroundColor,t.hoverBackgroundColor,i(a.backgroundColor)],void 0,n),a.borderColor=_t([r.hoverBorderColor,t.hoverBorderColor,i(a.borderColor)],void 0,n),a.borderWidth=_t([r.hoverBorderWidth,t.hoverBorderWidth,a.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var n,r,a,i,s,u,e=this.getMeta().dataset,t={};if(e){for(u=e._model,s=this._resolveDatasetElementOptions(e,!0),n=0,r=(i=Object.keys(s)).length;n<r;++n)t[a=i[n]]=u[a],u[a]=s[a];e.$previousStyle=t}},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,r=t.data.length,a=n.length;a<r?t.data.splice(a,r-a):a>r&&e.insertElements(r,a-r)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),tn.extend=f.inherits;var ze=tn,ut=2*Math.PI;function Mn(e,t){var n=t.startAngle,r=t.endAngle,a=t.pixelMargin,i=a/t.outerRadius,s=t.x,u=t.y;e.beginPath(),e.arc(s,u,t.outerRadius,n-i,r+i),t.innerRadius>a?e.arc(s,u,t.innerRadius-a,r+(i=a/t.innerRadius),n-i,!0):e.arc(s,u,a,r+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function nr(e,t,n){var r="inner"===t.borderAlign;r?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function tr(e,t,n,r){var i,a=n.endAngle;for(r&&(n.endAngle=n.startAngle+ut,Mn(e,n),n.endAngle=a,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=ut,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+ut,n.startAngle,!0),i=0;i<n.fullCircles;++i)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+ut),i=0;i<n.fullCircles;++i)e.stroke()}(e,t,n,r),r&&Mn(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}R._set("global",{elements:{arc:{backgroundColor:R.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var rr=lt.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=f.getAngleFromPoint(n,{x:e,y:t}),a=r.angle,i=r.distance,s=n.startAngle,u=n.endAngle;u<s;)u+=ut;for(;a>u;)a-=ut;for(;a<s;)a+=ut;return a>=s&&a<=u&&i>=n.innerRadius&&i<=n.outerRadius}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var a,e=this._chart.ctx,t=this._view,n="inner"===t.borderAlign?.33:0,r={x:t.x,y:t.y,innerRadius:t.innerRadius,outerRadius:Math.max(t.outerRadius-n,0),pixelMargin:n,startAngle:t.startAngle,endAngle:t.endAngle,fullCircles:Math.floor(t.circumference/ut)};if(e.save(),e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+ut,e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),a=0;a<r.fullCircles;++a)e.fill();r.endAngle=r.startAngle+t.circumference%ut}e.beginPath(),e.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),e.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),e.closePath(),e.fill(),t.borderWidth&&nr(e,t,r),e.restore()}}),Pn=f.valueOrDefault,wn=R.global.defaultColor;R._set("global",{elements:{line:{tension:.4,backgroundColor:wn,borderWidth:3,borderColor:wn,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ar=lt.extend({_type:"line",draw:function(){var d,c,h,e=this,t=e._view,n=e._chart.ctx,r=t.spanGaps,a=e._children.slice(),i=R.global,s=i.elements.line,u=-1,l=e._loop;if(a.length){if(e._loop){for(d=0;d<a.length;++d)if(c=f.previousItem(a,d),!a[d]._view.skip&&c._view.skip){a=a.slice(d).concat(a.slice(0,d)),l=r;break}l&&a.push(a[0])}for(n.save(),n.lineCap=t.borderCapStyle||s.borderCapStyle,n.setLineDash&&n.setLineDash(t.borderDash||s.borderDash),n.lineDashOffset=Pn(t.borderDashOffset,s.borderDashOffset),n.lineJoin=t.borderJoinStyle||s.borderJoinStyle,n.lineWidth=Pn(t.borderWidth,s.borderWidth),n.strokeStyle=t.borderColor||i.defaultColor,n.beginPath(),(h=a[0]._view).skip||(n.moveTo(h.x,h.y),u=0),d=1;d<a.length;++d)h=a[d]._view,c=-1===u?f.previousItem(a,d):a[u],h.skip||(u!==d-1&&!r||-1===u?n.moveTo(h.x,h.y):f.canvas.lineTo(n,c._view,h),u=d);l&&n.closePath(),n.stroke(),n.restore()}}}),ir=f.valueOrDefault,Tn=R.global.defaultColor;function Dn(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}R._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Tn,borderColor:Tn,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var sr=lt.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:Dn,inXRange:Dn,inYRange:function or(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,r=t.pointStyle,a=t.rotation,i=t.radius,s=t.x,u=t.y,l=R.global,d=l.defaultColor;t.skip||(void 0===e||f.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||d,n.lineWidth=ir(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||d,f.canvas.drawPoint(n,r,i,s,u,a))}}),En=R.global.defaultColor;function nn(e){return e&&void 0!==e.width}function On(e){var t,n,r,a,i;return nn(e)?(t=e.x-(i=e.width/2),n=e.x+i,r=Math.min(e.y,e.base),a=Math.max(e.y,e.base)):(i=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),r=e.y-i,a=e.y+i),{left:t,top:r,right:n,bottom:a}}function In(e,t,n){return e===t?n:e===n?t:e}function ur(e,t,n){var i,s,u,l,r=e.borderWidth,a=function lr(e){var t=e.borderSkipped,n={};return t&&(e.horizontal?e.base>e.x&&(t=In(t,"left","right")):e.base<e.y&&(t=In(t,"bottom","top")),n[t]=!0),n}(e);return f.isObject(r)?(i=+r.top||0,s=+r.right||0,u=+r.bottom||0,l=+r.left||0):i=s=u=l=+r||0,{t:a.top||i<0?0:i>n?n:i,r:a.right||s<0?0:s>t?t:s,b:a.bottom||u<0?0:u>n?n:u,l:a.left||l<0?0:l>t?t:l}}function Yt(e,t,n){var r=null===t,a=null===n,i=!(!e||r&&a)&&On(e);return i&&(r||t>=i.left&&t<=i.right)&&(a||n>=i.top&&n<=i.bottom)}R._set("global",{elements:{rectangle:{backgroundColor:En,borderColor:En,borderSkipped:"bottom",borderWidth:0}}});var cr=lt.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function dr(e){var t=On(e),n=t.right-t.left,r=t.bottom-t.top,a=ur(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:r-a.t-a.b}}}(t),r=n.outer,a=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(r.x,r.y,r.w,r.h),(r.w!==a.w||r.h!==a.h)&&(e.save(),e.beginPath(),e.rect(r.x,r.y,r.w,r.h),e.clip(),e.fillStyle=t.borderColor,e.rect(a.x,a.y,a.w,a.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return Yt(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return nn(n)?Yt(n,e,null):Yt(n,null,t)},inXRange:function(e){return Yt(this._view,e,null)},inYRange:function(e){return Yt(this._view,null,e)},getCenterPoint:function(){var t,n,e=this._view;return nn(e)?(t=e.x,n=(e.y+e.base)/2):(t=(e.x+e.base)/2,n=e.y),{x:t,y:n}},getArea:function(){var e=this._view;return nn(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),je={},fr=ar,pr=sr,vr=cr;je.Arc=rr,je.Line=fr,je.Point=pr,je.Rectangle=vr;var $t=f._deprecated,Wt=f.valueOrDefault;function gr(e,t,n){var u,l,r=n.barThickness,a=t.stackCount,i=t.pixels[e],s=f.isNullOrUndef(r)?function mr(e,t){var r,a,i,s,n=e._length;for(i=1,s=t.length;i<s;++i)n=Math.min(n,Math.abs(t[i]-t[i-1]));for(i=0,s=e.getTicks().length;i<s;++i)a=e.getPixelForTick(i),n=i>0?Math.min(n,Math.abs(a-r)):n,r=a;return n}(t.scale,t.pixels):-1;return f.isNullOrUndef(r)?(u=s*n.categoryPercentage,l=n.barPercentage):(u=r*a,l=1),{chunk:u/a,ratio:l,start:i-u/2}}R._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),R._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var kn=ze.extend({dataElementType:je.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,n,e=this;ze.prototype.initialize.apply(e,arguments),(t=e.getMeta()).stack=e.getDataset().stack,t.bar=!0,n=e._getIndexScale().options,$t("bar chart",n.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),$t("bar chart",n.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),$t("bar chart",n.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),$t("bar chart",e._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),$t("bar chart",n.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var r,a,t=this,n=t.getMeta().data;for(t._ruler=t.getRuler(),r=0,a=n.length;r<a;++r)t.updateElement(n[r],r,e)},updateElement:function(e,t,n){var r=this,a=r.getMeta(),i=r.getDataset(),s=r._resolveDataElementOptions(e,t);e._xScale=r.getScaleForId(a.xAxisID),e._yScale=r.getScaleForId(a.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderSkipped:s.borderSkipped,borderWidth:s.borderWidth,datasetLabel:i.label,label:r.chart.data.labels[t]},f.isArray(i.data[t])&&(e._model.borderSkipped=null),r._updateElementGeometry(e,t,n,s),e.pivot()},_updateElementGeometry:function(e,t,n,r){var a=this,i=e._model,s=a._getValueScale(),u=s.getBasePixel(),l=s.isHorizontal(),d=a._ruler||a.getRuler(),c=a.calculateBarValuePixels(a.index,t,r),h=a.calculateBarIndexPixels(a.index,t,d,r);i.horizontal=l,i.base=n?u:c.base,i.x=l?n?u:c.head:h.center,i.y=l?h.center:n?u:c.head,i.height=l?h.size:void 0,i.width=l?void 0:h.size},_getStacks:function(e){var u,l,n=this._getIndexScale(),r=n._getMatchingVisibleMetas(this._type),a=n.options.stacked,i=r.length,s=[];for(u=0;u<i&&(l=r[u],(!1===a||-1===s.indexOf(l.stack)||void 0===a&&void 0===l.stack)&&s.push(l.stack),l.index!==e);++u);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r},getRuler:function(){var r,a,e=this,t=e._getIndexScale(),n=[];for(r=0,a=e.getMeta().data.length;r<a;++r)n.push(t.getPixelForValue(null,r,e.index));return{pixels:n,start:t._startPixel,end:t._endPixel,stackCount:e.getStackCount(),scale:t}},calculateBarValuePixels:function(e,t,n){var P,A,j,U,de,se,be,r=this,a=r.chart,i=r._getValueScale(),s=i.isHorizontal(),u=a.data.datasets,l=i._getMatchingVisibleMetas(r._type),d=i._parseValue(u[e].data[t]),c=n.minBarLength,h=i.options.stacked,v=r.getMeta().stack,b=void 0===d.start?0:d.max>=0&&d.min>=0?d.min:d.max,_=void 0===d.start?d.end:d.max>=0&&d.min>=0?d.max-d.min:d.min-d.max,C=l.length;if(h||void 0===h&&void 0!==v)for(P=0;P<C&&(A=l[P]).index!==e;++P)A.stack===v&&(j=void 0===(be=i._parseValue(u[A.index].data[t])).start?be.end:be.min>=0&&be.max>=0?be.max:be.min,(d.min<0&&j<0||d.max>=0&&j>0)&&(b+=j));return U=i.getPixelForValue(b),se=(de=i.getPixelForValue(b+_))-U,void 0!==c&&Math.abs(se)<c&&(se=c,de=_>=0&&!s||_<0&&s?U-c:U+c),{size:se,base:U,head:de,center:de+se/2}},calculateBarIndexPixels:function(e,t,n,r){var i="flex"===r.barThickness?function Qr(e,t,n){var l,r=t.pixels,a=r[e],i=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,u=n.categoryPercentage;return null===i&&(i=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-i),l=a-(a-Math.min(i,s))/2*u,{chunk:Math.abs(s-i)/2*u/t.stackCount,ratio:n.barPercentage,start:l}}(t,n,r):gr(t,n,r),s=this.getStackIndex(e,this.getMeta().stack),u=i.start+i.chunk*s+i.chunk/2,l=Math.min(Wt(r.maxBarThickness,1/0),i.chunk*i.ratio);return{base:u-l/2,head:u+l/2,center:u,size:l}},draw:function(){var e=this,t=e.chart,n=e._getValueScale(),r=e.getMeta().data,a=e.getDataset(),i=r.length,s=0;for(f.canvas.clipArea(t.ctx,t.chartArea);s<i;++s){var u=n._parseValue(a.data[s]);!isNaN(u.min)&&!isNaN(u.max)&&r[s].draw()}f.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var e=this,t=f.extend({},ze.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,r=e._getValueScale().options;return t.barPercentage=Wt(n.barPercentage,t.barPercentage),t.barThickness=Wt(n.barThickness,t.barThickness),t.categoryPercentage=Wt(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Wt(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Wt(r.minBarLength,t.minBarLength),t}}),pn=f.valueOrDefault,br=f.options.resolve;R._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": ("+e.xLabel+", "+e.yLabel+", "+t.datasets[e.datasetIndex].data[e.index].r+")"}}}});var Rn=ze.extend({dataElementType:je.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta();f.each(n.data,function(a,i){t.updateElement(a,i,e)})},updateElement:function(e,t,n){var r=this,a=r.getMeta(),i=e.custom||{},s=r.getScaleForId(a.xAxisID),u=r.getScaleForId(a.yAxisID),l=r._resolveDataElementOptions(e,t),d=r.getDataset().data[t],c=r.index,h=n?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof d?d:NaN,t,c),v=n?u.getBasePixel():u.getPixelForValue(d,t,c);e._xScale=s,e._yScale=u,e._options=l,e._datasetIndex=c,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:i.skip||isNaN(h)||isNaN(v),x:h,y:v},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,r=f.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=pn(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=pn(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=pn(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,r=n.chart,a=n.getDataset(),i=e.custom||{},s=a.data[t]||{},u=ze.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:r,dataIndex:t,dataset:a,datasetIndex:n.index};return n._cachedDataOpts===u&&(u=f.extend({},u)),u.radius=br([i.radius,s.r,n._config.radius,r.options.elements.point.radius],l,t),u}}),rn=f.valueOrDefault,Et=Math.PI,mt=2*Et,gt=Et/2;R._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var i,s,u,t=document.createElement("ul"),n=e.data,r=n.datasets,a=n.labels;if(t.setAttribute("class",e.id+"-legend"),r.length)for(i=0,s=r[0].data.length;i<s;++i)(u=t.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[i],a[i]&&u.appendChild(document.createTextNode(a[i]));return t.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var a=e.getDatasetMeta(0),i=a.controller.getStyle(r);return{text:n,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(t.datasets[0].data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var a,i,s,n=t.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;a<i;++a)(s=r.getDatasetMeta(a)).data[n]&&(s.data[n].hidden=!s.data[n].hidden);r.update()}},cutoutPercentage:50,rotation:-gt,circumference:mt,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return f.isArray(n)?(n=n.slice())[0]+=r:n+=r,n}}}});var An=ze.extend({dataElementType:je.Arc,linkScales:f.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var P,A,t=this,n=t.chart,r=n.chartArea,a=n.options,i=1,s=1,u=0,l=0,d=t.getMeta(),c=d.data,h=a.cutoutPercentage/100||0,v=a.circumference,b=t._getRingWeight(t.index);if(v<mt){var j=a.rotation%mt,U=(j+=j>=Et?-mt:j<-Et?mt:0)+v,de=Math.cos(j),se=Math.sin(j),be=Math.cos(U),me=Math.sin(U),xe=j<=0&&U>=0||U>=mt,Te=j<=gt&&U>=gt||U>=mt+gt,Le=j<=-gt&&U>=-gt||U>=Et+gt,Fe=j===-Et||U>=Et?-1:Math.min(de,de*h,be,be*h),Ve=Le?-1:Math.min(se,se*h,me,me*h),un=xe?1:Math.max(de,de*h,be,be*h),dn=Te?1:Math.max(se,se*h,me,me*h);i=(un-Fe)/2,s=(dn-Ve)/2,u=-(un+Fe)/2,l=-(dn+Ve)/2}for(P=0,A=c.length;P<A;++P)c[P]._options=t._resolveDataElementOptions(c[P],P);for(n.borderWidth=t.getMaxBorderWidth(),n.outerRadius=Math.max(Math.min((r.right-r.left-n.borderWidth)/i,(r.bottom-r.top-n.borderWidth)/s)/2,0),n.innerRadius=Math.max(n.outerRadius*h,0),n.radiusLength=(n.outerRadius-n.innerRadius)/(t._getVisibleDatasetWeightTotal()||1),n.offsetX=u*n.outerRadius,n.offsetY=l*n.outerRadius,d.total=t.calculateTotal(),t.outerRadius=n.outerRadius-n.radiusLength*t._getRingWeightOffset(t.index),t.innerRadius=Math.max(t.outerRadius-n.radiusLength*b,0),P=0,A=c.length;P<A;++P)t.updateElement(c[P],P,e)},updateElement:function(e,t,n){var r=this,a=r.chart,i=a.chartArea,s=a.options,u=s.animation,l=(i.left+i.right)/2,d=(i.top+i.bottom)/2,c=s.rotation,h=s.rotation,v=r.getDataset(),b=n&&u.animateRotate||e.hidden?0:r.calculateCircumference(v.data[t])*(s.circumference/mt),P=e._options||{};f.extend(e,{_datasetIndex:r.index,_index:t,_model:{backgroundColor:P.backgroundColor,borderColor:P.borderColor,borderWidth:P.borderWidth,borderAlign:P.borderAlign,x:l+a.offsetX,y:d+a.offsetY,startAngle:c,endAngle:h,circumference:b,outerRadius:n&&u.animateScale?0:r.outerRadius,innerRadius:n&&u.animateScale?0:r.innerRadius,label:f.valueAtIndexOrDefault(v.label,t,a.data.labels[t])}});var A=e._model;(!n||!u.animateRotate)&&(A.startAngle=0===t?s.rotation:r.getMeta().data[t-1]._model.endAngle,A.endAngle=A.startAngle+A.circumference),e.pivot()},calculateTotal:function(){var r,e=this.getDataset(),t=this.getMeta(),n=0;return f.each(t.data,function(a,i){r=e.data[i],!isNaN(r)&&!a.hidden&&(n+=Math.abs(r))}),n},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?mt*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var a,i,s,u,l,d,c,h,n=0,r=this.chart;if(!e)for(a=0,i=r.data.datasets.length;a<i;++a)if(r.isDatasetVisible(a)){e=(s=r.getDatasetMeta(a)).data,a!==this.index&&(l=s.controller);break}if(!e)return 0;for(a=0,i=e.length;a<i;++a)u=e[a],l?(l._configure(),d=l._resolveDataElementOptions(u,a)):d=u._options,"inner"!==d.borderAlign&&(n=(h=d.hoverBorderWidth)>(n=(c=d.borderWidth)>n?c:n)?h:n);return n},setHoverStyle:function(e){var t=e._model,n=e._options,r=f.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=rn(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=rn(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=rn(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(rn(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});R._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),R._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var yr=kn.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),bt=f.valueOrDefault,_r=f.options.resolve,an=f.canvas._isPointInArea;function Fn(e,t){var n=e&&e.options.ticks||{},r=n.reverse,a=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:r?i:a,end:r?a:i}}function xr(e,t,n){var r=n/2,a=Fn(e,r),i=Fn(t,r);return{top:i.end,right:a.end,bottom:i.start,left:a.start}}function Cr(e){var t,n,r,a;return f.isObject(e)?(t=e.top,n=e.right,r=e.bottom,a=e.left):t=n=r=a=e,{top:t,right:n,bottom:r,left:a}}R._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Ln=ze.extend({datasetElementType:je.Line,dataElementType:je.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var l,d,t=this,n=t.getMeta(),r=n.dataset,a=n.data||[],s=t._config,u=t._showLine=bt(s.showLine,t.chart.options.showLines);for(t._xScale=t.getScaleForId(n.xAxisID),t._yScale=t.getScaleForId(n.yAxisID),u&&(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r._scale=t._yScale,r._datasetIndex=t.index,r._children=a,r._model=t._resolveDatasetElementOptions(r),r.pivot()),l=0,d=a.length;l<d;++l)t.updateElement(a[l],l,e);for(u&&0!==r._model.tension&&t.updateBezierControlPoints(),l=0,d=a.length;l<d;++l)a[l].pivot()},updateElement:function(e,t,n){var v,b,r=this,a=r.getMeta(),i=e.custom||{},s=r.getDataset(),u=r.index,l=s.data[t],d=r._xScale,c=r._yScale,h=a.dataset._model,_=r._resolveDataElementOptions(e,t);v=d.getPixelForValue("object"==typeof l?l:NaN,t,u),b=n?c.getBasePixel():r.calculatePointY(l,t,u),e._xScale=d,e._yScale=c,e._options=_,e._datasetIndex=u,e._index=t,e._model={x:v,y:b,skip:i.skip||isNaN(v)||isNaN(b),radius:_.radius,pointStyle:_.pointStyle,rotation:_.rotation,backgroundColor:_.backgroundColor,borderColor:_.borderColor,borderWidth:_.borderWidth,tension:bt(i.tension,h?h.tension:0),steppedLine:!!h&&h.steppedLine,hitRadius:_.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,r=e.custom||{},a=t.chart.options,i=a.elements.line,s=ze.prototype._resolveDatasetElementOptions.apply(t,arguments);return s.spanGaps=bt(n.spanGaps,a.spanGaps),s.tension=bt(n.lineTension,i.tension),s.steppedLine=_r([r.steppedLine,n.steppedLine,i.stepped]),s.clip=Cr(bt(n.clip,xr(t._xScale,t._yScale,s.borderWidth))),s},calculatePointY:function(e,t,n){var l,c,h,v,b,_,a=this.chart,i=this._yScale,s=0,u=0;if(i.options.stacked){for(v=+i.getRightValue(e),_=(b=a._getSortedVisibleDatasetMetas()).length,l=0;l<_&&(c=b[l]).index!==n;++l)"line"===c.type&&c.yAxisID===i.id&&((h=+i.getRightValue(a.data.datasets[c.index].data[t]))<0?u+=h||0:s+=h||0);return i.getPixelForValue(v<0?u+v:s+v)}return i.getPixelForValue(e)},updateBezierControlPoints:function(){var s,u,l,d,t=this.chart,n=this.getMeta(),r=n.dataset._model,a=t.chartArea,i=n.data||[];function c(h,v,b){return Math.max(Math.min(h,b),v)}if(r.spanGaps&&(i=i.filter(function(h){return!h._model.skip})),"monotone"===r.cubicInterpolationMode)f.splineCurveMonotone(i);else for(s=0,u=i.length;s<u;++s)l=i[s]._model,d=f.splineCurve(f.previousItem(i,s)._model,l,f.nextItem(i,s)._model,r.tension),l.controlPointPreviousX=d.previous.x,l.controlPointPreviousY=d.previous.y,l.controlPointNextX=d.next.x,l.controlPointNextY=d.next.y;if(t.options.elements.line.capBezierPoints)for(s=0,u=i.length;s<u;++s)an(l=i[s]._model,a)&&(s>0&&an(i[s-1]._model,a)&&(l.controlPointPreviousX=c(l.controlPointPreviousX,a.left,a.right),l.controlPointPreviousY=c(l.controlPointPreviousY,a.top,a.bottom)),s<i.length-1&&an(i[s+1]._model,a)&&(l.controlPointNextX=c(l.controlPointNextX,a.left,a.right),l.controlPointNextY=c(l.controlPointNextY,a.top,a.bottom)))},draw:function(){var l,e=this,t=e.chart,n=e.getMeta(),r=n.data||[],a=t.chartArea,i=t.canvas,s=0,u=r.length;for(e._showLine&&(f.canvas.clipArea(t.ctx,{left:!1===(l=n.dataset._model.clip).left?0:a.left-l.left,right:!1===l.right?i.width:a.right+l.right,top:!1===l.top?0:a.top-l.top,bottom:!1===l.bottom?i.height:a.bottom+l.bottom}),n.dataset.draw(),f.canvas.unclipArea(t.ctx));s<u;++s)r[s].draw(a)},setHoverStyle:function(e){var t=e._model,n=e._options,r=f.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=bt(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=bt(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=bt(n.hoverBorderWidth,n.borderWidth),t.radius=bt(n.hoverRadius,n.radius)}}),Sr=f.options.resolve;R._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var i,s,u,t=document.createElement("ul"),n=e.data,r=n.datasets,a=n.labels;if(t.setAttribute("class",e.id+"-legend"),r.length)for(i=0,s=r[0].data.length;i<s;++i)(u=t.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[i],a[i]&&u.appendChild(document.createTextNode(a[i]));return t.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,r){var a=e.getDatasetMeta(0),i=a.controller.getStyle(r);return{text:n,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(t.datasets[0].data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var a,i,s,n=t.index,r=this.chart;for(a=0,i=(r.data.datasets||[]).length;a<i;++a)(s=r.getDatasetMeta(a)).data[n].hidden=!s.data[n].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var Mr=ze.extend({dataElementType:je.Arc,linkScales:f.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var l,d,c,t=this,n=t.getDataset(),r=t.getMeta(),a=t.chart.options.startAngle||0,i=t._starts=[],s=t._angles=[],u=r.data;for(t._updateRadius(),r.count=t.countVisibleElements(),l=0,d=n.data.length;l<d;l++)i[l]=a,c=t._computeAngle(l),s[l]=c,a+=c;for(l=0,d=u.length;l<d;++l)u[l]._options=t._resolveDataElementOptions(u[l],l),t.updateElement(u[l],l,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,r=t.options,a=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(a/2,0),t.innerRadius=Math.max(r.cutoutPercentage?t.outerRadius/100*r.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var r=this,a=r.chart,i=r.getDataset(),s=a.options,u=s.animation,l=a.scale,d=a.data.labels,c=l.xCenter,h=l.yCenter,v=s.startAngle,b=e.hidden?0:l.getDistanceFromCenterForValue(i.data[t]),_=r._starts[t],C=_+(e.hidden?0:r._angles[t]),P=u.animateScale?0:l.getDistanceFromCenterForValue(i.data[t]),A=e._options||{};f.extend(e,{_datasetIndex:r.index,_index:t,_scale:l,_model:{backgroundColor:A.backgroundColor,borderColor:A.borderColor,borderWidth:A.borderWidth,borderAlign:A.borderAlign,x:c,y:h,innerRadius:0,outerRadius:n?P:b,startAngle:n&&u.animateRotate?v:_,endAngle:n&&u.animateRotate?v:C,label:f.valueAtIndexOrDefault(d,t,d[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return f.each(t.data,function(r,a){!isNaN(e.data[a])&&!r.hidden&&n++}),n},setHoverStyle:function(e){var t=e._model,n=e._options,r=f.getHoverColor,a=f.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=a(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=a(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=a(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,r=t.getDataset(),a=t.getMeta();return isNaN(r.data[e])||a.data[e].hidden?0:Sr([t.chart.options.elements.arc.angle,2*Math.PI/n],{chart:t.chart,dataIndex:e,dataset:r,datasetIndex:t.index},e)}});R._set("pie",f.clone(R.doughnut)),R._set("pie",{cutoutPercentage:0});var Pr=An,Ot=f.valueOrDefault;R._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var wr=ze.extend({datasetElementType:je.Line,dataElementType:je.Point,linkScales:f.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var u,l,t=this,n=t.getMeta(),r=n.dataset,a=n.data||[],i=t.chart.scale,s=t._config;for(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r._scale=i,r._datasetIndex=t.index,r._children=a,r._loop=!0,r._model=t._resolveDatasetElementOptions(r),r.pivot(),u=0,l=a.length;u<l;++u)t.updateElement(a[u],u,e);for(t.updateBezierControlPoints(),u=0,l=a.length;u<l;++u)a[u].pivot()},updateElement:function(e,t,n){var r=this,a=e.custom||{},i=r.getDataset(),s=r.chart.scale,u=s.getPointPositionForValue(t,i.data[t]),l=r._resolveDataElementOptions(e,t),d=r.getMeta().dataset._model,c=n?s.xCenter:u.x,h=n?s.yCenter:u.y;e._scale=s,e._options=l,e._datasetIndex=r.index,e._index=t,e._model={x:c,y:h,skip:a.skip||isNaN(c)||isNaN(h),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Ot(a.tension,d?d.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,r=ze.prototype._resolveDatasetElementOptions.apply(e,arguments);return r.spanGaps=Ot(t.spanGaps,n.spanGaps),r.tension=Ot(t.lineTension,n.elements.line.tension),r},updateBezierControlPoints:function(){var a,i,s,u,t=this.getMeta(),n=this.chart.chartArea,r=t.data||[];function l(d,c,h){return Math.max(Math.min(d,h),c)}for(t.dataset._model.spanGaps&&(r=r.filter(function(d){return!d._model.skip})),a=0,i=r.length;a<i;++a)s=r[a]._model,u=f.splineCurve(f.previousItem(r,a,!0)._model,s,f.nextItem(r,a,!0)._model,s.tension),s.controlPointPreviousX=l(u.previous.x,n.left,n.right),s.controlPointPreviousY=l(u.previous.y,n.top,n.bottom),s.controlPointNextX=l(u.next.x,n.left,n.right),s.controlPointNextY=l(u.next.y,n.top,n.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,r=f.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ot(n.hoverBackgroundColor,r(n.backgroundColor)),t.borderColor=Ot(n.hoverBorderColor,r(n.borderColor)),t.borderWidth=Ot(n.hoverBorderWidth,n.borderWidth),t.radius=Ot(n.hoverRadius,n.radius)}});R._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),R._set("global",{datasets:{scatter:{showLine:!1}}});var m={bar:kn,bubble:Rn,doughnut:An,horizontalBar:yr,line:Ln,polarArea:Mr,pie:Pr,radar:wr,scatter:Ln};function y(e,t){return e.native?{x:e.x,y:e.y}:f.getRelativePosition(e,t)}function p(e,t){var r,a,i,s,u,l,n=e._getSortedVisibleDatasetMetas();for(a=0,s=n.length;a<s;++a)for(i=0,u=(r=n[a].data).length;i<u;++i)(l=r[i])._view.skip||t(l)}function g(e,t){var n=[];return p(e,function(r){r.inRange(t.x,t.y)&&n.push(r)}),n}function E(e,t,n,r){var a=Number.POSITIVE_INFINITY,i=[];return p(e,function(s){if(!n||s.inRange(t.x,t.y)){var u=s.getCenterPoint(),l=r(t,u);l<a?(i=[s],a=l):l===a&&i.push(s)}}),i}function L(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(r,a){var i=t?Math.abs(r.x-a.x):0,s=n?Math.abs(r.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}function ae(e,t,n){var r=y(t,e);n.axis=n.axis||"x";var a=L(n.axis),i=n.intersect?g(e,r):E(e,r,!1,a),s=[];return i.length?(e._getSortedVisibleDatasetMetas().forEach(function(u){var l=u.data[i[0]._index];l&&!l._view.skip&&s.push(l)}),s):[]}var _e={modes:{single:function(e,t){var n=y(t,e),r=[];return p(e,function(a){if(a.inRange(n.x,n.y))return r.push(a),r}),r.slice(0,1)},label:ae,index:ae,dataset:function(e,t,n){var r=y(t,e);n.axis=n.axis||"xy";var a=L(n.axis),i=n.intersect?g(e,r):E(e,r,!1,a);return i.length>0&&(i=e.getDatasetMeta(i[0]._datasetIndex).data),i},"x-axis":function(e,t){return ae(e,t,{intersect:!1})},point:function(e,t){return g(e,y(t,e))},nearest:function(e,t,n){var r=y(t,e);n.axis=n.axis||"xy";var a=L(n.axis);return E(e,r,n.intersect,a)},x:function(e,t,n){var r=y(t,e),a=[],i=!1;return p(e,function(s){s.inXRange(r.x)&&a.push(s),s.inRange(r.x,r.y)&&(i=!0)}),n.intersect&&!i&&(a=[]),a},y:function(e,t,n){var r=y(t,e),a=[],i=!1;return p(e,function(s){s.inYRange(r.y)&&a.push(s),s.inRange(r.x,r.y)&&(i=!0)}),n.intersect&&!i&&(a=[]),a}}},Me=f.extend;function we(e,t){return f.where(e,function(n){return n.pos===t})}function Ke(e,t){return e.sort(function(n,r){var a=t?r:n,i=t?n:r;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function qt(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function zt(e,t,n){var i,s,r=n.box,a=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?r.height:r.width,e[n.pos]+=n.size,r.getPadding){var u=r.getPadding();a.top=Math.max(a.top,u.top),a.left=Math.max(a.left,u.left),a.bottom=Math.max(a.bottom,u.bottom),a.right=Math.max(a.right,u.right)}if(i=t.outerWidth-qt(a,e,"left","right"),s=t.outerHeight-qt(a,e,"top","bottom"),i!==e.w||s!==e.h){e.w=i,e.h=s;var l=n.horizontal?[i,e.w]:[s,e.h];return!(l[0]===l[1]||isNaN(l[0])&&isNaN(l[1]))}}function De(e,t){var n=t.maxPadding;return function r(a){var i={left:0,top:0,right:0,bottom:0};return a.forEach(function(s){i[s]=Math.max(t[s],n[s])}),i}(e?["left","right"]:["top","bottom"])}function Ue(e,t,n){var a,i,s,u,l,d,r=[];for(a=0,i=e.length;a<i;++a)(u=(s=e[a]).box).update(s.width||t.w,s.height||t.h,De(s.horizontal,t)),zt(t,n,s)&&(d=!0,r.length&&(l=!0)),u.fullWidth||r.push(s);return l&&Ue(r,t,n)||d}function Kt(e,t,n){var s,u,l,d,r=n.padding,a=t.x,i=t.y;for(s=0,u=e.length;s<u;++s)d=(l=e[s]).box,l.horizontal?(d.left=d.fullWidth?r.left:t.left,d.right=d.fullWidth?n.outerWidth-r.right:t.left+t.w,d.top=i,d.bottom=i+d.height,d.width=d.right-d.left,i=d.bottom):(d.left=a,d.right=a+d.width,d.top=t.top,d.bottom=t.top+t.h,d.height=d.bottom-d.top,a=d.right);t.x=a,t.y=i}R._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var dt={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var s,r=["fullWidth","position","weight"],a=r.length,i=0;i<a;++i)n.hasOwnProperty(s=r[i])&&(t[s]=n[s])},update:function(e,t,n){if(e){var a=f.options.toPadding((e.options.layout||{}).padding),i=t-a.width,s=n-a.height,u=function vn(e){var t=function Ge(e){var n,r,a,t=[];for(n=0,r=(e||[]).length;n<r;++n)t.push({index:n,box:a=e[n],pos:a.position,horizontal:a.isHorizontal(),weight:a.weight});return t}(e),n=Ke(we(t,"left"),!0),r=Ke(we(t,"right")),a=Ke(we(t,"top"),!0),i=Ke(we(t,"bottom"));return{leftAndTop:n.concat(a),rightAndBottom:r.concat(i),chartArea:we(t,"chartArea"),vertical:n.concat(r),horizontal:a.concat(i)}}(e.boxes),l=u.vertical,d=u.horizontal,c=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:i,vBoxMaxWidth:i/2/l.length,hBoxMaxHeight:s/2}),h=Me({maxPadding:Me({},a),w:i,h:s,x:a.left,y:a.top},a);(function xt(e,t){var n,r,a;for(n=0,r=e.length;n<r;++n)(a=e[n]).width=a.horizontal?a.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,a.height=a.horizontal&&t.hBoxMaxHeight})(l.concat(d),c),Ue(l,h,c),Ue(d,h,c)&&Ue(l,h,c),function It(e){var t=e.maxPadding;function n(r){var a=Math.max(t[r]-e[r],0);return e[r]+=a,a}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(h),Kt(u.leftAndTop,h,c),h.x+=h.w,h.y+=h.h,Kt(u.rightAndBottom,h,c),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h},f.each(u.chartArea,function(v){var b=v.box;Me(b,e.chartArea),b.update(h.w,h.h)})}}},Aa=function Z(e){return e&&e.default||e}(Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"})),Qe="$chartjs",Dr="chartjs-",Er=Dr+"size-monitor",Xr=Dr+"render-monitor",Zr=["animationstart","webkitAnimationStart"],La={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Jr(e,t){var n=f.getStyle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}var ea=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch{}return e}()&&{passive:!0};function mn(e,t,n){e.addEventListener(t,n,ea)}function Or(e,t,n){e.removeEventListener(t,n,ea)}function Ir(e,t,n,r,a){return{type:e,chart:t,native:a||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function gn(e){var t=document.createElement("div");return t.className=e||"",t}function Ua(e,t,n){var r=e[Qe]||(e[Qe]={}),a=r.resizer=function Va(e){var t=1e6,n=gn(Er),r=gn(Er+"-expand"),a=gn(Er+"-shrink");r.appendChild(gn()),a.appendChild(gn()),n.appendChild(r),n.appendChild(a),n._reset=function(){r.scrollLeft=t,r.scrollTop=t,a.scrollLeft=t,a.scrollTop=t};var i=function(){n._reset(),e()};return mn(r,"scroll",i.bind(r,"expand")),mn(a,"scroll",i.bind(a,"shrink")),n}(function za(e,t){var n=!1,r=[];return function(){r=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,f.requestAnimFrame.call(window,function(){n=!1,e.apply(t,r)}))}}(function(){if(r.resizer){var i=n.options.maintainAspectRatio&&e.parentNode,s=i?i.clientWidth:0;t(Ir("resize",n)),i&&i.clientWidth<s&&n.canvas&&t(Ir("resize",n))}}));!function Ha(e,t){var n=e[Qe]||(e[Qe]={}),r=n.renderProxy=function(a){"chartjs-render-animation"===a.animationName&&t()};f.each(Zr,function(a){mn(e,a,r)}),n.reflow=!!e.offsetParent,e.classList.add(Xr)}(e,function(){if(r.resizer){var i=e.parentNode;i&&i!==a.parentNode&&i.insertBefore(a,i.firstChild),a._reset()}})}function Ya(e){var t=e[Qe]||{},n=t.resizer;delete t.resizer,function ja(e){var t=e[Qe]||{},n=t.renderProxy;n&&(f.each(Zr,function(r){Or(e,r,n)}),delete t.renderProxy),e.classList.remove(Xr)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}var ta={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function $a(e,t){var n=e[Qe]||(e[Qe]={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(t)),e.appendChild(r)}}(t.host?t:document.head,Aa)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function Na(e,t){var n=e.style,r=e.getAttribute("height"),a=e.getAttribute("width");if(e[Qe]={initial:{height:r,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===a||""===a){var i=Jr(e,"width");void 0!==i&&(e.width=i)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=Jr(e,"height");void 0!==i&&(e.height=s)}return e}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[Qe]){var n=t[Qe].initial;["height","width"].forEach(function(r){var a=n[r];f.isNullOrUndef(a)?t.removeAttribute(r):t.setAttribute(r,a)}),f.each(n.style||{},function(r,a){t.style[a]=r}),t.width=t.width,delete t[Qe]}},addEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var a=n[Qe]||(n[Qe]={});mn(r,t,(a.proxies||(a.proxies={}))[e.id+"_"+t]=function(u){n(function Wa(e,t){var n=La[e.type]||e.type,r=f.getRelativePosition(e,t);return Ir(n,t,r.x,r.y,e)}(u,e))})}else Ua(r,n,e)},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var s=((n[Qe]||{}).proxies||{})[e.id+"_"+t];!s||Or(r,t,s)}else Ya(r)}};f.addEvent=mn,f.removeEvent=Or;var on=f.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},ta._enabled?ta:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}});R._set("global",{plugins:{}});var Pe={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(n){-1===t.indexOf(n)&&t.push(n)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(n){var r=t.indexOf(n);-1!==r&&t.splice(r,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,s,u,l,d,r=this.descriptors(e),a=r.length;for(i=0;i<a;++i)if("function"==typeof(d=(u=(s=r[i]).plugin)[t])&&((l=[e].concat(n||[])).push(s.options),!1===d.apply(u,l)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],r=[],a=e&&e.config||{},i=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(s){if(-1===n.indexOf(s)){var l=s.id,d=i[l];!1!==d&&(!0===d&&(d=f.clone(R.global.plugins[l])),n.push(s),r.push({plugin:s,options:d||{}}))}}),t.descriptors=r,t.id=this._cacheId,r},_invalidate:function(e){delete e.$plugins}},bn={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=f.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?f.merge(Object.create(null),[R.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=f.extend(n.defaults[e],t))},addScalesToLayout:function(e){f.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,dt.addBox(e,t)})}},kt=f.valueOrDefault,kr=f.rtl.getRtlAdapter;R._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:f.noop,title:function(e,t){var n="",r=t.labels,a=r?r.length:0;if(e.length>0){var i=e[0];i.label?n=i.label:i.xLabel?n=i.xLabel:a>0&&i.index<a&&(n=r[i.index])}return n},afterTitle:f.noop,beforeBody:f.noop,beforeLabel:f.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),f.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var a=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:a.borderColor,backgroundColor:a.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:f.noop,afterBody:f.noop,beforeFooter:f.noop,footer:f.noop,afterFooter:f.noop}}});var na={average:function(e){if(!e.length)return!1;var t,n,r=0,a=0,i=0;for(t=0,n=e.length;t<n;++t){var s=e[t];if(s&&s.hasValue()){var u=s.tooltipPosition();r+=u.x,a+=u.y,++i}}return{x:r/i,y:a/i}},nearest:function(e,t){var i,s,u,n=t.x,r=t.y,a=Number.POSITIVE_INFINITY;for(i=0,s=e.length;i<s;++i){var l=e[i];if(l&&l.hasValue()){var d=l.getCenterPoint(),c=f.distanceBetweenPoints(t,d);c<a&&(a=c,u=l)}}if(u){var h=u.tooltipPosition();n=h.x,r=h.y}return{x:n,y:r}}};function Ct(e,t){return t&&(f.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Rt(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ka(e){var t=e._xScale,n=e._yScale||e._scale,r=e._index,a=e._datasetIndex,i=e._chart.getDatasetMeta(a).controller,s=i._getIndexScale(),u=i._getValueScale();return{xLabel:t?t.getLabelForIndex(r,a):"",yLabel:n?n.getLabelForIndex(r,a):"",label:s?""+s.getLabelForIndex(r,a):"",value:u?""+u.getLabelForIndex(r,a):"",index:r,datasetIndex:a,x:e._model.x,y:e._model.y}}function ra(e){var t=R.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:kt(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:kt(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:kt(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:kt(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:kt(e.titleFontStyle,t.defaultFontStyle),titleFontSize:kt(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:kt(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:kt(e.footerFontStyle,t.defaultFontStyle),footerFontSize:kt(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Nn(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function aa(e){return Ct([],Rt(e))}var Za=lt.extend({initialize:function(){this._model=ra(this._options),this._lastActive=[]},getTitle:function(){var e=this,n=e._options.callbacks,r=n.beforeTitle.apply(e,arguments),a=n.title.apply(e,arguments),i=n.afterTitle.apply(e,arguments),s=[];return s=Ct(s,Rt(r)),s=Ct(s,Rt(a)),Ct(s,Rt(i))},getBeforeBody:function(){return aa(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,r=n._options.callbacks,a=[];return f.each(e,function(i){var s={before:[],lines:[],after:[]};Ct(s.before,Rt(r.beforeLabel.call(n,i,t))),Ct(s.lines,r.label.call(n,i,t)),Ct(s.after,Rt(r.afterLabel.call(n,i,t))),a.push(s)}),a},getAfterBody:function(){return aa(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),r=t.footer.apply(e,arguments),a=t.afterFooter.apply(e,arguments),i=[];return i=Ct(i,Rt(n)),i=Ct(i,Rt(r)),Ct(i,Rt(a))},update:function(e){var h,v,t=this,n=t._options,r=t._model,a=t._model=ra(n),i=t._active,s=t._data,u={xAlign:r.xAlign,yAlign:r.yAlign},l={x:r.x,y:r.y},d={width:r.width,height:r.height},c={x:r.caretX,y:r.caretY};if(i.length){a.opacity=1;var b=[],_=[];c=na[n.position].call(t,i,t._eventPosition);var C=[];for(h=0,v=i.length;h<v;++h)C.push(Ka(i[h]));n.filter&&(C=C.filter(function(P){return n.filter(P,s)})),n.itemSort&&(C=C.sort(function(P,A){return n.itemSort(P,A,s)})),f.each(C,function(P){b.push(n.callbacks.labelColor.call(t,P,t._chart)),_.push(n.callbacks.labelTextColor.call(t,P,t._chart))}),a.title=t.getTitle(C,s),a.beforeBody=t.getBeforeBody(C,s),a.body=t.getBody(C,s),a.afterBody=t.getAfterBody(C,s),a.footer=t.getFooter(C,s),a.x=c.x,a.y=c.y,a.caretPadding=n.caretPadding,a.labelColors=b,a.labelTextColors=_,a.dataPoints=C,l=function Xa(e,t,n,r){var a=e.x,i=e.y,u=e.caretPadding,d=n.xAlign,c=n.yAlign,h=e.caretSize+u,v=e.cornerRadius+u;return"right"===d?a-=t.width:"center"===d&&((a-=t.width/2)+t.width>r.width&&(a=r.width-t.width),a<0&&(a=0)),"top"===c?i+=h:i-="bottom"===c?t.height+h:t.height/2,"center"===c?"left"===d?a+=h:"right"===d&&(a-=h):"left"===d?a-=v:"right"===d&&(a+=v),{x:a,y:i}}(a,d=function Ga(e,t){var n=e._chart.ctx,r=2*t.yPadding,a=0,i=t.body,s=i.reduce(function(_,C){return _+C.before.length+C.lines.length+C.after.length},0),u=t.title.length,l=t.footer.length,d=t.titleFontSize,c=t.bodyFontSize,h=t.footerFontSize;r+=u*d,r+=u?(u-1)*t.titleSpacing:0,r+=u?t.titleMarginBottom:0,r+=(s+=t.beforeBody.length+t.afterBody.length)*c,r+=s?(s-1)*t.bodySpacing:0,r+=l?t.footerMarginTop:0,r+=l*h,r+=l?(l-1)*t.footerSpacing:0;var v=0,b=function(_){a=Math.max(a,n.measureText(_).width+v)};return n.font=f.fontString(d,t._titleFontStyle,t._titleFontFamily),f.each(t.title,b),n.font=f.fontString(c,t._bodyFontStyle,t._bodyFontFamily),f.each(t.beforeBody.concat(t.afterBody),b),v=t.displayColors?c+2:0,f.each(i,function(_){f.each(_.before,b),f.each(_.lines,b),f.each(_.after,b)}),v=0,n.font=f.fontString(h,t._footerFontStyle,t._footerFontFamily),f.each(t.footer,b),{width:a+=2*t.xPadding,height:r}}(this,a),u=function Qa(e,t){var n=e._model,r=e._chart,a=e._chart.chartArea,i="center",s="center";n.y<t.height?s="top":n.y>r.height-t.height&&(s="bottom");var u,l,d,c,h,v=(a.left+a.right)/2,b=(a.top+a.bottom)/2;"center"===s?(u=function(C){return C<=v},l=function(C){return C>v}):(u=function(C){return C<=t.width/2},l=function(C){return C>=r.width-t.width/2}),d=function(C){return C+t.width+n.caretSize+n.caretPadding>r.width},c=function(C){return C-t.width-n.caretSize-n.caretPadding<0},h=function(C){return C<=b?"top":"bottom"},u(n.x)?(i="left",d(n.x)&&(i="center",s=h(n.y))):l(n.x)&&(i="right",c(n.x)&&(i="center",s=h(n.y)));var _=e._options;return{xAlign:_.xAlign?_.xAlign:i,yAlign:_.yAlign?_.yAlign:s}}(this,d),t._chart)}else a.opacity=0;return a.xAlign=u.xAlign,a.yAlign=u.yAlign,a.x=l.x,a.y=l.y,a.width=d.width,a.height=d.height,a.caretX=c.x,a.caretY=c.y,t._model=a,e&&n.custom&&n.custom.call(t,a),t},drawCaret:function(e,t){var n=this._chart.ctx,a=this.getCaretPosition(e,t,this._view);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)},getCaretPosition:function(e,t,n){var r,a,i,s,u,l,d=n.caretSize,c=n.cornerRadius,h=n.xAlign,v=n.yAlign,b=e.x,_=e.y,C=t.width,P=t.height;if("center"===v)u=_+P/2,"left"===h?(a=(r=b)-d,i=r,s=u+d,l=u-d):(a=(r=b+C)+d,i=r,s=u-d,l=u+d);else if("left"===h?(r=(a=b+c+d)-d,i=a+d):"right"===h?(r=(a=b+C-c-d)-d,i=a+d):(r=(a=n.caretX)-d,i=a+d),"top"===v)u=(s=_)-d,l=s;else{u=(s=_+P)+d,l=s;var A=i;i=r,r=A}return{x1:r,x2:a,x3:i,y1:s,y2:u,y3:l}},drawTitle:function(e,t,n){var i,s,u,r=t.title,a=r.length;if(a){var l=kr(t.rtl,t.x,t.width);for(e.x=Nn(t,t._titleAlign),n.textAlign=l.textAlign(t._titleAlign),n.textBaseline="middle",i=t.titleFontSize,s=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=f.fontString(i,t._titleFontStyle,t._titleFontFamily),u=0;u<a;++u)n.fillText(r[u],l.x(e.x),e.y+i/2),e.y+=i+s,u+1===a&&(e.y+=t.titleMarginBottom-s)}},drawBody:function(e,t,n){var v,b,_,C,P,A,j,U,r=t.bodyFontSize,a=t.bodySpacing,i=t._bodyAlign,s=t.body,u=t.displayColors,l=0,d=u?Nn(t,"left"):0,c=kr(t.rtl,t.x,t.width),h=function(be){n.fillText(be,c.x(e.x+l),e.y+r/2),e.y+=r+a},de=c.textAlign(i);for(n.textAlign=i,n.textBaseline="middle",n.font=f.fontString(r,t._bodyFontStyle,t._bodyFontFamily),e.x=Nn(t,de),n.fillStyle=t.bodyFontColor,f.each(t.beforeBody,h),l=u&&"right"!==de?"center"===i?r/2+1:r+2:0,P=0,j=s.length;P<j;++P){for(v=s[P],_=t.labelColors[P],n.fillStyle=b=t.labelTextColors[P],f.each(v.before,h),A=0,U=(C=v.lines).length;A<U;++A){if(u){var se=c.x(d);n.fillStyle=t.legendColorBackground,n.fillRect(c.leftForLtr(se,r),e.y,r,r),n.lineWidth=1,n.strokeStyle=_.borderColor,n.strokeRect(c.leftForLtr(se,r),e.y,r,r),n.fillStyle=_.backgroundColor,n.fillRect(c.leftForLtr(c.xPlus(se,1),r-2),e.y+1,r-2,r-2),n.fillStyle=b}h(C[A])}f.each(v.after,h)}l=0,f.each(t.afterBody,h),e.y-=a},drawFooter:function(e,t,n){var i,s,r=t.footer,a=r.length;if(a){var u=kr(t.rtl,t.x,t.width);for(e.x=Nn(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=u.textAlign(t._footerAlign),n.textBaseline="middle",i=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=f.fontString(i,t._footerFontStyle,t._footerFontFamily),s=0;s<a;++s)n.fillText(r[s],u.x(e.x),e.y+i/2),e.y+=i+t.footerSpacing}},drawBackground:function(e,t,n,r){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var a=t.xAlign,i=t.yAlign,s=e.x,u=e.y,l=r.width,d=r.height,c=t.cornerRadius;n.beginPath(),n.moveTo(s+c,u),"top"===i&&this.drawCaret(e,r),n.lineTo(s+l-c,u),n.quadraticCurveTo(s+l,u,s+l,u+c),"center"===i&&"right"===a&&this.drawCaret(e,r),n.lineTo(s+l,u+d-c),n.quadraticCurveTo(s+l,u+d,s+l-c,u+d),"bottom"===i&&this.drawCaret(e,r),n.lineTo(s+c,u+d),n.quadraticCurveTo(s,u+d,s,u+d-c),"center"===i&&"left"===a&&this.drawCaret(e,r),n.lineTo(s,u+c),n.quadraticCurveTo(s,u,s+c,u),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},a=Math.abs(t.opacity<.001)?0:t.opacity;this._options.enabled&&(t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length)&&(e.save(),e.globalAlpha=a,this.drawBackground(r,t,e,n),r.y+=t.yPadding,f.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),f.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var r,t=this,n=t._options;return t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:(t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),n.reverse&&t._active.reverse()),(r=!f.arrayEquals(t._active,t._lastActive))&&(t._lastActive=t._active,(n.enabled||n.custom)&&(t._eventPosition={x:e.x,y:e.y},t.update(!0),t.pivot())),r}}),Rr=Za;Rr.positioners=na;var Ar=f.valueOrDefault;function ia(){return f.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,r){if("xAxes"===e||"yAxes"===e){var i,s,u,a=n[e].length;for(t[e]||(t[e]=[]),i=0;i<a;++i)s=Ar((u=n[e][i]).type,"xAxes"===e?"category":"linear"),i>=t[e].length&&t[e].push({}),f.merge(t[e][i],!t[e][i].type||u.type&&u.type!==t[e][i].type?[bn.getScaleDefaults(s),u]:u)}else f._merger(e,t,n,r)}})}function Fr(){return f.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,r){var a=t[e]||Object.create(null),i=n[e];"scales"===e?t[e]=ia(a,i):"scale"===e?t[e]=f.merge(a,[bn.getScaleDefaults(i.type),i]):f._merger(e,t,n,r)}})}function ti(e){var t=e.options;f.each(e.scales,function(n){dt.removeBox(e,n)}),t=Fr(R.global,R[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function oa(e,t,n){var r,a=function(i){return i.id===r};do{r=t+n++}while(f.findIndex(e,a)>=0);return r}function sa(e){return"top"===e||"bottom"===e}function la(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}R._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Vt=function(e,t){return this.construct(e,t),this};f.extend(Vt.prototype,{construct:function(e,t){var n=this;t=function ei(e){var t=(e=e||Object.create(null)).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=Fr(R.global,R[e.type],e.options||{}),e}(t);var r=on.acquireContext(e,t),a=r&&r.canvas,i=a&&a.height,s=a&&a.width;n.id=f.uid(),n.ctx=r,n.canvas=a,n.config=t,n.width=s,n.height=i,n.aspectRatio=i?s/i:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Vt.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(u){n.config.data=u}}),r&&a?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return Pe.notify(e,"beforeInit"),f.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),Pe.notify(e,"afterInit"),e},clear:function(){return f.canvas.clear(this),this},stop:function(){return qe.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,r=t.canvas,a=n.maintainAspectRatio&&t.aspectRatio||null,i=Math.max(0,Math.floor(f.getMaximumWidth(r))),s=Math.max(0,Math.floor(a?i/a:f.getMaximumHeight(r)));if((t.width!==i||t.height!==s)&&(r.width=t.width=i,r.height=t.height=s,r.style.width=i+"px",r.style.height=s+"px",f.retinaScale(t,n.devicePixelRatio),!e)){var u={width:i,height:s};Pe.notify(t,"resize",[u]),n.onResize&&n.onResize(t,u),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;f.each(t.xAxes,function(r,a){r.id||(r.id=oa(t.xAxes,"x-axis-",a))}),f.each(t.yAxes,function(r,a){r.id||(r.id=oa(t.yAxes,"y-axis-",a))}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},r=[],a=Object.keys(n).reduce(function(i,s){return i[s]=!1,i},{});t.scales&&(r=r.concat((t.scales.xAxes||[]).map(function(i){return{options:i,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(i){return{options:i,dtype:"linear",dposition:"left"}}))),t.scale&&r.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),f.each(r,function(i){var s=i.options,u=s.id,l=Ar(s.type,i.dtype);sa(s.position)!==sa(i.dposition)&&(s.position=i.dposition),a[u]=!0;var d=null;if(u in n&&n[u].type===l)(d=n[u]).options=s,d.ctx=e.ctx,d.chart=e;else{var c=bn.getScaleConstructor(l);if(!c)return;d=new c({id:u,type:l,options:s,ctx:e.ctx,chart:e}),n[d.id]=d}d.mergeTicksOptions(),i.isDefault&&(e.scale=d)}),f.each(a,function(i,s){i||delete n[s]}),e.scales=n,bn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var r,a,e=this,t=[],n=e.data.datasets;for(r=0,a=n.length;r<a;r++){var i=n[r],s=e.getDatasetMeta(r),u=i.type||e.config.type;if(s.type&&s.type!==u&&(e.destroyDatasetMeta(r),s=e.getDatasetMeta(r)),s.type=u,s.order=i.order||0,s.index=r,s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{var l=m[s.type];if(void 0===l)throw new Error('"'+s.type+'" is not a chart type.');s.controller=new l(e,r),t.push(s.controller)}}return t},resetElements:function(){var e=this;f.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var n,r,t=this;if((!e||"object"!=typeof e)&&(e={duration:e,lazy:arguments[1]}),ti(t),Pe._invalidate(t),!1!==Pe.notify(t,"beforeUpdate")){t.tooltip._data=t.data;var a=t.buildOrUpdateControllers();for(n=0,r=t.data.datasets.length;n<r;n++)t.getDatasetMeta(n).controller.buildOrUpdateElements();t.updateLayout(),t.options.animation&&t.options.animation.duration&&f.each(a,function(i){i.reset()}),t.updateDatasets(),t.tooltip.initialize(),t.lastActive=[],Pe.notify(t,"afterUpdate"),t._layers.sort(la("z","_idx")),t._bufferedRender?t._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:t.render(e)}},updateLayout:function(){var e=this;!1!==Pe.notify(e,"beforeLayout")&&(dt.update(this,this.width,this.height),e._layers=[],f.each(e.boxes,function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())},e),e._layers.forEach(function(t,n){t._idx=n}),Pe.notify(e,"afterScaleUpdate"),Pe.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==Pe.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);Pe.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),r={meta:n,index:e};!1!==Pe.notify(t,"beforeDatasetUpdate",[r])&&(n.controller._update(),Pe.notify(t,"afterDatasetUpdate",[r]))},render:function(e){var t=this;(!e||"object"!=typeof e)&&(e={duration:e,lazy:arguments[1]});var n=t.options.animation,r=Ar(e.duration,n&&n.duration),a=e.lazy;if(!1!==Pe.notify(t,"beforeRender")){var i=function(u){Pe.notify(t,"afterRender"),f.callback(n&&n.onComplete,[u],t)};if(n&&r){var s=new hn({numSteps:r/16.66,easing:e.easing||n.easing,render:function(u,l){var c=l.currentStep,h=c/l.numSteps;u.draw((0,f.easing.effects[l.easing])(h),h,c)},onAnimationProgress:n.onProgress,onAnimationComplete:i});qe.addAnimation(t,s,r,a)}else t.draw(),i(new hn({numSteps:0,chart:t}));return t}},draw:function(e){var n,r,t=this;if(t.clear(),f.isNullOrUndef(e)&&(e=1),t.transition(e),!(t.width<=0||t.height<=0)&&!1!==Pe.notify(t,"beforeDraw",[e])){for(r=t._layers,n=0;n<r.length&&r[n].z<=0;++n)r[n].draw(t.chartArea);for(t.drawDatasets(e);n<r.length;++n)r[n].draw(t.chartArea);t._drawTooltip(e),Pe.notify(t,"afterDraw",[e])}},transition:function(e){for(var t=this,n=0,r=(t.data.datasets||[]).length;n<r;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var a,i,t=this,r=[];for(a=0,i=(t.data.datasets||[]).length;a<i;++a)(!e||t.isDatasetVisible(a))&&r.push(t.getDatasetMeta(a));return r.sort(la("order","index")),r},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var n,r,t=this;if(!1!==Pe.notify(t,"beforeDatasetsDraw",[e])){for(r=(n=t._getSortedVisibleDatasetMetas()).length-1;r>=0;--r)t.drawDataset(n[r],e);Pe.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var r={meta:e,index:e.index,easingValue:t};!1!==Pe.notify(this,"beforeDatasetDraw",[r])&&(e.controller.draw(t),Pe.notify(this,"afterDatasetDraw",[r]))},_drawTooltip:function(e){var t=this,n=t.tooltip,r={tooltip:n,easingValue:e};!1!==Pe.notify(t,"beforeTooltipDraw",[r])&&(n.draw(),Pe.notify(t,"afterTooltipDraw",[r]))},getElementAtEvent:function(e){return _e.modes.single(this,e)},getElementsAtEvent:function(e){return _e.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return _e.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=_e.modes[t];return"function"==typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return _e.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var r=n._meta[t.id];return r||(r=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n.order||0,index:e}),r},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var n,r,e=this,t=e.canvas;for(e.stop(),n=0,r=e.data.datasets.length;n<r;++n)e.destroyDatasetMeta(n);t&&(e.unbindEvents(),f.canvas.clear(e),on.releaseContext(e.ctx),e.canvas=null,e.ctx=null),Pe.notify(e,"destroy"),delete Vt.instances[e.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Rr({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};f.each(e.options.events,function(r){on.addEventListener(e,r,n),t[r]=n}),e.options.responsive&&(n=function(){e.resize()},on.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;!t||(delete e._listeners,f.each(t,function(n,r){on.removeEventListener(e,r,n)}))},updateHoverStyle:function(e,t,n){var a,i,s,r=n?"set":"remove";for(i=0,s=e.length;i<s;++i)(a=e[i])&&this.getDatasetMeta(a._datasetIndex).controller[r+"HoverStyle"](a);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+r+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==Pe.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var r=t.handleEvent(e);n&&(r=n._start?n.handleEvent(e):r|n.handleEvent(e)),Pe.notify(t,"afterEvent",[e]);var a=t._bufferedRequest;return a?t.render(a):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var a,t=this,n=t.options||{},r=n.hover;return t.lastActive=t.lastActive||[],t.active="mouseout"===e.type?[]:t.getElementsAtEventForMode(e,r.mode,r),f.callback(n.onHover||n.hover.onHover,[e.native,t.active],t),("mouseup"===e.type||"click"===e.type)&&n.onClick&&n.onClick.call(t,e.native,t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,r.mode,!1),t.active.length&&r.mode&&t.updateHoverStyle(t.active,r.mode,!0),a=!f.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,a}}),Vt.instances={};var ce=Vt;Vt.Controller=Vt,Vt.types={},f.configMerge=Fr,f.scaleMerge=ia;function Gt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Bn(e){this.options=e||{}}f.extend(Bn.prototype,{formats:Gt,parse:Gt,format:Gt,add:Gt,diff:Gt,startOf:Gt,endOf:Gt,_create:function(e){return e}}),Bn.override=function(e){f.extend(Bn.prototype,e)};var Lr={_date:Bn},yn={formatters:{values:function(e){return f.isArray(e)?e:""+e},linear:function(e,t,n){var r=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var a=f.log10(Math.abs(r)),i="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var u=f.log10(Math.abs(e)),l=Math.floor(u)-Math.floor(a);l=Math.max(Math.min(l,20),0),i=e.toExponential(l)}else{var d=-1*Math.floor(a);d=Math.max(Math.min(d,20),0),i=e.toFixed(d)}else i="0";return i},logarithmic:function(e,t,n){var r=e/Math.pow(10,Math.floor(f.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===t||t===n.length-1?e.toExponential():""}}},Qt=f.isArray,_n=f.isNullOrUndef,Xt=f.valueOrDefault,sn=f.valueAtIndexOrDefault;function ii(e,t,n){var d,r=e.getTicks().length,a=Math.min(t,r-1),i=e.getPixelForTick(a),s=e._startPixel,u=e._endPixel,l=1e-6;if(!(n&&(d=1===r?Math.max(i-s,u-i):0===t?(e.getPixelForTick(1)-i)/2:(i-e.getPixelForTick(a-1))/2,i+=a<t?d:-d,i<s-l||i>u+l)))return i}function si(e,t,n,r){var c,h,v,b,_,C,P,A,j,U,de,se,be,a=n.length,i=[],s=[],u=[],l=0,d=0;for(c=0;c<a;++c){if(b=n[c].label,e.font=C=(_=n[c].major?t.major:t.minor).string,P=r[C]=r[C]||{data:{},gc:[]},A=_.lineHeight,j=U=0,_n(b)||Qt(b)){if(Qt(b))for(h=0,v=b.length;h<v;++h)!_n(de=b[h])&&!Qt(de)&&(j=f.measureText(e,P.data,P.gc,j,de),U+=A)}else j=f.measureText(e,P.data,P.gc,j,b),U=A;i.push(j),s.push(U),u.push(A/2),l=Math.max(j,l),d=Math.max(U,d)}function me(xe){return{width:i[xe]||0,height:s[xe]||0,offset:u[xe]||0}}return function oi(e,t){f.each(e,function(n){var i,r=n.gc,a=r.length/2;if(a>t){for(i=0;i<a;++i)delete n.data[r[i]];r.splice(0,a)}})}(r,a),se=i.indexOf(l),be=s.indexOf(d),{first:me(0),last:me(a-1),widest:me(se),highest:me(be)}}function xn(e){return e.drawTicks?e.tickMarkLength:0}function Nr(e){var t,n;return e.display?(t=f.options._parseFont(e),n=f.options.toPadding(e.padding),t.lineHeight+n.height):0}function ua(e,t){return f.extend(f.options._parseFont({fontFamily:Xt(t.fontFamily,e.fontFamily),fontSize:Xt(t.fontSize,e.fontSize),fontStyle:Xt(t.fontStyle,e.fontStyle),lineHeight:Xt(t.lineHeight,e.lineHeight)}),{color:f.options.resolve([t.fontColor,e.fontColor,R.global.defaultFontColor])})}function Br(e){var t=ua(e,e.minor);return{minor:t,major:e.major.enabled?ua(e,e.major):t}}function Wr(e){var n,r,a,t=[];for(r=0,a=e.length;r<a;++r)typeof(n=e[r])._index<"u"&&t.push(n);return t}function Wn(e,t,n,r){var u,l,d,c,a=Xt(n,0),i=Math.min(Xt(r,e.length),e.length),s=0;for(t=Math.ceil(t),r&&(t=(u=r-n)/Math.floor(u/t)),c=a;c<0;)s++,c=Math.round(a+s*t);for(l=Math.max(a,0);l<i;l++)d=e[l],l===c?(d._index=l,s++,c=Math.round(a+s*t)):delete d.label}R._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:yn.formatters.values,minor:{},major:{}}});var zr=lt.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){f.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var s,u,l,d,c,r=this,a=r.options.ticks,i=a.sampleSize;if(r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=f.extend({left:0,right:0,top:0,bottom:0},n),r._ticks=null,r.ticks=null,r._labelSizes=null,r._maxLabelLines=0,r.longestLabelWidth=0,r.longestTextCache=r.longestTextCache||{},r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),d=r.buildTicks()||[],(!(d=r.afterBuildTicks(d)||d)||!d.length)&&r.ticks)for(d=[],s=0,u=r.ticks.length;s<u;++s)d.push({value:r.ticks[s],major:!1});return r._ticks=d,l=r._convertTicksToLabels((c=i<d.length)?function ai(e,t){for(var n=[],r=e.length/t,a=0,i=e.length;a<i;a+=r)n.push(e[Math.floor(a)]);return n}(d,i):d),r._configure(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r._ticksToDraw=a.display&&(a.autoSkip||"auto"===a.source)?r._autoSkip(d):d,c&&(l=r._convertTicksToLabels(r._ticksToDraw)),r.ticks=l,r.afterUpdate(),r.minSize},_configure:function(){var n,r,e=this,t=e.options.ticks.reverse;e.isHorizontal()?(n=e.left,r=e.right):(n=e.top,r=e.bottom,t=!t),e._startPixel=n,e._endPixel=r,e._reversePixels=t,e._length=r-n},afterUpdate:function(){f.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){f.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){f.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){f.callback(this.options.beforeDataLimits,[this])},determineDataLimits:f.noop,afterDataLimits:function(){f.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){f.callback(this.options.beforeBuildTicks,[this])},buildTicks:f.noop,afterBuildTicks:function(e){var t=this;return Qt(e)&&e.length?f.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=f.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){f.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){f.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){f.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var u,l,d,c,h,v,b,e=this,t=e.options,n=t.ticks,r=e.getTicks().length,a=n.minRotation||0,i=n.maxRotation,s=a;!e._isVisible()||!n.display||a>=i||r<=1||!e.isHorizontal()?e.labelRotation=a:(l=(u=e._getLabelSizes()).widest.width,d=u.highest.height-u.highest.offset,c=Math.min(e.maxWidth,e.chart.width-l),l+6>(h=t.offset?e.maxWidth/r:c/(r-1))&&(h=c/(r-(t.offset?.5:1)),v=e.maxHeight-xn(t.gridLines)-n.padding-Nr(t.scaleLabel),b=Math.sqrt(l*l+d*d),s=f.toDegrees(Math.min(Math.asin(Math.min((u.highest.height+6)/h,1)),Math.asin(Math.min(v/b,1))-Math.asin(d/b))),s=Math.max(a,Math.min(i,s))),e.labelRotation=s)},afterCalculateTickRotation:function(){f.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){f.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,r=e.options,a=r.ticks,i=r.scaleLabel,s=r.gridLines,u=e._isVisible(),l="bottom"===r.position,d=e.isHorizontal();if(d?t.width=e.maxWidth:u&&(t.width=xn(s)+Nr(i)),d?u&&(t.height=xn(s)+Nr(i)):t.height=e.maxHeight,a.display&&u){var c=Br(a),h=e._getLabelSizes(),v=h.first,b=h.last,_=h.widest,C=h.highest,P=.4*c.minor.lineHeight,A=a.padding;if(d){var j=0!==e.labelRotation,U=f.toRadians(e.labelRotation),de=Math.cos(U),se=Math.sin(U);t.height=Math.min(e.maxHeight,t.height+(se*_.width+de*(C.height-(j?C.offset:0))+(j?0:P))+A);var Te,We,me=e.getPixelForTick(0)-e.left,xe=e.right-e.getPixelForTick(e.getTicks().length-1);j?(Te=l?de*v.width+se*v.offset:se*(v.height-v.offset),We=l?se*(b.height-b.offset):de*b.width+se*b.offset):(Te=v.width/2,We=b.width/2),e.paddingLeft=Math.max((Te-me)*e.width/(e.width-me),0)+3,e.paddingRight=Math.max((We-xe)*e.width/(e.width-xe),0)+3}else t.width=Math.min(e.maxWidth,t.width+(a.mirror?0:_.width+A+P)),e.paddingTop=v.height/2,e.paddingBottom=b.height/2}e.handleMargins(),d?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){f.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(_n(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var n,r,a,t=this;for(t.ticks=e.map(function(i){return i.value}),t.beforeTickToLabelConversion(),n=t.convertTicksToLabels(e)||t.ticks,t.afterTickToLabelConversion(),r=0,a=e.length;r<a;++r)e[r].label=n[r];return n},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=si(e.ctx,Br(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,r,a;return Qt(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),r=Math.min(t,n),a=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),r=e,a=e),{min:r,max:a,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:f.noop,getPixelForValue:f.noop,getValueForPixel:f.noop,getPixelForTick:function(e){var t=this,n=t.options.offset,r=t._ticks.length,a=1/Math.max(r-(n?0:1),1);return e<0||e>r-1?null:t.getPixelForDecimal(e*a+(n?a/2:0))},getPixelForDecimal:function(e){var t=this;return t._reversePixels&&(e=1-e),t._startPixel+e*t._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var d,c,h,v,t=this,n=t.options.ticks,r=t._length,a=n.maxTicksLimit||r/t._tickSize()+1,i=n.major.enabled?function di(e){var n,r,t=[];for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(e):[],s=i.length,u=i[0],l=i[s-1];if(s>a)return function ci(e,t,n){var i,s,r=0,a=t[0];for(n=Math.ceil(n),i=0;i<e.length;i++)s=e[i],i===a?(s._index=i,a=t[++r*n]):delete s.label}(e,i,s/a),Wr(e);if(h=function ui(e,t,n,r){var s,u,l,d,a=function li(e){var n,r,t=e.length;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=(t.length-1)/r;if(!a)return Math.max(i,1);for(l=0,d=(s=f.math._factorize(a)).length-1;l<d;l++)if((u=s[l])>i)return u;return Math.max(i,1)}(i,e,0,a),s>0){for(d=0,c=s-1;d<c;d++)Wn(e,h,i[d],i[d+1]);return Wn(e,h,f.isNullOrUndef(v=s>1?(l-u)/(s-1):null)?0:u-v,u),Wn(e,h,l,f.isNullOrUndef(v)?e.length:l+v),Wr(e)}return Wn(e,h),Wr(e)},_tickSize:function(){var e=this,t=e.options.ticks,n=f.toRadians(e.labelRotation),r=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),i=e._getLabelSizes(),s=t.autoSkipPadding||0,u=i?i.widest.width+s:0,l=i?i.highest.height+s:0;return e.isHorizontal()?l*r>u*a?u/r:l/a:l*a<u*r?l/r:u/a},_isVisible:function(){var r,a,i,e=this,t=e.chart,n=e.options.display;if("auto"!==n)return!!n;for(r=0,a=t.data.datasets.length;r<a;++r)if(t.isDatasetVisible(r)&&((i=t.getDatasetMeta(r)).xAxisID===e.id||i.yAxisID===e.id))return!0;return!1},_computeGridLineItems:function(e){var P,A,j,U,de,se,be,me,xe,Te,We,Le,Fe,Ve,un,dn,Gr,t=this,n=t.chart,r=t.options,a=r.gridLines,i=r.position,s=a.offsetGridLines,u=t.isHorizontal(),l=t._ticksToDraw,d=l.length+(s?1:0),c=xn(a),h=[],v=a.drawBorder?sn(a.lineWidth,0,0):0,b=v/2,_=f._alignPixel,C=function(co){return _(n,co,v)};for("top"===i?(P=C(t.bottom),be=t.bottom-c,xe=P-b,We=C(e.top)+b,Fe=e.bottom):"bottom"===i?(P=C(t.top),We=e.top,Fe=C(e.bottom)-b,be=P+b,xe=t.top+c):"left"===i?(P=C(t.right),se=t.right-c,me=P-b,Te=C(e.left)+b,Le=e.right):(P=C(t.left),Te=e.left,Le=C(e.right)-b,se=P+b,me=t.left+c),A=0;A<d;++A)!(_n((j=l[A]||{}).label)&&A<l.length)&&(A===t.zeroLineIndex&&r.offset===s?(Ve=a.zeroLineWidth,un=a.zeroLineColor,dn=a.zeroLineBorderDash||[],Gr=a.zeroLineBorderDashOffset||0):(Ve=sn(a.lineWidth,A,1),un=sn(a.color,A,"rgba(0,0,0,0.1)"),dn=a.borderDash||[],Gr=a.borderDashOffset||0),void 0!==(U=ii(t,j._index||A,s))&&(de=_(n,U,Ve),u?se=me=Te=Le=de:be=xe=We=Fe=de,h.push({tx1:se,ty1:be,tx2:me,ty2:xe,x1:Te,y1:We,x2:Le,y2:Fe,width:Ve,color:un,borderDash:dn,borderDashOffset:Gr})));return h.ticksLength=d,h.borderValue=P,h},_computeLabelItems:function(){var v,b,_,C,P,A,j,U,de,se,be,me,e=this,t=e.options,n=t.ticks,r=t.position,a=n.mirror,i=e.isHorizontal(),s=e._ticksToDraw,u=Br(n),l=n.padding,d=xn(t.gridLines),c=-f.toRadians(e.labelRotation),h=[];for("top"===r?(A=e.bottom-d-l,j=c?"left":"center"):"bottom"===r?(A=e.top+d+l,j=c?"right":"center"):"left"===r?(P=e.right-(a?0:d)-l,j=a?"left":"right"):(P=e.left+(a?0:d)+l,j=a?"right":"left"),v=0,b=s.length;v<b;++v)!_n(C=(_=s[v]).label)&&(U=e.getPixelForTick(_._index||v)+n.labelOffset,se=(de=_.major?u.major:u.minor).lineHeight,be=Qt(C)?C.length:1,i?(P=U,me="top"===r?((c?1:.5)-be)*se:(c?0:.5)*se):(A=U,me=(1-be)*se/2),h.push({x:P,y:A,rotation:c,label:C,font:de,textOffset:me,textAlign:j}));return h},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var l,d,c,h,v,r=t.ctx,a=t.chart,i=f._alignPixel,s=n.drawBorder?sn(n.lineWidth,0,0):0,u=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(c=0,h=u.length;c<h;++c)d=(v=u[c]).color,(l=v.width)&&d&&(r.save(),r.lineWidth=l,r.strokeStyle=d,r.setLineDash&&(r.setLineDash(v.borderDash),r.lineDashOffset=v.borderDashOffset),r.beginPath(),n.drawTicks&&(r.moveTo(v.tx1,v.ty1),r.lineTo(v.tx2,v.ty2)),n.drawOnChartArea&&(r.moveTo(v.x1,v.y1),r.lineTo(v.x2,v.y2)),r.stroke(),r.restore());if(s){var P,A,j,U,b=s,_=sn(n.lineWidth,u.ticksLength-1,1),C=u.borderValue;t.isHorizontal()?(P=i(a,t.left,b)-b/2,A=i(a,t.right,_)+_/2,j=U=C):(j=i(a,t.top,b)-b/2,U=i(a,t.bottom,_)+_/2,P=A=C),r.lineWidth=s,r.strokeStyle=sn(n.color,0),r.beginPath(),r.moveTo(P,j),r.lineTo(A,U),r.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var a,i,s,u,l,d,c,h,n=e.ctx,r=e._labelItems||(e._labelItems=e._computeLabelItems());for(a=0,s=r.length;a<s;++a){if(d=(l=r[a]).font,n.save(),n.translate(l.x,l.y),n.rotate(l.rotation),n.font=d.string,n.fillStyle=d.color,n.textBaseline="middle",n.textAlign=l.textAlign,h=l.textOffset,Qt(c=l.label))for(i=0,u=c.length;i<u;++i)n.fillText(""+c[i],0,h),h+=d.lineHeight;else n.fillText(c,0,h);n.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,r=n.scaleLabel;if(r.display){var c,h,a=Xt(r.fontColor,R.global.defaultFontColor),i=f.options._parseFont(r),s=f.options.toPadding(r.padding),u=i.lineHeight/2,l=n.position,d=0;if(e.isHorizontal())c=e.left+e.width/2,h="bottom"===l?e.bottom-u-s.bottom:e.top+u+s.top;else{var v="left"===l;c=v?e.left+u+s.top:e.right-u-s.top,h=e.top+e.height/2,d=v?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(c,h),t.rotate(d),t.textAlign="center",t.textBaseline="middle",t.fillStyle=a,t.font=i.string,t.fillText(r.labelString,0,0),t.restore()}},draw:function(e){var t=this;!t._isVisible()||(t._drawGrid(e),t._drawTitle(),t._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==r&&e.draw===e._draw?[{z:r,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(r){return(!e||r.type===e)&&(n?r.xAxisID===t.id:r.yAxisID===t.id)})}});zr.prototype._draw=zr.prototype.draw;var Je=zr,Vr=f.isNullOrUndef,da=Je.extend({determineDataLimits:function(){var u,e=this,t=e._getLabels(),n=e.options.ticks,r=n.min,a=n.max,i=0,s=t.length-1;void 0!==r&&(u=t.indexOf(r))>=0&&(i=u),void 0!==a&&(u=t.indexOf(a))>=0&&(s=u),e.minIndex=i,e.maxIndex=s,e.min=t[i],e.max=t[s]},buildTicks:function(){var e=this,t=e._getLabels(),n=e.minIndex,r=e.maxIndex;e.ticks=0===n&&r===t.length-1?t:t.slice(n,r+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart;return r.getDatasetMeta(t).controller._getValueScaleId()===n.id?n.getRightValue(r.data.datasets[t].data[e]):n._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;Je.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var a,i,s,r=this;return!Vr(t)&&!Vr(n)&&(e=r.chart.data.datasets[n].data[t]),Vr(e)||(a=r.isHorizontal()?e.x:e.y),(void 0!==a||void 0!==e&&isNaN(t))&&(i=r._getLabels(),e=f.valueOrDefault(a,e),t=-1!==(s=i.indexOf(e))?s:t,isNaN(t)&&(t=e)),r.getPixelForDecimal((t-r._startValue)/r._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=this,n=Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange);return Math.min(Math.max(n,0),t.ticks.length-1)},getBasePixel:function(){return this.bottom}});da._defaults={position:"bottom"};var Zt=f.isNullOrUndef;var zn=Je.extend({getRightValue:function(e){return"string"==typeof e?+e:Je.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,n=e.options.ticks;if(n.beginAtZero){var r=f.sign(e.min),a=f.sign(e.max);r<0&&a<0?e.max=0:r>0&&a>0&&(e.min=0)}var i=void 0!==n.min||void 0!==n.suggestedMin,s=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(e.min=null===e.min?n.suggestedMin:Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(e.max=null===e.max?n.suggestedMax:Math.max(e.max,n.suggestedMax)),i!==s&&e.min>=e.max&&(i?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:function(){var a,e=this,t=e.options.ticks,n=t.stepSize,r=t.maxTicksLimit;return n?a=Math.ceil(e.max/n)-Math.floor(e.min/n)+1:(a=e._computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:f.noop,buildTicks:function(){var e=this,n=e.options.ticks,r=e.getTickLimit(),a={maxTicks:r=Math.max(2,r),min:n.min,max:n.max,precision:n.precision,stepSize:f.valueOrDefault(n.fixedStepSize,n.stepSize)},i=e.ticks=function vi(e,t){var b,_,C,P,n=[],a=e.stepSize,i=a||1,s=e.maxTicks-1,u=e.min,l=e.max,d=e.precision,c=t.min,h=t.max,v=f.niceNum((h-c)/s/i)*i;if(v<1e-14&&Zt(u)&&Zt(l))return[c,h];(P=Math.ceil(h/v)-Math.floor(c/v))>s&&(v=f.niceNum(P*v/s/i)*i),a||Zt(d)?b=Math.pow(10,f._decimalPlaces(v)):(b=Math.pow(10,d),v=Math.ceil(v*b)/b),_=Math.floor(c/v)*v,C=Math.ceil(h/v)*v,a&&(!Zt(u)&&f.almostWhole(u/v,v/1e3)&&(_=u),!Zt(l)&&f.almostWhole(l/v,v/1e3)&&(C=l)),P=f.almostEquals(P=(C-_)/v,Math.round(P),v/1e3)?Math.round(P):Math.ceil(P),_=Math.round(_*b)/b,C=Math.round(C*b)/b,n.push(Zt(u)?_:u);for(var A=1;A<P;++A)n.push(Math.round((_+A*v)*b)/b);return n.push(Zt(l)?C:l),n}(a,e);e.handleDirectionalChanges(),e.max=f.max(i),e.min=f.min(i),n.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),Je.prototype.convertTicksToLabels.call(e)},_configure:function(){var a,e=this,t=e.getTicks(),n=e.min,r=e.max;Je.prototype._configure.call(e),e.options.offset&&t.length&&(n-=a=(r-n)/Math.max(t.length-1,1)/2,r+=a),e._startValue=n,e._endValue=r,e._valueRange=r-n}}),mi={position:"left",ticks:{callback:yn.formatters.linear}};function _i(e,t,n,r){var c,h,a=e.options,s=function yi(e,t,n){var r=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[r]&&(e[r]={pos:[],neg:[]}),e[r]}(t,a.stacked,n),u=s.pos,l=s.neg,d=r.length;for(c=0;c<d;++c)h=e._parseValue(r[c]),!(isNaN(h.min)||isNaN(h.max)||n.data[c].hidden)&&(u[c]=u[c]||0,l[c]=l[c]||0,a.relativePoints?u[c]=100:h.min<0||h.max<0?l[c]+=h.min:u[c]+=h.max)}function xi(e,t,n){var a,i,r=n.length;for(a=0;a<r;++a)i=e._parseValue(n[a]),!(isNaN(i.min)||isNaN(i.max)||t.data[a].hidden)&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}var ca=zn.extend({determineDataLimits:function(){var l,d,c,h,e=this,t=e.options,r=e.chart.data.datasets,a=e._getMatchingVisibleMetas(),i=t.stacked,s={},u=a.length;if(e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,void 0===i)for(l=0;!i&&l<u;++l)i=void 0!==(d=a[l]).stack;for(l=0;l<u;++l)c=r[(d=a[l]).index].data,i?_i(e,s,d,c):xi(e,d,c);f.each(s,function(v){h=v.pos.concat(v.neg),e.min=Math.min(e.min,f.min(h)),e.max=Math.max(e.max,f.max(h))}),e.min=f.isFinite(e.min)&&!isNaN(e.min)?e.min:0,e.max=f.isFinite(e.max)&&!isNaN(e.max)?e.max:1,e.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=f.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this;return t.getPixelForDecimal((+t.getRightValue(e)-t._startValue)/t._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}});ca._defaults=mi;var Hr=f.valueOrDefault,et=f.math.log10;var Mi={position:"left",ticks:{callback:yn.formatters.logarithmic}};function Vn(e,t){return f.isFinite(e)&&e>=0?e:t}var ha=Je.extend({determineDataLimits:function(){var s,u,l,d,c,h,e=this,t=e.options,n=e.chart,r=n.data.datasets,a=e.isHorizontal();function i(P){return a?P.xAxisID===e.id:P.yAxisID===e.id}e.min=Number.POSITIVE_INFINITY,e.max=Number.NEGATIVE_INFINITY,e.minNotZero=Number.POSITIVE_INFINITY;var v=t.stacked;if(void 0===v)for(s=0;s<r.length;s++)if(u=n.getDatasetMeta(s),n.isDatasetVisible(s)&&i(u)&&void 0!==u.stack){v=!0;break}if(t.stacked||v){var b={};for(s=0;s<r.length;s++){var _=[(u=n.getDatasetMeta(s)).type,void 0===t.stacked&&void 0===u.stack?s:"",u.stack].join(".");if(n.isDatasetVisible(s)&&i(u))for(void 0===b[_]&&(b[_]=[]),c=0,h=(d=r[s].data).length;c<h;c++){var C=b[_];l=e._parseValue(d[c]),!(isNaN(l.min)||isNaN(l.max)||u.data[c].hidden||l.min<0||l.max<0)&&(C[c]=C[c]||0,C[c]+=l.max)}}f.each(b,function(P){if(P.length>0){var A=f.min(P),j=f.max(P);e.min=Math.min(e.min,A),e.max=Math.max(e.max,j)}})}else for(s=0;s<r.length;s++)if(u=n.getDatasetMeta(s),n.isDatasetVisible(s)&&i(u))for(c=0,h=(d=r[s].data).length;c<h;c++)l=e._parseValue(d[c]),!(isNaN(l.min)||isNaN(l.max)||u.data[c].hidden||l.min<0||l.max<0)&&(e.min=Math.min(l.min,e.min),e.max=Math.max(l.max,e.max),0!==l.min&&(e.minNotZero=Math.min(l.min,e.minNotZero)));e.min=f.isFinite(e.min)?e.min:null,e.max=f.isFinite(e.max)?e.max:null,e.minNotZero=f.isFinite(e.minNotZero)?e.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=Vn(t.min,e.min),e.max=Vn(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(et(e.min))-1),e.max=Math.pow(10,Math.floor(et(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(et(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(et(e.min))+1):10),null===e.minNotZero&&(e.minNotZero=e.min>0?e.min:e.max<1?Math.pow(10,Math.floor(et(e.max))):1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),r={min:Vn(t.min),max:Vn(t.max)},a=e.ticks=function Si(e,t){var s,u,n=[],r=Hr(e.min,Math.pow(10,Math.floor(et(t.min)))),a=Math.floor(et(t.max)),i=Math.ceil(t.max/Math.pow(10,a));0===r?(s=Math.floor(et(t.minNotZero)),u=Math.floor(t.minNotZero/Math.pow(10,s)),n.push(r),r=u*Math.pow(10,s)):(s=Math.floor(et(r)),u=Math.floor(r/Math.pow(10,s)));var l=s<0?Math.pow(10,Math.abs(s)):1;do{n.push(r),10==++u&&(u=1,l=++s>=0?1:l),r=Math.round(u*Math.pow(10,s)*l)/l}while(s<a||s===a&&u<i);var d=Hr(e.max,r);return n.push(d),n}(r,e);e.max=f.max(a),e.min=f.min(a),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&a.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Je.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(et(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;Je.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=Hr(e.options.ticks.fontSize,R.global.defaultFontSize)/e._length),e._startValue=et(t),e._valueOffset=n,e._valueRange=(et(e.max)-et(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(et(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}});ha._defaults=Mi;var Hn=f.valueOrDefault,jr=f.valueAtIndexOrDefault,fa=f.options.resolve,wi={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:yn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Ur(e){var t=e.ticks;return t.display&&e.display?Hn(t.fontSize,R.global.defaultFontSize)+2*t.backdropPaddingY:0}function Ti(e,t,n){return f.isArray(n)?{w:f.longestText(e,e.font,n),h:n.length*t}:{w:e.measureText(n).width,h:t}}function pa(e,t,n,r,a){return e===r||e===a?{start:t-n/2,end:t+n/2}:e<r||e>a?{start:t-n,end:t}:{start:t,end:t+n}}function Ei(e){return 0===e||180===e?"center":e<180?"left":"right"}function Oi(e,t,n,r){var i,s,a=n.y+r/2;if(f.isArray(t))for(i=0,s=t.length;i<s;++i)e.fillText(t[i],n.x,a),a+=r;else e.fillText(t,n.x,a)}function Ii(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function jn(e){return f.isNumber(e)?e:0}var va=zn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Ur(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;f.each(t.data.datasets,function(a,i){if(t.isDatasetVisible(i)){var s=t.getDatasetMeta(i);f.each(a.data,function(u,l){var d=+e.getRightValue(u);isNaN(d)||s.data[l].hidden||(n=Math.min(d,n),r=Math.max(d,r))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Ur(this.options))},convertTicksToLabels:function(){var e=this;zn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var t=f.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""})},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this,t=e.options;t.display&&t.pointLabels.display?function Di(e){var a,i,s,t=f.options._parseFont(e.options.pointLabels),n={l:0,r:e.width,t:0,b:e.height-e.paddingTop},r={};e.ctx.font=t.string,e._pointLabelSizes=[];var u=e.chart.data.labels.length;for(a=0;a<u;a++){s=e.getPointPosition(a,e.drawingArea+5),i=Ti(e.ctx,t.lineHeight,e.pointLabels[a]),e._pointLabelSizes[a]=i;var l=e.getIndexAngle(a),d=f.toDegrees(l)%360,c=pa(d,s.x,i.w,0,180),h=pa(d,s.y,i.h,90,270);c.start<n.l&&(n.l=c.start,r.l=l),c.end>n.r&&(n.r=c.end,r.r=l),h.start<n.t&&(n.t=h.start,r.t=l),h.end>n.b&&(n.b=h.end,r.b=l)}e.setReductions(e.drawingArea,n,r)}(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var r=this,a=t.l/Math.sin(n.l),i=Math.max(t.r-r.width,0)/Math.sin(n.r),s=-t.t/Math.cos(n.t),u=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(n.b);a=jn(a),i=jn(i),s=jn(s),u=jn(u),r.drawingArea=Math.min(Math.floor(e-(a+i)/2),Math.floor(e-(s+u)/2)),r.setCenterPoint(a,i,s,u)},setCenterPoint:function(e,t,n,r){var a=this,u=n+a.drawingArea,l=a.height-a.paddingTop-r-a.drawingArea;a.xCenter=Math.floor((e+a.drawingArea+(a.width-t-a.drawingArea))/2+a.left),a.yCenter=Math.floor((u+l)/2+a.top+a.paddingTop)},getIndexAngle:function(e){var t=this.chart,i=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(i<0?i+360:i)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(f.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,r=n.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(r)*t+n.xCenter,y:Math.sin(r)*t+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this,n=t.min,r=t.max;return t.getPointPositionForValue(e||0,t.beginAtZero?0:n<0&&r<0?r:n>0&&r>0?n:0)},_drawGrid:function(){var u,l,d,e=this,t=e.ctx,n=e.options,r=n.gridLines,a=n.angleLines,i=Hn(a.lineWidth,r.lineWidth),s=Hn(a.color,r.color);if(n.pointLabels.display&&function ki(e){var t=e.ctx,n=e.options,r=n.pointLabels,a=Ur(n),i=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),s=f.options._parseFont(r);t.save(),t.font=s.string,t.textBaseline="middle";for(var u=e.chart.data.labels.length-1;u>=0;u--){var d=e.getPointPosition(u,i+(0===u?a/2:0)+5),c=jr(r.fontColor,u,R.global.defaultFontColor);t.fillStyle=c;var h=e.getIndexAngle(u),v=f.toDegrees(h);t.textAlign=Ei(v),Ii(v,e._pointLabelSizes[u],d),Oi(t,e.pointLabels[u],d,s.lineHeight)}t.restore()}(e),r.display&&f.each(e.ticks,function(c,h){0!==h&&(l=e.getDistanceFromCenterForValue(e.ticksAsNumbers[h]),function Ri(e,t,n,r){var d,a=e.ctx,i=t.circular,s=e.chart.data.labels.length,u=jr(t.color,r-1),l=jr(t.lineWidth,r-1);if((i||s)&&u&&l){if(a.save(),a.strokeStyle=u,a.lineWidth=l,a.setLineDash&&(a.setLineDash(t.borderDash||[]),a.lineDashOffset=t.borderDashOffset||0),a.beginPath(),i)a.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{d=e.getPointPosition(0,n),a.moveTo(d.x,d.y);for(var c=1;c<s;c++)d=e.getPointPosition(c,n),a.lineTo(d.x,d.y)}a.closePath(),a.stroke(),a.restore()}}(e,r,l,h))}),a.display&&i&&s){for(t.save(),t.lineWidth=i,t.strokeStyle=s,t.setLineDash&&(t.setLineDash(fa([a.borderDash,r.borderDash,[]])),t.lineDashOffset=fa([a.borderDashOffset,r.borderDashOffset,0])),u=e.chart.data.labels.length-1;u>=0;u--)l=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),d=e.getPointPosition(u,l),t.beginPath(),t.moveTo(e.xCenter,e.yCenter),t.lineTo(d.x,d.y),t.stroke();t.restore()}},_drawLabels:function(){var e=this,t=e.ctx,r=e.options.ticks;if(r.display){var u,l,a=e.getIndexAngle(0),i=f.options._parseFont(r),s=Hn(r.fontColor,R.global.defaultFontColor);t.save(),t.font=i.string,t.translate(e.xCenter,e.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",f.each(e.ticks,function(d,c){0===c&&!r.reverse||(u=e.getDistanceFromCenterForValue(e.ticksAsNumbers[c]),r.showLabelBackdrop&&(l=t.measureText(d).width,t.fillStyle=r.backdropColor,t.fillRect(-l/2-r.backdropPaddingX,-u-i.size/2-r.backdropPaddingY,l+2*r.backdropPaddingX,i.size+2*r.backdropPaddingY)),t.fillStyle=s,t.fillText(d,0,-u))}),t.restore()}},_drawTitle:f.noop});va._defaults=wi;var Yr=f._deprecated,ma=f.options.resolve,Fi=f.valueOrDefault,ga=Number.MIN_SAFE_INTEGER||-9007199254740991,$r=Number.MAX_SAFE_INTEGER||9007199254740991,Un={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tt=Object.keys(Un);function ba(e,t){return e-t}function ya(e){return f.valueOrDefault(e.time.min,e.ticks.min)}function _a(e){return f.valueOrDefault(e.time.max,e.ticks.max)}function ln(e,t,n,r){var a=function Bi(e,t,n){for(var i,s,u,r=0,a=e.length-1;r>=0&&r<=a;){if(u=e[i=r+a>>1],!(s=e[i-1]||null))return{lo:null,hi:u};if(u[t]<n)r=i+1;else{if(!(s[t]>n))return{lo:s,hi:u};a=i-1}}return{lo:u,hi:null}}(e,t,n),i=a.lo?a.hi?a.lo:e[e.length-2]:e[0],s=a.lo?a.hi?a.hi:e[e.length-1]:e[1],u=s[t]-i[t];return i[r]+(s[r]-i[r])*(u?(n-i[t])/u:0)}function qr(e,t){var n=e._adapter,r=e.options.time,a=r.parser,i=a||r.format,s=t;return"function"==typeof a&&(s=a(s)),f.isFinite(s)||(s="string"==typeof i?n.parse(s,i):n.parse(s)),null!==s?+s:(!a&&"function"==typeof i&&(s=i(t),f.isFinite(s)||(s=n.parse(s))),s)}function Jt(e,t){if(f.isNullOrUndef(t))return null;var n=e.options.time,r=qr(e,e.getRightValue(t));return null===r||n.round&&(r=+e._adapter.startOf(r,n.round)),r}function xa(e,t,n,r){var i,s,a=tt.length;for(i=tt.indexOf(e);i<a-1;++i)if((s=Un[tt[i]]).common&&Math.ceil((n-t)/((s.steps?s.steps:$r)*s.size))<=r)return tt[i];return tt[a-1]}function Ca(e,t,n){var s,u,r=[],a={},i=t.length;for(s=0;s<i;++s)a[u=t[s]]=s,r.push({value:u,major:!1});return 0!==i&&n?function ji(e,t,n,r){var u,l,a=e._adapter,i=+a.startOf(t[0].value,r),s=t[t.length-1].value;for(u=i;u<=s;u=+a.add(u,1,r))(l=n[u])>=0&&(t[l].major=!0);return t}(e,r,a,n):r}var Sa=Je.extend({initialize:function(){this.mergeTicksOptions(),Je.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),r=e._adapter=new Lr._date(t.adapters.date);return Yr("time scale",n.format,"time.format","time.parser"),Yr("time scale",n.min,"time.min","ticks.min"),Yr("time scale",n.max,"time.max","ticks.max"),f.mergeIf(n.displayFormats,r.formats()),Je.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),Je.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var c,h,v,b,_,C,P,e=this,t=e.chart,n=e._adapter,r=e.options,a=r.time.unit||"day",i=$r,s=ga,u=[],l=[],d=[],A=e._getLabels();for(c=0,v=A.length;c<v;++c)d.push(Jt(e,A[c]));for(c=0,v=(t.data.datasets||[]).length;c<v;++c)if(t.isDatasetVisible(c))if(f.isObject((_=t.data.datasets[c].data)[0]))for(l[c]=[],h=0,b=_.length;h<b;++h)C=Jt(e,_[h]),u.push(C),l[c][h]=C;else l[c]=d.slice(0),P||(u=u.concat(d),P=!0);else l[c]=[];d.length&&(i=Math.min(i,d[0]),s=Math.max(s,d[d.length-1])),u.length&&(u=v>1?function Li(e){var r,a,i,t={},n=[];for(r=0,a=e.length;r<a;++r)t[i=e[r]]||(t[i]=!0,n.push(i));return n}(u).sort(ba):u.sort(ba),i=Math.min(i,u[0]),s=Math.max(s,u[u.length-1])),i=Jt(e,ya(r))||i,s=Jt(e,_a(r))||s,i=i===$r?+n.startOf(Date.now(),a):i,s=s===ga?+n.endOf(Date.now(),a)+1:s,e.min=Math.min(i,s),e.max=Math.max(i+1,s),e._table=[],e._timestamps={data:u,datasets:l,labels:d}},buildTicks:function(){var h,v,b,e=this,t=e.min,n=e.max,r=e.options,a=r.ticks,i=r.time,s=e._timestamps,u=[],l=e.getLabelCapacity(t),d=a.source,c=r.distribution;for(s="data"===d||"auto"===d&&"series"===c?s.data:"labels"===d?s.labels:function Vi(e,t,n,r){var v,a=e._adapter,i=e.options,s=i.time,u=s.unit||xa(s.minUnit,t,n,r),l=ma([s.stepSize,s.unitStepSize,1]),d="week"===u&&s.isoWeekday,c=t,h=[];if(d&&(c=+a.startOf(c,"isoWeek",d)),c=+a.startOf(c,d?"day":u),a.diff(n,t,u)>1e5*l)throw t+" and "+n+" are too far apart with stepSize of "+l+" "+u;for(v=c;v<n;v=+a.add(v,l,u))h.push(v);return(v===n||"ticks"===i.bounds)&&h.push(v),h}(e,t,n,l),"ticks"===r.bounds&&s.length&&(t=s[0],n=s[s.length-1]),t=Jt(e,ya(r))||t,n=Jt(e,_a(r))||n,h=0,v=s.length;h<v;++h)(b=s[h])>=t&&b<=n&&u.push(b);return e.min=t,e.max=n,e._unit=i.unit||(a.autoSkip?xa(i.minUnit,e.min,e.max,l):function Wi(e,t,n,r,a){var i,s;for(i=tt.length-1;i>=tt.indexOf(n);i--)if(Un[s=tt[i]].common&&e._adapter.diff(a,r,s)>=t-1)return s;return tt[n?tt.indexOf(n):0]}(e,u.length,i.minUnit,e.min,e.max)),e._majorUnit=a.major.enabled&&"year"!==e._unit?function zi(e){for(var t=tt.indexOf(e)+1,n=tt.length;t<n;++t)if(Un[tt[t]].common)return tt[t]}(e._unit):void 0,e._table=function Ni(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var s,u,l,d,c,a=[],i=[t];for(s=0,u=e.length;s<u;++s)(d=e[s])>t&&d<n&&i.push(d);for(i.push(n),s=0,u=i.length;s<u;++s)c=i[s+1],d=i[s],(void 0===(l=i[s-1])||void 0===c||Math.round((c+l)/2)!==d)&&a.push({time:d,pos:s/(u-1)});return a}(e._timestamps.data,t,n,c),e._offsets=function Hi(e,t,n,r,a){var u,l,i=0,s=0;return a.offset&&t.length&&(u=ln(e,"time",t[0],"pos"),i=1===t.length?1-u:(ln(e,"time",t[1],"pos")-u)/2,l=ln(e,"time",t[t.length-1],"pos"),s=1===t.length?l:(l-ln(e,"time",t[t.length-2],"pos"))/2),{start:i,end:s,factor:1/(i+1+s)}}(e._table,u,0,0,r),a.reverse&&u.reverse(),Ca(e,u,e._majorUnit)},getLabelForIndex:function(e,t){var n=this,r=n._adapter,a=n.chart.data,i=n.options.time,s=a.labels&&e<a.labels.length?a.labels[e]:"",u=a.datasets[t].data[e];return f.isObject(u)&&(s=n.getRightValue(u)),i.tooltipFormat?r.format(qr(n,s),i.tooltipFormat):"string"==typeof s?s:r.format(qr(n,s),i.displayFormats.datetime)},tickFormatFunction:function(e,t,n,r){var a=this,s=a.options,u=s.time.displayFormats,d=a._majorUnit,c=u[d],h=n[t],v=s.ticks,b=d&&c&&h&&h.major,_=a._adapter.format(e,r||(b?c:u[a._unit])),C=b?v.major:v.minor,P=ma([C.callback,C.userCallback,v.callback,v.userCallback]);return P?P(_,t,n):_},convertTicksToLabels:function(e){var n,r,t=[];for(n=0,r=e.length;n<r;++n)t.push(this.tickFormatFunction(e[n].value,n,e));return t},getPixelForOffset:function(e){var t=this,n=t._offsets,r=ln(t._table,"time",e,"pos");return t.getPixelForDecimal((n.start+r)*n.factor)},getPixelForValue:function(e,t,n){var r=this,a=null;if(void 0!==t&&void 0!==n&&(a=r._timestamps.datasets[n][t]),null===a&&(a=Jt(r,e)),null!==a)return r.getPixelForOffset(a)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._offsets,r=t.getDecimalForPixel(e)/n.factor-n.end,a=ln(t._table,"pos",r,"time");return t._adapter._create(a)},_getLabelSize:function(e){var t=this,n=t.options.ticks,r=t.ctx.measureText(e).width,a=f.toRadians(t.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(a),s=Math.sin(a),u=Fi(n.fontSize,R.global.defaultFontSize);return{w:r*i+u*s,h:r*s+u*i}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,r=n.displayFormats,a=r[n.unit]||r.millisecond,i=t.tickFormatFunction(e,0,Ca(t,[e],t._majorUnit),a),s=t._getLabelSize(i),u=Math.floor(t.isHorizontal()?t.width/s.w:t.height/s.h);return t.options.offset&&u--,u>0?u:1}});Sa._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var $i={category:da,linear:ca,logarithmic:ha,radialLinear:va,time:Sa},qi={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Lr._date.override("function"==typeof o?{_id:"moment",formats:function(){return qi},parse:function(e,t){return"string"==typeof e&&"string"==typeof t?e=o(e,t):e instanceof o||(e=o(e)),e.isValid()?e.valueOf():null},format:function(e,t){return o(e).format(t)},add:function(e,t,n){return o(e).add(t,n).valueOf()},diff:function(e,t,n){return o(e).diff(o(t),n)},startOf:function(e,t,n){return e=o(e),"isoWeek"===t?e.isoWeekday(n).valueOf():e.startOf(t).valueOf()},endOf:function(e,t){return o(e).endOf(t).valueOf()},_create:function(e){return o(e)}}:{}),R._set("global",{plugins:{filler:{propagate:!0}}});var Ki={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),i=r&&n.isDatasetVisible(t)&&r.dataset._children||[],s=i.length||0;return s?function(u,l){return l<s&&i[l]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return f.isArray(t)?function(a,i){return t[i]}:function(a){return{x:null===n?a.x:n,y:null===r?a.y:r}}}};function Gi(e,t,n){var i,r=e._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return("-"===a[0]||"+"===a[0])&&(i=t+i),!(i===t||i<0||i>=n)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function Zi(e){return(e.el._scale||{}).getPointPositionForValue?function Xi(e){var s,u,l,d,c,t=e.el._scale,n=t.options,r=t.chart.data.labels.length,a=e.fill,i=[];if(!r)return null;for(u=n.ticks.reverse?t.min:t.max,l=t.getPointPositionForValue(0,s=n.ticks.reverse?t.max:t.min),d=0;d<r;++d)c="start"===a||"end"===a?t.getPointPositionForValue(d,"start"===a?s:u):t.getBasePosition(d),n.gridLines.circular&&(c.cx=l.x,c.cy=l.y,c.angle=t.getIndexAngle(d)-Math.PI/2),i.push(c);return i}(e):function Qi(e){var i,t=e.el._model||{},n=e.el._scale||{},r=e.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===t.scaleBottom?n.bottom:t.scaleBottom:"end"===r?a=void 0===t.scaleTop?n.top:t.scaleTop:void 0!==t.scaleZero?a=t.scaleZero:n.getBasePixel&&(a=n.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(f.isFinite(a))return{x:(i=n.isHorizontal())?a:null,y:i?null:a}}return null}(e)}function Ji(e,t,n){var s,a=e[t].fill,i=[t];if(!n)return a;for(;!1!==a&&-1===i.indexOf(a);){if(!isFinite(a))return a;if(!(s=e[a]))return!1;if(s.visible)return a;i.push(a),a=s.fill}return!1}function eo(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),Ki[n](e))}function Ma(e){return e&&!e.skip}function Pa(e,t,n,r,a){var i,s,u,l;if(r&&a){for(e.moveTo(t[0].x,t[0].y),i=1;i<r;++i)f.canvas.lineTo(e,t[i-1],t[i]);if(void 0!==n[0].angle){for(s=n[0].cx,u=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-s,2)+Math.pow(n[0].y-u,2)),i=a-1;i>0;--i)e.arc(s,u,l,n[i].angle,n[i-1].angle,!0);return}for(e.lineTo(n[a-1].x,n[a-1].y),i=a-1;i>0;--i)f.canvas.lineTo(e,n[i],n[i-1],!0)}}function to(e,t,n,r,a,i){var v,b,_,C,P,A,j,U,s=t.length,u=r.spanGaps,l=[],d=[],c=0,h=0;for(e.beginPath(),v=0,b=s;v<b;++v)P=n(C=t[_=v%s]._view,_,r),A=Ma(C),j=Ma(P),i&&void 0===U&&A&&(b=s+(U=v+1)),A&&j?(c=l.push(C),h=d.push(P)):c&&h&&(u?(A&&l.push(C),j&&d.push(P)):(Pa(e,l,d,c,h),c=h=0,l=[],d=[]));Pa(e,l,d,c,h),e.closePath(),e.fillStyle=a,e.fill()}var no={id:"filler",afterDatasetsUpdate:function(e,t){var i,s,u,l,n=(e.data.datasets||[]).length,r=t.propagate,a=[];for(s=0;s<n;++s)l=null,(u=(i=e.getDatasetMeta(s)).dataset)&&u._model&&u instanceof je.Line&&(l={visible:e.isDatasetVisible(s),fill:Gi(u,s,n),chart:e,el:u}),i.$filler=l,a.push(l);for(s=0;s<n;++s)(l=a[s])&&(l.fill=Ji(a,s,r),l.boundary=Zi(l),l.mapper=eo(l))},beforeDatasetsDraw:function(e){var r,a,i,s,u,l,d,t=e._getSortedVisibleDatasetMetas(),n=e.ctx;for(a=t.length-1;a>=0;--a)(r=t[a].$filler)&&r.visible&&(u=(i=r.el)._children||[],d=(s=i._view).backgroundColor||R.global.defaultColor,(l=r.mapper)&&d&&u.length&&(f.canvas.clipArea(n,e.chartArea),to(n,u,l,s,d,i._loop),f.canvas.unclipArea(n)))}},ro=f.rtl.getRtlAdapter,Ht=f.noop,jt=f.valueOrDefault;function Kr(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}R._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,a=r.getDatasetMeta(n);a.hidden=null===a.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},r=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map(function(a){var i=a.controller.getStyle(r?0:void 0);return{text:t[a.index].label,fillStyle:i.backgroundColor,hidden:!e.isDatasetVisible(a.index),lineCap:i.borderCapStyle,lineDash:i.borderDash,lineDashOffset:i.borderDashOffset,lineJoin:i.borderJoinStyle,lineWidth:i.borderWidth,strokeStyle:i.borderColor,pointStyle:i.pointStyle,rotation:i.rotation,datasetIndex:a.index}},this)}}},legendCallback:function(e){var r,a,i,t=document.createElement("ul"),n=e.data.datasets;for(t.setAttribute("class",e.id+"-legend"),r=0,a=n.length;r<a;r++)(i=t.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=n[r].backgroundColor,n[r].label&&i.appendChild(document.createTextNode(n[r].label));return t.outerHTML}});var wa=lt.extend({initialize:function(e){var t=this;f.extend(t,e),t.legendHitBoxes=[],t._hoveredItem=null,t.doughnutMode=!1},beforeUpdate:Ht,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:Ht,beforeSetDimensions:Ht,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Ht,beforeBuildLabels:Ht,buildLabels:function(){var e=this,t=e.options.labels||{},n=f.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(r){return t.filter(r,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:Ht,beforeFit:Ht,fit:function(){var e=this,t=e.options,n=t.labels,r=t.display,a=e.ctx,i=f.options._parseFont(n),s=i.size,u=e.legendHitBoxes=[],l=e.minSize,d=e.isHorizontal();if(d?(l.width=e.maxWidth,l.height=r?10:0):(l.width=r?10:0,l.height=e.maxHeight),r){if(a.font=i.string,d){var c=e.lineWidths=[0],h=0;a.textAlign="left",a.textBaseline="middle",f.each(e.legendItems,function(j,U){var se=Kr(n,s)+s/2+a.measureText(j.text).width;(0===U||c[c.length-1]+se+2*n.padding>l.width)&&(h+=s+n.padding,c[c.length-(U>0?0:1)]=0),u[U]={left:0,top:0,width:se,height:s},c[c.length-1]+=se+n.padding}),l.height+=h}else{var v=n.padding,b=e.columnWidths=[],_=e.columnHeights=[],C=n.padding,P=0,A=0;f.each(e.legendItems,function(j,U){var se=Kr(n,s)+s/2+a.measureText(j.text).width;U>0&&A+s+2*v>l.height&&(C+=P+n.padding,b.push(P),_.push(A),P=0,A=0),P=Math.max(P,se),A+=s+v,u[U]={left:0,top:0,width:se,height:s}}),C+=P,b.push(P),_.push(A),l.width+=C}e.width=l.width,e.height=l.height}else e.width=l.width=e.height=l.height=0},afterFit:Ht,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,r=R.global,a=r.defaultColor,i=r.elements.line,s=e.height,u=e.columnHeights,l=e.width,d=e.lineWidths;if(t.display){var C,c=ro(t.rtl,e.left,e.minSize.width),h=e.ctx,v=jt(n.fontColor,r.defaultFontColor),b=f.options._parseFont(n),_=b.size;h.textAlign=c.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=v,h.fillStyle=v,h.font=b.string;var P=Kr(n,_),A=e.legendHitBoxes,de=function(me,xe){switch(t.align){case"start":return n.padding;case"end":return me-xe;default:return(me-xe+n.padding)/2}},se=e.isHorizontal();C=se?{x:e.left+de(l,d[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+de(s,u[0]),line:0},f.rtl.overrideTextDirection(e.ctx,t.textDirection);var be=_+n.padding;f.each(e.legendItems,function(me,xe){var Te=h.measureText(me.text).width,We=P+_/2+Te,Le=C.x,Fe=C.y;c.setWidth(e.minSize.width),se?xe>0&&Le+We+n.padding>e.left+e.minSize.width&&(Fe=C.y+=be,C.line++,Le=C.x=e.left+de(l,d[C.line])):xe>0&&Fe+be>e.top+e.minSize.height&&(Le=C.x=Le+e.columnWidths[C.line]+n.padding,C.line++,Fe=C.y=e.top+de(s,u[C.line]));var Ve=c.x(Le);(function(me,xe,Te){if(!(isNaN(P)||P<=0)){h.save();var We=jt(Te.lineWidth,i.borderWidth);if(h.fillStyle=jt(Te.fillStyle,a),h.lineCap=jt(Te.lineCap,i.borderCapStyle),h.lineDashOffset=jt(Te.lineDashOffset,i.borderDashOffset),h.lineJoin=jt(Te.lineJoin,i.borderJoinStyle),h.lineWidth=We,h.strokeStyle=jt(Te.strokeStyle,a),h.setLineDash&&h.setLineDash(jt(Te.lineDash,i.borderDash)),n&&n.usePointStyle){var Le=P*Math.SQRT2/2,Fe=c.xPlus(me,P/2);f.canvas.drawPoint(h,Te.pointStyle,Le,Fe,xe+_/2,Te.rotation)}else h.fillRect(c.leftForLtr(me,P),xe,P,_),0!==We&&h.strokeRect(c.leftForLtr(me,P),xe,P,_);h.restore()}})(Ve,Fe,me),A[xe].left=c.leftForLtr(Ve,A[xe].width),A[xe].top=Fe,function(me,xe,Te,We){var Le=_/2,Fe=c.xPlus(me,P+Le),Ve=xe+Le;h.fillText(Te.text,Fe,Ve),Te.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(Fe,Ve),h.lineTo(c.xPlus(Fe,We),Ve),h.stroke())}(Ve,Fe,me,Te),se?C.x+=We+n.padding:C.y+=be}),f.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var r,a,i,n=this;if(e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom)for(i=n.legendHitBoxes,r=0;r<i.length;++r)if(e>=(a=i[r]).left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height)return n.legendItems[r];return null},handleEvent:function(e){var a,t=this,n=t.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!n.onHover&&!n.onLeave)return}else{if("click"!==r)return;if(!n.onClick)return}a=t._getLegendItemAt(e.x,e.y),"click"===r?a&&n.onClick&&n.onClick.call(t,e.native,a):(n.onLeave&&a!==t._hoveredItem&&(t._hoveredItem&&n.onLeave.call(t,e.native,t._hoveredItem),t._hoveredItem=a),n.onHover&&a&&n.onHover.call(t,e.native,a))}});function Ta(e,t){var n=new wa({ctx:e.ctx,options:t,chart:e});dt.configure(e,n,t),dt.addBox(e,n),e.legend=n}var ao={id:"legend",_element:wa,beforeInit:function(e){var t=e.options.legend;t&&Ta(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(f.mergeIf(t,R.global.legend),n?(dt.configure(e,n,t),n.options=t):Ta(e,t)):n&&(dt.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},At=f.noop;R._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Da=lt.extend({initialize:function(e){f.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:At,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:At,beforeSetDimensions:At,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:At,beforeBuildLabels:At,buildLabels:At,afterBuildLabels:At,beforeFit:At,fit:function(){var i,e=this,t=e.options,n=e.minSize={},r=e.isHorizontal();t.display?(i=(f.isArray(t.text)?t.text.length:1)*f.options._parseFont(t).lineHeight+2*t.padding,e.width=n.width=r?e.maxWidth:i,e.height=n.height=r?i:e.maxHeight):e.width=n.width=e.height=n.height=0},afterFit:At,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var h,v,b,r=f.options._parseFont(n),a=r.lineHeight,i=a/2+n.padding,s=0,u=e.top,l=e.left,d=e.bottom,c=e.right;t.fillStyle=f.valueOrDefault(n.fontColor,R.global.defaultFontColor),t.font=r.string,e.isHorizontal()?(v=l+(c-l)/2,b=u+i,h=c-l):(v="left"===n.position?l+i:c-i,b=u+(d-u)/2,h=d-u,s=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(v,b),t.rotate(s),t.textAlign="center",t.textBaseline="middle";var _=n.text;if(f.isArray(_))for(var C=0,P=0;P<_.length;++P)t.fillText(_[P],0,C,h),C+=a;else t.fillText(_,0,0,h);t.restore()}}});function Ea(e,t){var n=new Da({ctx:e.ctx,options:t,chart:e});dt.configure(e,n,t),dt.addBox(e,n),e.titleBlock=n}var Ut={},oo=no,so=ao,lo={id:"title",_element:Da,beforeInit:function(e){var t=e.options.title;t&&Ea(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(f.mergeIf(t,R.global.title),n?(dt.configure(e,n,t),n.options=t):Ea(e,t)):n&&(dt.removeBox(e,n),delete e.titleBlock)}};for(var Oa in Ut.filler=oo,Ut.legend=so,Ut.title=lo,ce.helpers=f,function(){function e(r,a,i){var s;return"string"==typeof r?(s=parseInt(r,10),-1!==r.indexOf("%")&&(s=s/100*a.parentNode[i])):s=r,s}function t(r){return null!=r&&"none"!==r}function n(r,a,i){var s=document.defaultView,u=f._getParentNode(r),l=s.getComputedStyle(r)[a],d=s.getComputedStyle(u)[a],c=t(l),h=t(d),v=Number.POSITIVE_INFINITY;return c||h?Math.min(c?e(l,r,i):v,h?e(d,u,i):v):"none"}f.where=function(r,a){if(f.isArray(r)&&Array.prototype.filter)return r.filter(a);var i=[];return f.each(r,function(s){a(s)&&i.push(s)}),i},f.findIndex=Array.prototype.findIndex?function(r,a,i){return r.findIndex(a,i)}:function(r,a,i){i=void 0===i?r:i;for(var s=0,u=r.length;s<u;++s)if(a.call(i,r[s],s,r))return s;return-1},f.findNextWhere=function(r,a,i){f.isNullOrUndef(i)&&(i=-1);for(var s=i+1;s<r.length;s++){var u=r[s];if(a(u))return u}},f.findPreviousWhere=function(r,a,i){f.isNullOrUndef(i)&&(i=r.length);for(var s=i-1;s>=0;s--){var u=r[s];if(a(u))return u}},f.isNumber=function(r){return!isNaN(parseFloat(r))&&isFinite(r)},f.almostEquals=function(r,a,i){return Math.abs(r-a)<i},f.almostWhole=function(r,a){var i=Math.round(r);return i-a<=r&&i+a>=r},f.max=function(r){return r.reduce(function(a,i){return isNaN(i)?a:Math.max(a,i)},Number.NEGATIVE_INFINITY)},f.min=function(r){return r.reduce(function(a,i){return isNaN(i)?a:Math.min(a,i)},Number.POSITIVE_INFINITY)},f.sign=Math.sign?function(r){return Math.sign(r)}:function(r){return 0==(r=+r)||isNaN(r)?r:r>0?1:-1},f.toRadians=function(r){return r*(Math.PI/180)},f.toDegrees=function(r){return r*(180/Math.PI)},f._decimalPlaces=function(r){if(f.isFinite(r)){for(var a=1,i=0;Math.round(r*a)/a!==r;)a*=10,i++;return i}},f.getAngleFromPoint=function(r,a){var i=a.x-r.x,s=a.y-r.y,u=Math.sqrt(i*i+s*s),l=Math.atan2(s,i);return l<-.5*Math.PI&&(l+=2*Math.PI),{angle:l,distance:u}},f.distanceBetweenPoints=function(r,a){return Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2))},f.aliasPixel=function(r){return r%2==0?0:.5},f._alignPixel=function(r,a,i){var s=r.currentDevicePixelRatio,u=i/2;return Math.round((a-u)*s)/s+u},f.splineCurve=function(r,a,i,s){var u=r.skip?a:r,l=a,d=i.skip?a:i,c=Math.sqrt(Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2)),h=Math.sqrt(Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2)),v=c/(c+h),b=h/(c+h),_=s*(v=isNaN(v)?0:v),C=s*(b=isNaN(b)?0:b);return{previous:{x:l.x-_*(d.x-u.x),y:l.y-_*(d.y-u.y)},next:{x:l.x+C*(d.x-u.x),y:l.y+C*(d.y-u.y)}}},f.EPSILON=Number.EPSILON||1e-14,f.splineCurveMonotone=function(r){var s,u,l,d,h,v,b,_,C,a=(r||[]).map(function(P){return{model:P._model,deltaK:0,mK:0}}),i=a.length;for(s=0;s<i;++s)if(!(l=a[s]).model.skip){if(u=s>0?a[s-1]:null,(d=s<i-1?a[s+1]:null)&&!d.model.skip){var c=d.model.x-l.model.x;l.deltaK=0!==c?(d.model.y-l.model.y)/c:0}l.mK=!u||u.model.skip?l.deltaK:!d||d.model.skip?u.deltaK:this.sign(u.deltaK)!==this.sign(l.deltaK)?0:(u.deltaK+l.deltaK)/2}for(s=0;s<i-1;++s)if(d=a[s+1],!(l=a[s]).model.skip&&!d.model.skip){if(f.almostEquals(l.deltaK,0,this.EPSILON)){l.mK=d.mK=0;continue}h=l.mK/l.deltaK,v=d.mK/l.deltaK,!((_=Math.pow(h,2)+Math.pow(v,2))<=9)&&(b=3/Math.sqrt(_),l.mK=h*b*l.deltaK,d.mK=v*b*l.deltaK)}for(s=0;s<i;++s)!(l=a[s]).model.skip&&(d=s<i-1?a[s+1]:null,(u=s>0?a[s-1]:null)&&!u.model.skip&&(l.model.controlPointPreviousX=l.model.x-(C=(l.model.x-u.model.x)/3),l.model.controlPointPreviousY=l.model.y-C*l.mK),d&&!d.model.skip&&(l.model.controlPointNextX=l.model.x+(C=(d.model.x-l.model.x)/3),l.model.controlPointNextY=l.model.y+C*l.mK))},f.nextItem=function(r,a,i){return i?a>=r.length-1?r[0]:r[a+1]:a>=r.length-1?r[r.length-1]:r[a+1]},f.previousItem=function(r,a,i){return i?a<=0?r[r.length-1]:r[a-1]:a<=0?r[0]:r[a-1]},f.niceNum=function(r,a){var i=Math.floor(f.log10(r)),s=r/Math.pow(10,i);return(a?s<1.5?1:s<3?2:s<7?5:10:s<=1?1:s<=2?2:s<=5?5:10)*Math.pow(10,i)},f.requestAnimFrame=typeof window>"u"?function(r){r()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return window.setTimeout(r,1e3/60)},f.getRelativePosition=function(r,a){var i,s,u=r.originalEvent||r,l=r.target||r.srcElement,d=l.getBoundingClientRect(),c=u.touches;c&&c.length>0?(i=c[0].clientX,s=c[0].clientY):(i=u.clientX,s=u.clientY);var h=parseFloat(f.getStyle(l,"padding-left")),v=parseFloat(f.getStyle(l,"padding-top")),b=parseFloat(f.getStyle(l,"padding-right")),_=parseFloat(f.getStyle(l,"padding-bottom")),P=d.bottom-d.top-v-_;return{x:i=Math.round((i-d.left-h)/(d.right-d.left-h-b)*l.width/a.currentDevicePixelRatio),y:s=Math.round((s-d.top-v)/P*l.height/a.currentDevicePixelRatio)}},f.getConstraintWidth=function(r){return n(r,"max-width","clientWidth")},f.getConstraintHeight=function(r){return n(r,"max-height","clientHeight")},f._calculatePadding=function(r,a,i){return(a=f.getStyle(r,a)).indexOf("%")>-1?i*parseInt(a,10)/100:parseInt(a,10)},f._getParentNode=function(r){var a=r.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&(a=a.host),a},f.getMaximumWidth=function(r){var a=f._getParentNode(r);if(!a)return r.clientWidth;var i=a.clientWidth,l=i-f._calculatePadding(a,"padding-left",i)-f._calculatePadding(a,"padding-right",i),d=f.getConstraintWidth(r);return isNaN(d)?l:Math.min(l,d)},f.getMaximumHeight=function(r){var a=f._getParentNode(r);if(!a)return r.clientHeight;var i=a.clientHeight,l=i-f._calculatePadding(a,"padding-top",i)-f._calculatePadding(a,"padding-bottom",i),d=f.getConstraintHeight(r);return isNaN(d)?l:Math.min(l,d)},f.getStyle=function(r,a){return r.currentStyle?r.currentStyle[a]:document.defaultView.getComputedStyle(r,null).getPropertyValue(a)},f.retinaScale=function(r,a){var i=r.currentDevicePixelRatio=a||typeof window<"u"&&window.devicePixelRatio||1;if(1!==i){var s=r.canvas,u=r.height,l=r.width;s.height=u*i,s.width=l*i,r.ctx.scale(i,i),!s.style.height&&!s.style.width&&(s.style.height=u+"px",s.style.width=l+"px")}},f.fontString=function(r,a,i){return a+" "+r+"px "+i},f.longestText=function(r,a,i,s){var u=(s=s||{}).data=s.data||{},l=s.garbageCollect=s.garbageCollect||[];s.font!==a&&(u=s.data={},l=s.garbageCollect=[],s.font=a),r.font=a;var h,v,b,_,C,d=0,c=i.length;for(h=0;h<c;h++)if(null!=(_=i[h])&&!0!==f.isArray(_))d=f.measureText(r,u,l,d,_);else if(f.isArray(_))for(v=0,b=_.length;v<b;v++)null!=(C=_[v])&&!f.isArray(C)&&(d=f.measureText(r,u,l,d,C));var P=l.length/2;if(P>i.length){for(h=0;h<P;h++)delete u[l[h]];l.splice(0,P)}return d},f.measureText=function(r,a,i,s,u){var l=a[u];return l||(l=a[u]=r.measureText(u).width,i.push(u)),l>s&&(s=l),s},f.numberOfLabelLines=function(r){var a=1;return f.each(r,function(i){f.isArray(i)&&i.length>a&&(a=i.length)}),a},f.color=z?function(r){return r instanceof CanvasGradient&&(r=R.global.defaultColor),z(r)}:function(r){return console.error("Color.js not found!"),r},f.getHoverColor=function(r){return r instanceof CanvasPattern||r instanceof CanvasGradient?r:f.color(r).saturate(.5).darken(.1).rgbString()}}(),ce._adapters=Lr,ce.Animation=hn,ce.animationService=qe,ce.controllers=m,ce.DatasetController=ze,ce.defaults=R,ce.Element=lt,ce.elements=je,ce.Interaction=_e,ce.layouts=dt,ce.platform=on,ce.plugins=Pe,ce.Scale=Je,ce.scaleService=bn,ce.Ticks=yn,ce.Tooltip=Rr,ce.helpers.each($i,function(e,t){ce.scaleService.registerScaleType(t,e,e._defaults)}),Ut)Ut.hasOwnProperty(Oa)&&ce.plugins.register(Ut[Oa]);ce.platform.initialize();var uo=ce;return typeof window<"u"&&(window.Chart=ce),ce.Chart=ce,ce.Legend=Ut.legend._element,ce.Title=Ut.title._element,ce.pluginService=ce.plugins,ce.PluginBase=ce.Element.extend({}),ce.canvasHelpers=ce.helpers.canvas,ce.layoutService=ce.layouts,ce.LinearScaleBase=zn,ce.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(e){ce[e]=function(t,n){return new ce(t,ce.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}}),uo}(function(){try{return T(15439)}catch{}}())},9868:(He,ge,T)=>{"use strict";function o(I){var Z=new Date(Date.UTC(I.getFullYear(),I.getMonth(),I.getDate(),I.getHours(),I.getMinutes(),I.getSeconds(),I.getMilliseconds()));return Z.setUTCFullYear(I.getFullYear()),I.getTime()-Z.getTime()}T.d(ge,{Z:()=>o})},40833:(He,ge,T)=>{"use strict";function o(I,Z){if(Z.length<I)throw new TypeError(I+" argument"+(I>1?"s":"")+" required, but only "+Z.length+" present")}T.d(ge,{Z:()=>o})},28115:(He,ge,T)=>{"use strict";T.d(ge,{Z:()=>Z});var o=T(80953),I=T(40833);function Z(X){(0,I.Z)(1,arguments);var V=(0,o.Z)(X);return V.setHours(0,0,0,0),V}},80953:(He,ge,T)=>{"use strict";T.d(ge,{Z:()=>I});var o=T(40833);function I(Z){(0,o.Z)(1,arguments);var X=Object.prototype.toString.call(Z);return Z instanceof Date||"object"==typeof Z&&"[object Date]"===X?new Date(Z.getTime()):"number"==typeof Z||"[object Number]"===X?new Date(Z):(("string"==typeof Z||"[object String]"===X)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},25424:(He,ge,T)=>{"use strict";T.d(ge,{Mg:()=>it,Vy:()=>at,Wc:()=>Re,nN:()=>wt,rC:()=>ft,s5:()=>ht,vz:()=>yt});var o=T(36895),I=T(94650),Z=T(8929),X=T(34202),V=T(21086),ne=T(23753),fe=T(61715),Ee=T(36787),Oe=T(68896),nt=T(7625),Ce=T(77604),rt=T(1059),ee=T(87545);const S=["ngucarousel"],Y=["nguItemsContainer"],K=["touchContainer"],F=[[["","NguCarouselPrev",""]],[["","NguCarouselNext",""]],[["","NguCarouselPoint",""]]],G=["[NguCarouselPrev]","[NguCarouselNext]","[NguCarouselPoint]"],re=["*"];class St{}class ct{}class Mt{constructor(le=0,M=0,D=0,N=0,J=0){this.xs=le,this.sm=M,this.md=D,this.lg=N,this.all=J,this.xl=0}}class pe{constructor(le=768,M=992,D=1200,N=1200){this.sm=le,this.md=M,this.lg=D,this.xl=N}}class Pt{constructor(le){this.$implicit=le}}let ht=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=I.\u0275\u0275defineDirective({type:H,selectors:[["","NguCarouselItem",""]]}),H})(),Re=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=I.\u0275\u0275defineDirective({type:H,selectors:[["","NguCarouselNext",""]]}),H})(),at=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275dir=I.\u0275\u0275defineDirective({type:H,selectors:[["","NguCarouselPrev",""]]}),H})(),it=(()=>{class H{constructor(M){this.template=M}}return H.\u0275fac=function(M){return new(M||H)(I.\u0275\u0275directiveInject(I.TemplateRef))},H.\u0275dir=I.\u0275\u0275defineDirective({type:H,selectors:[["","nguCarouselDef",""]]}),H})(),ot=(()=>{class H{constructor(M){this.viewContainer=M}}return H.\u0275fac=function(M){return new(M||H)(I.\u0275\u0275directiveInject(I.ViewContainerRef))},H.\u0275dir=I.\u0275\u0275defineDirective({type:H,selectors:[["","nguCarouselOutlet",""]]}),H})(),ft=(()=>{class H extends class Xe{constructor(le=new ct,M=new St,D,N=new Mt,J,$,Ae,ve="fixed",Se="",he=0,st=0,Ze=0,ie=0,z=0,oe=0,w=0,B=0,Q=0,ue="cubic-bezier(0, 0, 0.2, 1)",q=200,Ye=!1,pt=0,ke=0,k=!1,te=!0,x=!1,O=!1,W=!0,R=1){this.touch=le,this.vertical=M,this.interval=D,this.transform=N,this.button=J,this.visibleItems=$,this.deviceType=Ae,this.type=ve,this.token=Se,this.items=he,this.load=st,this.deviceWidth=Ze,this.carouselWidth=ie,this.itemWidth=z,this.slideItems=oe,this.itemWidthPer=w,this.itemLength=B,this.currentSlide=Q,this.easing=ue,this.speed=q,this.loop=Ye,this.dexVal=pt,this.touchTransform=ke,this.isEnd=k,this.isFirst=te,this.isLast=x,this.RTL=O,this.point=W,this.velocity=R}}{constructor(M,D,N,J,$){super(),this._el=M,this._renderer=D,this._differs=N,this.platformId=J,this.cdr=$,this.withAnim=!0,this.isHovered=!1,this.carouselLoad=new I.EventEmitter,this.onMove=new I.EventEmitter,this._intervalController$=new Z.xQ,this.pointNumbers=[]}get dataSource(){return this._dataSource}set dataSource(M){M&&this._switchDataSource(M)}set nextBtn(M){this.listener2?.(),M&&(this.listener2=this._renderer.listen(M.nativeElement,"click",()=>this._carouselScrollOne(1)))}set prevBtn(M){this.listener1?.(),M&&(this.listener1=this._renderer.listen(M.nativeElement,"click",()=>this._carouselScrollOne(0)))}get trackBy(){return this._trackByFn}set trackBy(M){(0,I.isDevMode)()&&null!=M&&"function"!=typeof M&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(M)}.`),this._trackByFn=M}ngOnInit(){this._dataDiffer=this._differs.find([]).create((M,D)=>this.trackBy?this.trackBy(M,D):D)}ngDoCheck(){this.arrayChanges=this._dataDiffer.diff(this.dataSource),this.arrayChanges&&this._defDirec&&this._observeRenderChanges()}_switchDataSource(M){this._dataSource=M,this._defDirec&&this._observeRenderChanges()}_observeRenderChanges(){let M;this._dataSource instanceof X.y?M=this._dataSource:Array.isArray(this._dataSource)&&(M=(0,V.of)(this._dataSource)),M&&(this._dataSubscription=M.pipe((0,nt.R)(this._intervalController$)).subscribe(D=>{this.renderNodeChanges(D),this.isLast=this.pointIndex===this.currentSlide}))}renderNodeChanges(M,D=this._nodeOutlet.viewContainer){!this.arrayChanges||(this.arrayChanges.forEachOperation((N,J,$)=>{const Ae=this._getNodeDef(M[$],$);if(null==N.previousIndex){const ve=new Pt(M[$]);ve.index=$,D.createEmbeddedView(Ae.template,ve,$)}else if(null==$)D.remove(J);else{const ve=D.get(J);D.move(ve,$)}}),this._updateItemIndexContext(),this.carousel&&this._storeCarouselData())}_updateItemIndexContext(){const M=this._nodeOutlet.viewContainer;for(let D=0,N=M.length;D<N;D++){const $=M.get(D).context;$.count=N,$.first=0===D,$.last=D===N-1,$.even=D%2==0,$.odd=!$.even,$.index=D}}_getNodeDef(M,D){return 1===this._defDirec.length?this._defDirec.first:this._defDirec.find(J=>J.when&&J.when(D,M))||this._defaultNodeDef}ngAfterViewInit(){this.carousel=this._el.nativeElement,this._inputValidation(),this.carouselCssNode=this._createStyleElem(),(0,o.NF)(this.platformId)&&(this._carouselInterval(),this.vertical.enabled||this._touch(),this.listener3=this._renderer.listen("window","resize",M=>{this._onResizing(M)}),this._onWindowScrolling())}ngAfterContentInit(){this._observeRenderChanges(),this.cdr.markForCheck()}_inputValidation(){this.inputs.gridBreakpoints=this.inputs.gridBreakpoints?this.inputs.gridBreakpoints:new pe,void 0===this.inputs.grid.xl&&(this.inputs.grid.xl=this.inputs.grid.lg),this.type=0!==this.inputs.grid.all?"fixed":"responsive",this.loop=this.inputs.loop||!1,this.inputs.easing=this.inputs.easing||"cubic-bezier(0, 0, 0.2, 1)",this.touch.active=this.inputs.touch||!1,this.RTL=!!this.inputs.RTL,this.interval=this.inputs.interval||null,this.velocity="number"==typeof this.inputs.velocity?this.inputs.velocity:this.velocity,this.inputs.vertical&&this.inputs.vertical.enabled&&(this.vertical.enabled=this.inputs.vertical.enabled,this.vertical.height=this.inputs.vertical.height),this.directionSym=this.RTL?"":"-",this.point=!(this.inputs.point&&typeof this.inputs.point.visible<"u")||this.inputs.point.visible,this._carouselSize()}ngOnDestroy(){this.carouselInt&&this.carouselInt.unsubscribe(),this._intervalController$.unsubscribe(),this.carouselLoad.complete(),this.onMove.complete(),clearTimeout(this.onScrolling);for(let M=1;M<=4;M++){const D=`listener${M}`;this[D]&&this[D]()}}_onResizing(M){clearTimeout(this.onResize),this.onResize=setTimeout(()=>{this.deviceWidth!==M.target.outerWidth&&(this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this._storeCarouselData())},500)}_touch(){this.inputs.touch&&Promise.resolve().then(T.t.bind(T,55386,19)).then(()=>{const M=new Hammer(this.touchContainer.nativeElement);M.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),M.on("panstart",D=>{this.carouselWidth=this.nguItemsContainer.nativeElement.offsetWidth,this.touchTransform=this.transform[this.deviceType],this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","")}),this.vertical.enabled?(M.on("panup",D=>{this._touchHandling("panleft",D)}),M.on("pandown",D=>{this._touchHandling("panright",D)})):(M.on("panleft",D=>{this._touchHandling("panleft",D)}),M.on("panright",D=>{this._touchHandling("panright",D)})),M.on("panend pancancel",D=>{if(Math.abs(D.velocity)>=this.velocity){this.touch.velocity=D.velocity;let N=0;N=this.RTL?"panright"===this.touch.swipe?1:0:"panright"===this.touch.swipe?0:1,this._carouselScrollOne(N)}else this.dexVal=0,this._setStyle(this.nguItemsContainer.nativeElement,"transition","transform 324ms cubic-bezier(0, 0, 0.2, 1)"),this._setStyle(this.nguItemsContainer.nativeElement,"transform","")}),M.on("hammer.input",D=>{D.srcEvent.stopPropagation()})})}_touchHandling(M,D){if(0===D.center.x)return;let N=(D=Math.abs(this.vertical.enabled?D.deltaY:D.deltaX))-this.dexVal;N="responsive"===this.type?Math.abs(D-this.dexVal)/(this.vertical.enabled?this.vertical.height:this.carouselWidth)*100:N,this.dexVal=D,this.touch.swipe=M,this._setTouchTransfrom(M,N),this._setTransformFromTouch()}_setTouchTransfrom(M,D){this.touchTransform=M===(this.RTL?"panright":"panleft")?D+this.touchTransform:this.touchTransform-D}_setTransformFromTouch(){this.touchTransform<0&&(this.touchTransform=0);const M="responsive"===this.type?"%":"px";this._setStyle(this.nguItemsContainer.nativeElement,"transform",this.vertical.enabled?`translate3d(0, ${this.directionSym}${this.touchTransform}${M}, 0)`:`translate3d(${this.directionSym}${this.touchTransform}${M}, 0, 0)`)}_onWindowScrolling(){const M=this.carousel.offsetTop,D=window.scrollY,N=window.innerHeight,J=this.carousel.offsetHeight;this._intervalController$.next(M<=D+N-J/4&&M+J/2>=D?1:0)}_storeCarouselData(){const M=this.inputs.gridBreakpoints;this.deviceWidth=(0,o.NF)(this.platformId)?window.innerWidth:M.xl,this.carouselWidth=this.carouselMain1.nativeElement.offsetWidth,"responsive"===this.type?(this.deviceType=this.deviceWidth>=M.xl?"xl":this.deviceWidth>=M.lg?"lg":this.deviceWidth>=M.md?"md":this.deviceWidth>=M.sm?"sm":"xs",this.items=this.inputs.grid[this.deviceType],this.itemWidth=this.carouselWidth/this.items):(this.items=Math.trunc(this.carouselWidth/this.inputs.grid.all),this.itemWidth=this.inputs.grid.all,this.deviceType="all"),this.slideItems=+(this.inputs.slide<this.items?this.inputs.slide:this.items),this.load=this.inputs.load>=this.slideItems?this.inputs.load:this.slideItems,this.speed=this.inputs.speed&&this.inputs.speed>-1?this.inputs.speed:400,this._carouselPoint()}reset(M){M&&(this.withAnim=!1),this.carouselCssNode.textContent="",this.moveTo(0),this._carouselPoint()}_carouselPoint(){this.pointIndex=Math.ceil((this.dataSource.length-(this.items-this.slideItems))/this.slideItems);const D=[];if(this.pointIndex>1||!this.inputs.point.hideOnSingleSlide)for(let N=0;N<this.pointIndex;N++)D.push(N);this.pointNumbers=D,this._carouselPointActiver(),this.pointIndex<=1?this._btnBoolean(1,1):this._btnBoolean(0!==this.currentSlide||this.loop?0:1,0)}_carouselPointActiver(){const M=Math.ceil(this.currentSlide/this.slideItems);this.activePoint=M,this.cdr.markForCheck()}moveTo(M,D){if(D&&(this.withAnim=!1),this.activePoint!==M&&M<this.pointIndex){let N;const J=this.currentSlide<M?1:0;switch(M){case 0:this._btnBoolean(1,0),N=M*this.slideItems;break;case this.pointIndex-1:this._btnBoolean(0,1),N=this.dataSource.length-this.items;break;default:this._btnBoolean(0,0),N=M*this.slideItems}this._carouselScrollTwo(J,N,this.speed)}}_carouselSize(){this.token=this._generateID();let M="";this.styleid=`.${this.token} > .ngucarousel > .ngu-touch-container > .ngucarousel-items`,"banner"===this.inputs.custom&&this._renderer.addClass(this.carousel,"banner"),"lazy"===this.inputs.animation&&(M+=`${this.styleid} > .item {transition: transform .6s ease;}`);const D=this.inputs.gridBreakpoints;let N="";N=this.vertical.enabled?`@media (max-width:${D.sm-1}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xs}px}}\n                    @media (max-width:${D.sm}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.sm}px}}\n                    @media (min-width:${D.md}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.md}px}}\n                    @media (min-width:${D.lg}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.lg}px}}\n                    @media (min-width:${D.xl}px){${this.styleid} > .item {height: ${this.vertical.height/+this.inputs.grid.xl}px}}`:"responsive"===this.type?`@media (max-width:${D.sm-1}px){${"mobile"===this.inputs.type?`${this.styleid} .item {flex: 0 0 ${95/+this.inputs.grid.xs}%; width: ${95/+this.inputs.grid.xs}%;}`:`${this.styleid} .item {flex: 0 0 ${100/+this.inputs.grid.xs}%; width: ${100/+this.inputs.grid.xs}%;}`}}\n                    @media (min-width:${D.sm}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.sm}%; width: ${100/+this.inputs.grid.sm}%}}\n                    @media (min-width:${D.md}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.md}%; width: ${100/+this.inputs.grid.md}%}}\n                    @media (min-width:${D.lg}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.lg}%; width: ${100/+this.inputs.grid.lg}%}}\n                    @media (min-width:${D.xl}px){${this.styleid} > .item {flex: 0 0 ${100/+this.inputs.grid.xl}%; width: ${100/+this.inputs.grid.xl}%}}`:`${this.styleid} .item {flex: 0 0 ${this.inputs.grid.all}px; width: ${this.inputs.grid.all}px;}`,this._renderer.addClass(this.carousel,this.token),this.vertical.enabled&&(this._renderer.addClass(this.nguItemsContainer.nativeElement,"nguvertical"),this._renderer.setStyle(this.carouselMain1.nativeElement,"height",`${this.vertical.height}px`)),this.RTL&&!this.vertical.enabled&&this._renderer.addClass(this.carousel,"ngurtl"),this._createStyleElem(`${M} ${N}`),this._storeCarouselData()}_carouselScrollOne(M){let D=this.speed,N=0,J=0,$=Math.ceil(this.dexVal/this.itemWidth);if($=isFinite($)?$:0,this._setStyle(this.nguItemsContainer.nativeElement,"transform",""),1!==this.pointIndex)if(0!==M||(this.loop||this.isFirst)&&!this.loop)1===M&&(!this.loop&&!this.isLast||this.loop)&&(this.dataSource.length<=this.currentSlide+this.items+this.slideItems&&!this.isLast?(J=this.dataSource.length-this.items,this._btnBoolean(0,1)):this.isLast?(J=N=0,D=400,this._btnBoolean(1,0)):(this._btnBoolean(0,0),$>this.slideItems?(J=this.currentSlide+this.slideItems+($-this.slideItems),D=200):J=this.currentSlide+this.slideItems),this._carouselScrollTwo(M,J,D));else{const ve=this.currentSlide-this.slideItems+this.slideItems;this._btnBoolean(0,1),0===this.currentSlide?(J=this.dataSource.length-this.items,D=400,this._btnBoolean(0,1)):this.slideItems>=ve?(J=N=0,this._btnBoolean(1,0)):(this._btnBoolean(0,0),$>this.slideItems?(J=this.currentSlide-$,D=200):J=this.currentSlide-this.slideItems),this._carouselScrollTwo(M,J,D)}}_carouselScrollTwo(M,D,N){if(0!==this.dexVal){const J=Math.abs(this.touch.velocity);let $=Math.floor(this.dexVal/J/this.dexVal*(this.deviceWidth-this.dexVal));$=$>N?N:$,N=$<200?200:$,this.dexVal=0}this.withAnim?(this._setStyle(this.nguItemsContainer.nativeElement,"transition",`transform ${N}ms ${this.inputs.easing}`),this.inputs.animation&&this._carouselAnimator(M,D+1,D+this.items,N,Math.abs(this.currentSlide-D))):this._setStyle(this.nguItemsContainer.nativeElement,"transition",""),this.itemLength=this.dataSource.length,this._transformStyle(D),this.currentSlide=D,this.onMove.emit(this),this._carouselPointActiver(),this._carouselLoadTrigger(),this.withAnim=!0}_btnBoolean(M,D){this.isFirst=!!M,this.isLast=!!D}_transformString(M,D){let N="";return N+=`${this.styleid} { transform: translate3d(`,this.vertical.enabled?(this.transform[M]=this.vertical.height/this.inputs.grid[M]*D,N+=`0, -${this.transform[M]}px, 0`):(this.transform[M]=100/this.inputs.grid[M]*D,N+=`${this.directionSym}${this.transform[M]}%, 0, 0`),N+="); }",N}_transformStyle(M){let D="";if("responsive"===this.type){const N=this.inputs.gridBreakpoints;D=`@media (max-width: ${N.sm-1}px) {${this._transformString("xs",M)}}\n      @media (min-width: ${N.sm}px) {${this._transformString("sm",M)} }\n      @media (min-width: ${N.md}px) {${this._transformString("md",M)} }\n      @media (min-width: ${N.lg}px) {${this._transformString("lg",M)} }\n      @media (min-width: ${N.xl}px) {${this._transformString("xl",M)} }`}else this.transform.all=this.inputs.grid.all*M,D=`${this.styleid} { transform: translate3d(${this.directionSym}${this.transform.all}px, 0, 0);`;this.carouselCssNode.textContent=D}_carouselLoadTrigger(){"number"==typeof this.inputs.load&&this.dataSource.length-this.load<=this.currentSlide+this.items&&this.carouselLoad.emit(this.currentSlide)}_generateID(){let M="";const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let N=0;N<6;N++)M+=D.charAt(Math.floor(Math.random()*D.length));return`ngucarousel${M}`}_carouselInterval(){const M=this.carouselMain1.nativeElement;if(this.interval&&this.loop){this.listener4=this._renderer.listen("window","scroll",()=>{clearTimeout(this.onScrolling),this.onScrolling=setTimeout(()=>{this._onWindowScrolling()},600)});const D=(0,ne.R)(M,"mouseleave").pipe((0,Ce.h)(1)),N=(0,ne.R)(M,"mouseenter").pipe((0,Ce.h)(0)),J=(0,ne.R)(M,"touchstart").pipe((0,Ce.h)(1)),$=(0,ne.R)(M,"touchend").pipe((0,Ce.h)(0)),Ae=(0,fe.F)(this.inputs.interval.timing).pipe((0,Ce.h)(1));setTimeout(()=>{this.carouselInt=(0,Ee.T)(D,J,N,$,this._intervalController$).pipe((0,rt.O)(1),(0,ee.w)(ve=>(this.isHovered=!ve,this.cdr.markForCheck(),ve?Ae:Oe.E))).subscribe(ve=>{this._carouselScrollOne(1)})},this.interval.initialDelay)}}_updateItemIndexContextAni(){const M=this._nodeOutlet.viewContainer;for(let D=0,N=M.length;D<N;D++){const $=M.get(D).context;$.count=N,$.first=0===D,$.last=D===N-1,$.even=D%2==0,$.odd=!$.even,$.index=D}}_carouselAnimator(M,D,N,J,$,Ae=this._nodeOutlet.viewContainer){let ve=$<5?$:5;ve=1===ve?3:ve;const Se=[];if(1===M)for(let he=D-1;he<N;he++)Se.push(he),ve*=2,Ae.get(he).context.animate={value:!0,params:{distance:ve}};else for(let he=N-1;he>=D-1;he--)Se.push(he),ve*=2,Ae.get(he).context.animate={value:!0,params:{distance:-ve}};this.cdr.markForCheck(),setTimeout(()=>{this._removeAnimations(Se)},.7*J)}_removeAnimations(M){const D=this._nodeOutlet.viewContainer;M.forEach(N=>{D.get(N).context.animate={value:!1,params:{distance:0}}}),this.cdr.markForCheck()}_setStyle(M,D,N){this._renderer.setStyle(M,D,N)}_createStyleElem(M){const D=this._renderer.createElement("style");if(M){const N=this._renderer.createText(M);this._renderer.appendChild(D,N)}return this._renderer.appendChild(this.carousel,D),D}}return H.\u0275fac=function(M){return new(M||H)(I.\u0275\u0275directiveInject(I.ElementRef),I.\u0275\u0275directiveInject(I.Renderer2),I.\u0275\u0275directiveInject(I.IterableDiffers),I.\u0275\u0275directiveInject(I.PLATFORM_ID),I.\u0275\u0275directiveInject(I.ChangeDetectorRef))},H.\u0275cmp=I.\u0275\u0275defineComponent({type:H,selectors:[["ngu-carousel"]],contentQueries:function(M,D,N){if(1&M&&(I.\u0275\u0275contentQuery(N,Re,5,I.ElementRef),I.\u0275\u0275contentQuery(N,at,5,I.ElementRef),I.\u0275\u0275contentQuery(N,it,4)),2&M){let J;I.\u0275\u0275queryRefresh(J=I.\u0275\u0275loadQuery())&&(D.nextBtn=J.first),I.\u0275\u0275queryRefresh(J=I.\u0275\u0275loadQuery())&&(D.prevBtn=J.first),I.\u0275\u0275queryRefresh(J=I.\u0275\u0275loadQuery())&&(D._defDirec=J)}},viewQuery:function(M,D){if(1&M&&(I.\u0275\u0275viewQuery(ot,7),I.\u0275\u0275viewQuery(S,7,I.ElementRef),I.\u0275\u0275viewQuery(Y,7,I.ElementRef),I.\u0275\u0275viewQuery(K,7,I.ElementRef)),2&M){let N;I.\u0275\u0275queryRefresh(N=I.\u0275\u0275loadQuery())&&(D._nodeOutlet=N.first),I.\u0275\u0275queryRefresh(N=I.\u0275\u0275loadQuery())&&(D.carouselMain1=N.first),I.\u0275\u0275queryRefresh(N=I.\u0275\u0275loadQuery())&&(D.nguItemsContainer=N.first),I.\u0275\u0275queryRefresh(N=I.\u0275\u0275loadQuery())&&(D.touchContainer=N.first)}},inputs:{inputs:"inputs",dataSource:"dataSource",trackBy:"trackBy"},outputs:{carouselLoad:"carouselLoad",onMove:"onMove"},features:[I.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:G,decls:11,vars:0,consts:[[1,"ngucarousel"],["ngucarousel",""],[1,"ngu-touch-container"],["touchContainer",""],[1,"ngucarousel-items"],["nguItemsContainer",""],["nguCarouselOutlet",""],[1,"nguclearFix"]],template:function(M,D){1&M&&(I.\u0275\u0275projectionDef(F),I.\u0275\u0275elementStart(0,"div",0,1),I.\u0275\u0275projection(2),I.\u0275\u0275elementStart(3,"div",2,3)(5,"div",4,5),I.\u0275\u0275elementContainer(7,6),I.\u0275\u0275elementEnd()(),I.\u0275\u0275element(8,"div",7),I.\u0275\u0275projection(9,1),I.\u0275\u0275elementEnd(),I.\u0275\u0275projection(10,2))},dependencies:[ot],styles:["[_nghost-%COMP%]{display:block;position:relative}.ngurtl[_nghost-%COMP%]{direction:rtl}.ngucarousel[_ngcontent-%COMP%]{position:relative;overflow:hidden;height:100%}.ngucarousel[_ngcontent-%COMP%]   .ngucarousel-items[_ngcontent-%COMP%]{position:relative;display:flex;height:100%}.nguvertical[_ngcontent-%COMP%]{flex-direction:column}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:20px}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:rgba(255,255,255,.55)}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:white}.banner[_ngcontent-%COMP%]   .ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]{list-style-type:none;text-align:center;padding:12px;margin:0;white-space:nowrap;overflow:auto;box-sizing:border-box}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;background:rgba(0,0,0,.55);padding:4px;margin:0 4px;transition-timing-function:cubic-bezier(.17,.67,.83,.67);transition:.4s}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#6b6b6b;transform:scale(1.8)}.ngucarouselPointDefault[_ngcontent-%COMP%]   .ngucarouselPoint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.nguclearFix[_ngcontent-%COMP%]{clear:both}"],changeDetection:0}),H})(),wt=(()=>{class H{constructor(){this.classes=!0}}return H.\u0275fac=function(M){return new(M||H)},H.\u0275cmp=I.\u0275\u0275defineComponent({type:H,selectors:[["ngu-item"]],hostVars:2,hostBindings:function(M,D){2&M&&I.\u0275\u0275classProp("item",D.classes)},ngContentSelectors:re,decls:1,vars:0,template:function(M,D){1&M&&(I.\u0275\u0275projectionDef(),I.\u0275\u0275projection(0))}}),H})(),yt=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=I.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=I.\u0275\u0275defineInjector({imports:[o.ez]}),H})()}}]);