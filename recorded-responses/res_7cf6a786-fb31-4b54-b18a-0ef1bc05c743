"use strict";(self.webpackChunkprismhr_ess=self.webpackChunkprismhr_ess||[]).push([[8376],{14139:(P,A,a)=>{a.d(A,{h:()=>L});var t=a(94650),C=a(24006),h=a(42466),e=a(59253),O=a(57305);let L=(()=>{class f{constructor(v,_){this.formBuilder=v,this.translateService=_,this.emergencyContact={},this.emergencyContactForm=this.formBuilder.group({name:null,relationship:null,type:null,info:null}),this.typeOptions=[{value:"",display:this.translateService.instant("LABEL.SELECT_ONE")},{value:"PHONE",display:this.translateService.instant("LABEL.PHONE")},{value:"EMAIL",display:this.translateService.instant("LABEL.EMAIL")},{value:"TEXT",display:this.translateService.instant("LABEL.TEXT")},{value:"ADDRESS",display:this.translateService.instant("LABEL.ADDRESS")},{value:"OTHER",display:this.translateService.instant("LABEL.OTHER")}]}isValid(){return!this.emergencyContactForm||this.emergencyContactForm.valid}ngOnChanges(v){v.emergencyContact&&this.emergencyContactForm.patchValue(this.emergencyContact)}getFormData(){return this.emergencyContactForm.value}}return f.\u0275fac=function(v){return new(v||f)(t.\u0275\u0275directiveInject(C.FormBuilder),t.\u0275\u0275directiveInject(h.sK))},f.\u0275cmp=t.\u0275\u0275defineComponent({type:f,selectors:[["phr-emergency-contact-form"]],inputs:{emergencyContact:"emergencyContact"},features:[t.\u0275\u0275NgOnChangesFeature],decls:18,vars:18,consts:[["autocomplete","off",3,"formGroup"],[1,"card","mb-3","border-0"],[1,"card-body"],[1,"row"],[1,"col-12"],[1,"col-lg-6"],["required","",3,"label","control"],[1,"col-md-12","col-lg-6"],["required","",3,"label","options","control"]],template:function(v,_){1&v&&(t.\u0275\u0275elementStart(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",3)(6,"div",5),t.\u0275\u0275element(7,"phr-control",6),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",5),t.\u0275\u0275element(10,"phr-control",6),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div",7),t.\u0275\u0275element(13,"phr-dropdown-control",8),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",7),t.\u0275\u0275element(16,"phr-control",6),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()()()()()()),2&v&&(t.\u0275\u0275property("formGroup",_.emergencyContactForm),t.\u0275\u0275advance(7),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(8,10,"LABEL.NAME")),t.\u0275\u0275property("control",_.emergencyContactForm.controls.name),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(11,12,"LABEL.RELATIONSHIP")),t.\u0275\u0275property("control",_.emergencyContactForm.controls.relationship),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(14,14,"LABEL.CONTACT_METHOD")),t.\u0275\u0275property("options",_.typeOptions)("control",_.emergencyContactForm.controls.type),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(17,16,"LABEL.INFO")),t.\u0275\u0275property("control",_.emergencyContactForm.controls.info))},dependencies:[C.\u0275NgNoValidate,C.NgControlStatusGroup,C.FormGroupDirective,e.S,O.T,h.X$],encapsulation:2}),f})()},51060:(P,A,a)=>{a.d(A,{z:()=>B});var t=a(94650),C=a(98474),h=a(68757),e=a(87224),O=a(42466),L=a(90525),f=a(36895),I=a(24006),v=a(12427),_=a(48967);function S(d,T){if(1&d){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",7),t.\u0275\u0275listener("ngModelChange",function(b){t.\u0275\u0275restoreView(c);const x=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(x.searchString=b)}),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementEnd()}if(2&d){const c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(1,2,"LABEL.SEARCH")),t.\u0275\u0275property("ngModel",c.searchString)}}function M(d,T){if(1&d){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(c);const b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.handleAddContactClick())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&d&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"LABEL.ADD_CONTACT")," "))}function p(d,T){1&d&&(t.\u0275\u0275element(0,"phr-table-no-data",9),t.\u0275\u0275pipe(1,"translate")),2&d&&t.\u0275\u0275propertyInterpolate("message",t.\u0275\u0275pipeBind1(1,1,"MESSAGE.NO_DATA_TO_SHOW"))}function s(d,T){if(1&d){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(c);const b=t.\u0275\u0275nextContext().$implicit,x=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(x.handleRemoveClick(b))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&d&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ACTION.REMOVE")," "))}function m(d,T){if(1&d){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"li",12)(1,"div",13)(2,"div",14)(3,"div",15),t.\u0275\u0275listener("click",function(){const x=t.\u0275\u0275restoreView(c).$implicit,w=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(w.handleViewDetailsClick(x))}),t.\u0275\u0275element(4,"phr-user-avatar",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(5,"div",17)(6,"div",18)(7,"b"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(9,"br"),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",19),t.\u0275\u0275template(12,s,3,3,"button",20),t.\u0275\u0275elementEnd()()()}if(2&d){const c=T.$implicit,u=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275classProp("text-primary",u.activeLink)("cursor-pointer",u.activeLink),t.\u0275\u0275advance(1),t.\u0275\u0275property("firstName",c.name.indexOf(" ")>-1?c.name.split(" ")[0]:c.name)("lastName",c.name.indexOf(" ")>-1?c.name.substr(c.name.indexOf(" "),c.name.length).trim():"")("subTitle",c.relationship)("useToolTip",!1)("toolTipPlacement","top-left")("showSubTitle",(null==c.relationship?null:c.relationship.length)>1),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(u.getContactTypeLabel(c.type)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",c.info," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",u.showRemove)}}function i(d,T){if(1&d&&(t.\u0275\u0275elementStart(0,"ul",10),t.\u0275\u0275template(1,m,13,13,"li",11),t.\u0275\u0275elementEnd()),2&d){const c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",c.emergencyContacts)}}const y=function(d,T){return{of:d,view:T,rows:"Rows"}};let B=(()=>{class d{constructor(c,u){this.translateService=c,this.userStateService=u,this.employee=null,this.activeLink=!0,this.showRemove=!0,this.showAddContact=!0,this.showSearch=!0,this.onViewDetails=new t.EventEmitter,this.onRemoveContact=new t.EventEmitter,this.onInitAddContact=new t.EventEmitter,this.pagination=new h.tl([],5),this.searchString="",this.columns=[],this.buildColumns(),this.translateService.onLangChange.subscribe(b=>{this.buildColumns()})}ngOnInit(){this.userStateService.session$.pipe((0,e.P)()).subscribe(c=>{this.isProxyUser=!!c?.proxyInfo})}get emergencyContacts(){const c=C.iZ.filter(this.employee.emergencyContacts?this.employee.emergencyContacts:[],[],this.searchString,this.columns.map(u=>u.property),this.columns);return this.employee.emergencyContacts&&this.employee.emergencyContacts.length!==c.length?this.pagination.setItems(c):this.pagination.items=c,this.pagination.currentPage}get noRowsMessage(){return this.translateService.instant(this.searchString&&this.searchString.length>0?"ERROR.NO_ROWS_FILTERS":"ERROR.NO_ROWS")}buildColumns(){this.columns=[new h.hj({property:"name",visible:!0}),new h.hj({property:"type",visible:!0}),new h.hj({property:"relationship",visible:!0}),new h.hj({property:"info",visible:!0})]}getContactTypeLabel(c){return c?this.translateService.instant("LABEL."+c.toUpperCase()):"-"}handleViewDetailsClick(c){const u=this.employee.emergencyContacts,b=u.findIndex(x=>Object.keys(x).every(w=>c[w]===x[w]));this.onViewDetails.emit({index:b,emergencyContact:u[b]})}handleRemoveClick(c){const b=this.employee.emergencyContacts.findIndex(x=>Object.keys(x).every(w=>c[w]===x[w]));this.employee.emergencyContacts.splice(b,1),this.onRemoveContact.emit(this.employee)}handleAddContactClick(){this.onInitAddContact.emit()}}return d.\u0275fac=function(c){return new(c||d)(t.\u0275\u0275directiveInject(O.sK),t.\u0275\u0275directiveInject(L.P))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["phr-emergency-contacts-list"]],inputs:{employee:"employee",activeLink:"activeLink",showRemove:"showRemove",showAddContact:"showAddContact",showSearch:"showSearch"},outputs:{onViewDetails:"onViewDetails",onRemoveContact:"onRemoveContact",onInitAddContact:"onInitAddContact"},decls:8,vars:9,consts:[[1,"justify-content-between","d-flex","mb-2"],[1,"w-50"],["class","form-control",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"message",4,"ngIf"],["class","list-group",4,"ngIf"],[3,"pagination","messages"],[1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[3,"message"],[1,"list-group"],["class","list-group-item emergencyList",4,"ngFor","ngForOf"],[1,"list-group-item","emergencyList"],[1,"row"],[1,"col-12","pb-2","border-bottom"],[3,"click"],[3,"firstName","lastName","subTitle","useToolTip","toolTipPlacement","showSubTitle"],[1,"row","emergencyRow"],[1,"emergencyContactsType","col-12","col-sm-6","py-2","w-100"],[1,"col-12","col-sm-6","py-2","emergencyRemoveBtn"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"]],template:function(c,u){1&c&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275template(2,S,2,4,"input",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div"),t.\u0275\u0275template(4,M,3,3,"button",3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,p,2,3,"phr-table-no-data",4),t.\u0275\u0275template(6,i,2,1,"ul",5),t.\u0275\u0275element(7,"phr-table-pagination",6)),2&c&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",u.showSearch),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",u.showAddContact),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",0===u.emergencyContacts.length),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",u.emergencyContacts.length>0),t.\u0275\u0275advance(1),t.\u0275\u0275property("pagination",u.pagination)("messages",t.\u0275\u0275pureFunction2(6,y,u.translateService.instant("LABEL.OF"),u.translateService.instant("LABEL.VIEWING"))))},dependencies:[f.sg,f.O5,I.DefaultValueAccessor,I.NgControlStatus,I.NgModel,v.E,C.Wd,_.k,O.X$],styles:[".emergencyList[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.emergencyRow[_ngcontent-%COMP%]{margin-bottom:-.5rem}.emergencyRemoveBtn[_ngcontent-%COMP%]{text-align:right}.emergencyRemoveBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-top:.3em}.emergencyContactsType[_ngcontent-%COMP%]{text-transform:capitalize}@media (max-width: 576px){.emergencyRow[_ngcontent-%COMP%]{margin-bottom:0}.emergencyRemoveBtn[_ngcontent-%COMP%]{text-align:left}.emergencyRemoveBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-top:0}}"]}),d})()},78376:(P,A,a)=>{a.r(A),a.d(A,{EmergencyContactsModule:()=>J});var t=a(34793),C=a(24006),h=a(34202),e=a(94650),O=a(86338);let L=(()=>{class o{constructor(n){this.employeeService=n,this.emergencyContacts=null}updateEmergencyContact(n,r){this.emergencyContacts&&(this.emergencyContacts[n]=r)}addEmergencyContact(n){this.emergencyContacts.push(n)}removeEmergencyContact(n){this.emergencyContacts&&this.emergencyContacts.splice(n,1)}getEmergencyContact(n){return new h.y(r=>{this.getEmergencyContacts().subscribe(()=>{r.next(this.emergencyContacts[n]),r.complete()},l=>{r.error(l)})})}postEmergencyContacts(){return new h.y(n=>{this.employeeService.postEmployee().subscribe(r=>{this.emergencyContacts=r.emergencyContacts,n.next(this.emergencyContacts),n.complete()},r=>{n.error(r)})})}getEmergencyContacts(){return new h.y(n=>{this.employeeService.getEmployee(!0).subscribe(r=>{this.emergencyContacts=r.emergencyContacts,n.next(this.emergencyContacts),n.complete()},r=>{n.error(r)})})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275inject(O.G))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac}),o})();var f=a(29415),I=a(42437),v=a(42341),_=a(70944),S=a(42466),M=a(52885),p=a(87224),s=a(43242),m=a(90525),i=a(36895),y=a(34623),B=a(88452),d=a(59253),T=a(57305);function c(o,g){1&o&&e.\u0275\u0275element(0,"phr-block-loader",6)}function u(o,g){if(1&o&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",18),e.\u0275\u0275element(5,"phr-control",19),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",18),e.\u0275\u0275element(8,"phr-control",19),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",20),e.\u0275\u0275element(11,"phr-dropdown-control",21),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",20),e.\u0275\u0275element(14,"phr-control",19),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()()()()()),2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(6,9,"LABEL.NAME")),e.\u0275\u0275property("control",n.emergencyContactForm.controls.name),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(9,11,"LABEL.RELATIONSHIP")),e.\u0275\u0275property("control",n.emergencyContactForm.controls.relationship),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(12,13,"LABEL.TYPE")),e.\u0275\u0275property("options",n.typeOptions)("control",n.emergencyContactForm.controls.type),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(15,15,"LABEL.INFO")),e.\u0275\u0275property("control",n.emergencyContactForm.controls.info)}}function b(o,g){1&o&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",22),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"STATUS.SAVING"),"... "))}function x(o,g){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.updateEmergencyContact())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!n.emergencyContactForm.valid||n.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"ACTION.SAVE")," ")}}function w(o,g){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.createEmergencyContact())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",!n.emergencyContactForm.valid||n.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"ACTION.ADD")," ")}}function F(o,g){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275nextContext(2),E=e.\u0275\u0275reference(7);return e.\u0275\u0275resetView(l.openConfirmDelete(E))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"ACTION.REMOVE")," "))}function N(o,g){if(1&o&&(e.\u0275\u0275elementStart(0,"div")(1,"div",7)(2,"div",8)(3,"form",9)(4,"div",10),e.\u0275\u0275template(5,u,16,17,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",12),e.\u0275\u0275template(7,b,4,3,"span",4),e.\u0275\u0275template(8,x,3,4,"button",13),e.\u0275\u0275template(9,w,3,4,"button",14),e.\u0275\u0275elementStart(10,"button",15),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,F,3,3,"button",16),e.\u0275\u0275elementEnd()()()()()),2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",n.emergencyContactForm),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.saved),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.editing&&!n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.editing&&!n.saving),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,7,"ACTION.CANCEL")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.editing&&!n.saving)}}function V(o,g){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",26)(1,"h4",27),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",28),e.\u0275\u0275listener("click",function(){const E=e.\u0275\u0275restoreView(n).close;return e.\u0275\u0275resetView(E("cancel"))}),e.\u0275\u0275elementStart(5,"span",29),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",30)(8,"p"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",31)(13,"button",32),e.\u0275\u0275listener("click",function(){const E=e.\u0275\u0275restoreView(n).close;return e.\u0275\u0275resetView(E("cancel"))}),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",33),e.\u0275\u0275listener("click",function(){const E=e.\u0275\u0275restoreView(n).close;return e.\u0275\u0275resetView(E("remove"))}),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd()()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,6,"MESSAGE.ARE_YOU_SURE")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(10,8,"MESSAGE.ARE_YOU_SURE_REMOVE")," ",e.\u0275\u0275pipeBind1(11,10,"TITLE.EMERGENCY_CONTACT"),"? "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,12,"ACTION.CANCEL")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,14,"ACTION.REMOVE")," ")}}let R=(()=>{class o{constructor(n,r,l,E,D,Z,q,ee){this.emergencyContactsService=n,this.fb=r,this.route=l,this.router=E,this.modalService=D,this.breadcrumbService=Z,this.translateService=q,this.userStateService=ee,this.loading=!1,this.editing=!1,this.saving=!1,this.emergencyContact={},this.emergencyContactForm=this.fb.group({name:"",relationship:"",type:"",info:""}),this.id=null,this.typeOptions=[{value:"",display:this.translateService.instant("LABEL.SELECT_ONE")},{value:"PHONE",display:this.translateService.instant("LABEL.PHONE")},{value:"EMAIL",display:this.translateService.instant("LABEL.EMAIL")},{value:"TEXT",display:this.translateService.instant("LABEL.TEXT")},{value:"ADDRESS",display:this.translateService.instant("LABEL.ADDRESS")},{value:"OTHER",display:this.translateService.instant("LABEL.OTHER")}]}openConfirmDelete(n){this.modalService.open(n,{backdrop:"static"}).result.then(r=>{"remove"===r&&this.removeEmergencyContact()},r=>{})}createEmergencyContact(){this.saveForm(),this.emergencyContactsService.addEmergencyContact(this.emergencyContact),this.post()}updateEmergencyContact(){this.saveForm(),this.emergencyContactsService.updateEmergencyContact(this.id,this.emergencyContact),this.post()}removeEmergencyContact(){this.emergencyContactsService.removeEmergencyContact(this.id),this.post()}saveForm(){this.emergencyContact.name=this.emergencyContactForm.value.name,this.emergencyContact.relationship=this.emergencyContactForm.value.relationship,this.emergencyContact.type=this.emergencyContactForm.value.type,this.emergencyContact.info=this.emergencyContactForm.value.info}fillForm(){this.emergencyContactForm.controls.name.setValue(this.emergencyContact.name),this.emergencyContactForm.controls.relationship.setValue(this.emergencyContact.relationship),this.emergencyContactForm.controls.type.setValue(this.emergencyContact.type),this.emergencyContactForm.controls.info.setValue(this.emergencyContact.info)}post(){this.saving=!0,this.emergencyContactsService.postEmergencyContacts().subscribe(()=>{this.router.navigate(["/ess/emergency-contacts"])},n=>{this.router.navigate(["/ess/emergency-contacts"])})}setBreadcrumbs(n){const r=n?"EDIT":"ADD";this.breadcrumbService.setBreadcrumbItems([{url:"/ess/home"},{url:"/ess/emergency-contacts"},{text:this.translateService.instant(`ACTION.${r}`)}]),this.breadcrumbService.setPageTitle(this.translateService.instant(`TITLE.${r}_EMERGENCY_CONTACT`))}ngOnInit(){this.userStateService.session$.pipe((0,p.P)()).subscribe(r=>{this.isProxyUser=!!r?.proxyInfo}),this.loading=!0;const n=this.route.snapshot.params.id;this.translateService.onLangChange.subscribe(r=>{this.setBreadcrumbs(n)}),this.setBreadcrumbs(n),void 0!==n?(this.editing=!0,this.id=n,this.emergencyContactsService.getEmergencyContact(n).subscribe(r=>{this.emergencyContact=r,this.fillForm(),this.loading=!1},r=>{this.loading=!1})):this.emergencyContactsService.getEmergencyContacts().subscribe(()=>{this.loading=!1},r=>{this.loading=!1})}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(L),e.\u0275\u0275directiveInject(C.FormBuilder),e.\u0275\u0275directiveInject(t.gz),e.\u0275\u0275directiveInject(t.F0),e.\u0275\u0275directiveInject(M.FF),e.\u0275\u0275directiveInject(s.Vn),e.\u0275\u0275directiveInject(S.sK),e.\u0275\u0275directiveInject(m.P))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["ng-component"]],decls:8,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],["id","loader",4,"ngIf"],[4,"ngIf"],["confirmDeleteTemplate",""],["id","loader"],[1,"row","justify-content-center"],[1,"col-xl-8","col-lg-12","col-md-12"],["autocomplete","off",3,"formGroup"],[1,"card","mb-3"],["class","card-body",4,"ngIf"],[1,"d-flex","justify-content-start","flex-wrap"],["type","button","class","btn btn-primary mr-3 mb-2","id","saveButton",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary mr-3 mb-2","id","addButton",3,"disabled","click",4,"ngIf"],["routerLink","/ess/emergency-contacts","type","button",1,"btn","btn-outline-primary","mr-3","mb-2"],["type","button","class","ml-auto btn btn-danger mb-2 float-right","id","removeButton",3,"click",4,"ngIf"],[1,"card-body"],[1,"col-lg-6"],["required","",3,"label","control"],[1,"col-md-12","col-lg-6"],["required","",3,"label","options","control"],[1,"fas","fa-circle-notch","fa-spin","mr-3"],["type","button","id","saveButton",1,"btn","btn-primary","mr-3","mb-2",3,"disabled","click"],["type","button","id","addButton",1,"btn","btn-primary","mr-3","mb-2",3,"disabled","click"],["type","button","id","removeButton",1,"ml-auto","btn","btn-danger","mb-2","float-right",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"disabled","click"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"phr-page-heading"),e.\u0275\u0275elementStart(2,"div",1)(3,"div",2),e.\u0275\u0275template(4,c,1,0,"phr-block-loader",3),e.\u0275\u0275template(5,N,14,9,"div",4),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(6,V,19,16,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",r.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r.loading))},dependencies:[t.rH,i.O5,C.\u0275NgNoValidate,C.NgControlStatusGroup,y.F,C.FormGroupDirective,B.E,d.S,T.T,S.X$],encapsulation:2}),o})();var U=a(75778),j=a(14139);const k=["form"];let K=(()=>{class o{constructor(n,r){this.activeModal=n,this.translateService=r,this.contact=null,this.isNew=!0,this.form=null}ngOnInit(){this.form.emergencyContactForm.valueChanges.pipe((0,U.x)((n,r)=>!!n&&!!r&&JSON.stringify(n)===JSON.stringify(r))).subscribe(()=>{this.isFormValid=this.form.emergencyContactForm.valid&&(!this.isNew||!this.form.emergencyContactForm.pristine)})}get title(){return this.translateService.instant("LABEL."+(this.isNew?"ADD_CONTACT":"EDIT_CONTACT"))}handleSave(){!this.form.emergencyContactForm.valid||this.activeModal.close(this.form.getFormData())}handleClose(){this.activeModal.dismiss()}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(M.Kz),e.\u0275\u0275directiveInject(S.sK))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["phr-emergency-contact-edit"]],viewQuery:function(n,r){if(1&n&&e.\u0275\u0275viewQuery(k,7),2&n){let l;e.\u0275\u0275queryRefresh(l=e.\u0275\u0275loadQuery())&&(r.form=l.first)}},inputs:{contact:"contact",isNew:"isNew"},decls:16,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"emergencyContact"],["form",""],[1,"modal-footer","justify-content-start","d-flex"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return r.handleClose()}),e.\u0275\u0275elementStart(5,"span",3),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"phr-emergency-contact-form",5,6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",7)(11,"button",8),e.\u0275\u0275listener("click",function(){return r.handleSave()}),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",9),e.\u0275\u0275listener("click",function(){return r.handleClose()}),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(3,6,"TITLE.EMERGENCY_CONTACTS"),": ",r.title," "),e.\u0275\u0275advance(6),e.\u0275\u0275property("emergencyContact",r.contact),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!r.isFormValid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.title," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,8,"ACTION.CANCEL")," "))},dependencies:[j.h,S.X$],encapsulation:2}),o})();var W=a(74078),G=a(51060);function z(o,g){1&o&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",5),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"STATUS.SAVING"),"... "))}function H(o,g){if(1&o){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.save())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&o){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",n.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"ACTION.SAVE")," ")}}const $=[{path:"",component:(()=>{class o{constructor(n,r,l,E,D){this.breadcrumbService=n,this.translateService=r,this.employeeService=l,this.ngbModalService=E,this.userStateService=D,this.onViewDetails=new e.EventEmitter,this.onRemoveContact=new e.EventEmitter,this.onInitAddContact=new e.EventEmitter,this.onDataUpdate=new e.EventEmitter,this.saving=!1,this.loading=!1,this.employee={},this.emergencyContacts=[]}setBreadcrumbs(){this.breadcrumbService.setBreadcrumbItems([{url:"/ess/home"},{url:"/ess/emergency-contacts"}])}ngOnInit(){this.userStateService.session$.pipe((0,p.P)()).subscribe(n=>{this.isProxyUser=!!n?.proxyInfo}),this.translateService.onLangChange.subscribe(n=>{this.setBreadcrumbs()}),this.setBreadcrumbs(),this.loadEmployee()}loadEmployee(){this.loading=!0,this.employeeService.getEmployee(!0).subscribe(n=>{this.employee=n,this.loading=!1},n=>{this.loading=!1})}handleEditContact(n){const{emergencyContact:r,index:l}=n;this.openEmergencyContactFormModal(r,!1).then(E=>{this.employee.emergencyContacts[l]=E},E=>{})}handleAddContact(){return this.openEmergencyContactFormModal({name:"",relationship:"",type:"",info:""}).then(n=>{this.employee.emergencyContacts?this.employee.emergencyContacts.push(n):this.employee.emergencyContacts=[n]},n=>{})}openEmergencyContactFormModal(n,r=!0){const l=this.ngbModalService.open(K,{backdrop:"static",centered:!0,size:"lg"});return l.componentInstance.contact=n,l.componentInstance.isNew=r,l.result}handleRemoveContact(){}save(){this.saving=!0,this.employeeService.postEmployee().subscribe(n=>{this.employee=n,this.onDataUpdate.emit(n),this.saving=!1},n=>{this.saving=!1})}getUpdatedEmployeeData(){return this.employee}}return o.\u0275fac=function(n){return new(n||o)(e.\u0275\u0275directiveInject(s.Vn),e.\u0275\u0275directiveInject(S.sK),e.\u0275\u0275directiveInject(W.GP),e.\u0275\u0275directiveInject(M.FF),e.\u0275\u0275directiveInject(m.P))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["ng-component"]],outputs:{onViewDetails:"onViewDetails",onRemoveContact:"onRemoveContact",onInitAddContact:"onInitAddContact",onDataUpdate:"onDataUpdate"},decls:6,vars:3,consts:[[1,"container-fluid"],[3,"employee","onViewDetails","onInitAddContact","onRemoveContact"],[1,"row","no-gutters"],[4,"ngIf"],["type","button","id","save","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],["type","button","id","save",1,"btn","btn-primary",3,"disabled","click"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"phr-page-heading"),e.\u0275\u0275elementStart(2,"phr-emergency-contacts-list",1),e.\u0275\u0275listener("onViewDetails",function(E){return r.handleEditContact(E)})("onInitAddContact",function(){return r.handleAddContact()})("onRemoveContact",function(){return r.handleRemoveContact()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275template(4,z,4,3,"span",3),e.\u0275\u0275template(5,H,3,4,"button",4),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("employee",r.employee),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!r.saving))},dependencies:[i.O5,y.F,G.z,S.X$],encapsulation:2}),o})()},{path:"add",component:R},{path:":id",component:R}];let X=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[t.Bz.forChild($),t.Bz]}),o})();var Q=a(98474),Y=a(61354);let J=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({providers:[L,O.G],imports:[t.Bz,M.IJ,S.aw,i.ez,C.FormsModule,_.p,C.ReactiveFormsModule,f.j,I.L,v.z,Q.JT,Y.R,X]}),o})()},48967:(P,A,a)=>{a.d(A,{k:()=>M});var t=a(94650),C=a(36895),h=a(52885),e=a(31824);const O=["t"];function L(p,s){if(1&p&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&p){const m=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(m.subTitle)}}function f(p,s){if(1&p&&(t.\u0275\u0275elementStart(0,"div",8)(1,"div")(2,"b"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(4,L,2,1,"div",9),t.\u0275\u0275elementEnd()),2&p){const m=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(m.displayName),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",m.showSubTitle)}}function I(p,s){if(1&p&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&p){const m=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",m.subTitle," ")}}function v(p,s){if(1&p&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&p){const m=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",m.subTitle," ")}}const _=function(p,s){return{truncate:p,"":s}},S=function(p,s){return{hyphenate:p,"":s}};let M=(()=>{class p{constructor(){this.showSubTitle=!1,this.useToolTip=!1,this.toolTipPlacement="top"}get avatarName(){return this.firstName||""}get displayName(){return this.firstName?this.firstName+" "+this.lastName||"":this.lastName}onMouseMove(m){this.useToolTip&&(m?this.tooltip.open():this.tooltip.close())}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=t.\u0275\u0275defineComponent({type:p,selectors:[["phr-user-avatar"]],viewQuery:function(m,i){if(1&m&&t.\u0275\u0275viewQuery(O,5),2&m){let y;t.\u0275\u0275queryRefresh(y=t.\u0275\u0275loadQuery())&&(i.tooltip=y.first)}},inputs:{avatarUrl:"avatarUrl",firstName:"firstName",lastName:"lastName",subTitle:"subTitle",showSubTitle:"showSubTitle",useToolTip:"useToolTip",toolTipPlacement:"toolTipPlacement"},decls:15,vars:18,consts:[["tipContent",""],[1,"flex-row","d-flex","align-items-center"],[1,"mr-2","ml-0","pl-0",3,"name","imageUrl","textSizeRatio","size"],["triggers","manual",1,"d-none","d-md-block",2,"overflow-wrap","break-word","width","100%","white-space","nowrap","overflow","hidden",3,"ngbTooltip","placement","mouseenter","mouseleave"],["t","ngbTooltip"],[3,"ngClass"],["class","text-muted truncate",4,"ngIf"],[1,"d-md-none",2,"overflow-wrap","break-word","width","100%"],[1,"text-left",2,"overflow","visible"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[1,"text-muted","truncate"]],template:function(m,i){if(1&m&&(t.\u0275\u0275template(0,f,5,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(2,"div",1),t.\u0275\u0275element(3,"phr-avatar",2),t.\u0275\u0275elementStart(4,"div",3,4),t.\u0275\u0275listener("mouseenter",function(){return i.onMouseMove(!0)})("mouseleave",function(){return i.onMouseMove(!1)}),t.\u0275\u0275elementStart(6,"div",5)(7,"b"),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(9,I,2,1,"div",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",7)(11,"div",5)(12,"b"),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,v,2,1,"div",6),t.\u0275\u0275elementEnd()()),2&m){const y=t.\u0275\u0275reference(1);t.\u0275\u0275advance(3),t.\u0275\u0275property("name",i.avatarName)("imageUrl",i.avatarUrl)("textSizeRatio",2.5)("size",i.showSubTitle?45:40),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngbTooltip",y)("placement",i.toolTipPlacement),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(12,_,i.showSubTitle,!i.showSubTitle)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(i.displayName),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.showSubTitle),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(15,S,i.showSubTitle,!i.showSubTitle)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(i.displayName),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.showSubTitle)}},dependencies:[C.mk,C.O5,h._L,e.Z],styles:["[_nghost-%COMP%]     .tooltip-inner{max-width:unset}[_nghost-%COMP%]     .tooltip.show{opacity:1!important;filter:alpha(opacity=100);white-space:nowrap}.truncate[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),p})()},59253:(P,A,a)=>{a.d(A,{S:()=>p});var t=a(94650),C=a(93456),h=a(36895),e=a(24006),O=a(66058),L=a(39591),f=a(78126);function I(s,m){if(1&s&&t.\u0275\u0275element(0,"phr-input-label",8),2&s){const i=t.\u0275\u0275nextContext();t.\u0275\u0275property("control",i.control)("boldLabel",i.boldLabel)("label",i.label)("required",i.required)}}function v(s,m){if(1&s&&t.\u0275\u0275element(0,"phr-tooltip",9),2&s){const i=t.\u0275\u0275nextContext();t.\u0275\u0275property("text",i.tooltipText)("placement",i.tooltipPlacement)}}const _=function(s){return{mask:s,guide:!1}};function S(s,m){if(1&s&&t.\u0275\u0275element(0,"input",10),2&s){const i=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("is-invalid",(i.control.value||i.control.touched)&&i.control.invalid||i.invalid),t.\u0275\u0275property("formControl",i.control)("textMask",t.\u0275\u0275pureFunction1(8,_,i.mask))("type",i.type)("disabled",i.disabled)("readonly",i.readonly)("placeholder",i.placeholder)}}function M(s,m){if(1&s&&t.\u0275\u0275element(0,"input",11),2&s){const i=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("is-invalid",(i.control.value||i.control.touched)&&i.control.invalid||i.invalid),t.\u0275\u0275property("formControl",i.control)("type",i.type)("readonly",i.readonly)("disabled",i.disabled)("placeholder",i.placeholder)}}let p=(()=>{class s extends C.E{constructor(){super(),this.invalid=!1,this.show=!0,this.tooltipPlacement="top",this.type="text",this.valueChange=new t.EventEmitter}ngOnInit(){this.placeholder=this.placeholder?this.placeholder:"",this.validators.push(this.control.validator),super.init()}ngOnDestroy(){super.destroy()}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["phr-control"]],inputs:{control:"control",label:"label",required:"required",invalid:"invalid",show:"show",mask:"mask",disabled:"disabled",readonly:"readonly",placeholder:"placeholder",showTooltip:"showTooltip",tooltipText:"tooltipText",tooltipPlacement:"tooltipPlacement",type:"type"},outputs:{valueChange:"valueChange"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[[1,"form-group"],[1,"label-group"],[3,"control","boldLabel","label","required",4,"ngIf"],[1,"mx-2"],[3,"text","placement",4,"ngIf"],[1,"input-group"],["class","form-control","aria-describedby","basic-addon1",3,"formControl","textMask","type","is-invalid","disabled","readonly","placeholder",4,"ngIf"],["class","form-control","aria-describedby","basic-addon1",3,"formControl","type","is-invalid","readonly","disabled","placeholder",4,"ngIf"],[3,"control","boldLabel","label","required"],[3,"text","placement"],["aria-describedby","basic-addon1",1,"form-control",3,"formControl","textMask","type","disabled","readonly","placeholder"],["aria-describedby","basic-addon1",1,"form-control",3,"formControl","type","readonly","disabled","placeholder"]],template:function(i,y){1&i&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275template(2,I,1,4,"phr-input-label",2),t.\u0275\u0275elementStart(3,"div",3),t.\u0275\u0275template(4,v,1,2,"phr-tooltip",4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",5),t.\u0275\u0275template(6,S,1,10,"input",6),t.\u0275\u0275template(7,M,1,7,"input",7),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275styleProp("width",y.width),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",y.show),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",y.showTooltip),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",y.mask),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!y.mask))},dependencies:[h.O5,e.DefaultValueAccessor,e.NgControlStatus,e.FormControlDirective,O.hd,L.K,f.D],styles:[".label-group[_ngcontent-%COMP%]{display:flex}.label-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:1}"]}),s})()}}]);