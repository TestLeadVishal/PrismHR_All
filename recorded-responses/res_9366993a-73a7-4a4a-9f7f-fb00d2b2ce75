(self.webpackChunkprismhr_ess=self.webpackChunkprismhr_ess||[]).push([[6779,4846],{24846:(ne,V,a)=>{"use strict";a.r(V),a.d(V,{ForgotPasswordModule:()=>W});var t=a(24006),e=a(36895),y=a(34793),u=a(42466),i=a(94650),_=a(34202),v=a(80529),p=a(27111);let C=(()=>{class S{constructor(I,T){this.http=I,this.domainService=T,this.forgotPasswordUrl=this.domainService.getEssApiPath()+"/forgot-password"}sendForgotPasswordRequest(I,T="email"){return new _.y(x=>{this.http.post(this.forgotPasswordUrl,{userId:I,peoId:this.domainService.getPeoId(),method:T}).subscribe(j=>{x.next(),x.complete()},j=>{x.error(j)})})}}return S.\u0275fac=function(I){return new(I||S)(i.\u0275\u0275inject(v.eN),i.\u0275\u0275inject(p.NF))},S.\u0275prov=i.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac}),S})();function O(S,M){1&S&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()),2&S&&(i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,1,"VALIDATION.IS_REQUIRED"),""))}function N(S,M){if(1&S&&(i.\u0275\u0275elementStart(0,"p",16),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&S){const I=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(I.errMsg)}}function P(S,M){if(1&S){const I=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",17),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(I);const x=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(x.sendPasswordResetEmail())}),i.\u0275\u0275text(1),i.\u0275\u0275pipe(2,"translate"),i.\u0275\u0275elementEnd()}if(2&S){const I=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("disabled",!I.passwordResetForm.valid),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(2,2,"ACTION.SUBMIT")," ")}}function d(S,M){1&S&&(i.\u0275\u0275elementStart(0,"button",18),i.\u0275\u0275element(1,"i",19),i.\u0275\u0275elementEnd())}function L(S,M){if(1&S){const I=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div")(1,"h4",3),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"span",4),i.\u0275\u0275text(5),i.\u0275\u0275pipe(6,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"form",5)(8,"div",6)(9,"div",7),i.\u0275\u0275element(10,"br"),i.\u0275\u0275elementStart(11,"div",8)(12,"label",9),i.\u0275\u0275text(13),i.\u0275\u0275pipe(14,"translate"),i.\u0275\u0275template(15,O,3,3,"span",2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(16,"div",10),i.\u0275\u0275element(17,"input",11),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(18,N,2,1,"p",12),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(19,"div"),i.\u0275\u0275template(20,P,3,4,"button",13),i.\u0275\u0275template(21,d,2,0,"button",14),i.\u0275\u0275elementStart(22,"button",15),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(I);const x=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(x.authService.redirectToLogin())}),i.\u0275\u0275text(23),i.\u0275\u0275pipe(24,"translate"),i.\u0275\u0275elementEnd()()()()}if(2&S){const I=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,14,"TITLE.FORGOT_PASSWORD"),"? "),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(6,16,"MESSAGE.FORGOT_PASSWORD.IF_FORGOT_PASSWORD")),i.\u0275\u0275advance(2),i.\u0275\u0275property("formGroup",I.passwordResetForm),i.\u0275\u0275advance(5),i.\u0275\u0275classProp("text-danger",I.passwordResetForm.controls.username.invalid&&I.passwordResetForm.controls.username.touched),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(14,18,"LABEL.USERNAME")," "),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",I.passwordResetForm.controls.username.hasError("required")&&I.passwordResetForm.controls.username.touched),i.\u0275\u0275advance(2),i.\u0275\u0275classProp("is-invalid",I.passwordResetForm.controls.username.invalid&&I.passwordResetForm.controls.username.touched),i.\u0275\u0275property("formControl",I.passwordResetForm.controls.username),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",I.errMsg),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",!I.requesting),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",I.requesting),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(24,20,"ACTION.RETURN_TO_LOGIN")," ")}}function $(S,M){if(1&S){const I=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div")(1,"div",20),i.\u0275\u0275element(2,"i",21),i.\u0275\u0275elementStart(3,"div",22),i.\u0275\u0275text(4),i.\u0275\u0275pipe(5,"translate"),i.\u0275\u0275elementStart(6,"a",23),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(I);const x=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(x.authService.redirectToLogin())}),i.\u0275\u0275text(7),i.\u0275\u0275pipe(8,"translate"),i.\u0275\u0275elementEnd()()()()}2&S&&(i.\u0275\u0275advance(4),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(5,2,"MESSAGE.FORGOT_PASSWORD.PASSWORD_RESET_SENT")," "),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(8,4,"ACTION.RETURN_TO_LOGIN")," "))}let H=(()=>{class S{constructor(I,T,x){this.fb=I,this.forgotPasswordService=T,this.authService=x,this.passwordResetForm=this.fb.group({username:[null,t.Validators.required]}),this.emailSent=!1,this.requesting=!1}ngOnInit(){}sendPasswordResetEmail(){this.requesting=!0,this.forgotPasswordService.sendForgotPasswordRequest(this.passwordResetForm.value.username).subscribe(()=>{this.emailSent=!0,this.requesting=!1},I=>{this.emailSent=!0,this.requesting=!1})}}return S.\u0275fac=function(I){return new(I||S)(i.\u0275\u0275directiveInject(t.FormBuilder),i.\u0275\u0275directiveInject(C),i.\u0275\u0275directiveInject(p.e8))},S.\u0275cmp=i.\u0275\u0275defineComponent({type:S,selectors:[["ng-component"]],decls:4,vars:2,consts:[[1,"card","opacity-9"],[1,"card-body"],[4,"ngIf"],[1,"card-title","text-gray"],[1,"card-text","text-gray"],[3,"formGroup"],[1,"row"],[1,"card-text","text-gray","col-12","col-sm-12"],[1,"form-group"],["for","username"],[1,"input-group"],["name","username","type","text","aria-describedby","basic-addon1",1,"form-control",3,"formControl"],["class","text-danger",4,"ngIf"],["type","button","class","btn btn-primary mr-1",3,"disabled","click",4,"ngIf"],["disabled","true","type","button","class","btn btn-primary mr-1",4,"ngIf"],["type","button",1,"btn","btn-link",3,"click"],[1,"text-danger"],["type","button",1,"btn","btn-primary","mr-1",3,"disabled","click"],["disabled","true","type","button",1,"btn","btn-primary","mr-1"],[1,"fas","fa-circle-notch","fa-spin"],[1,"d-flex"],["aria-hidden","true",1,"fas","fa-3x","fa-check-circle","text-success","align-self-center"],[1,"ml-3","align-self-center"],["href","#",3,"click"]],template:function(I,T){1&I&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1),i.\u0275\u0275template(2,L,25,22,"div",2),i.\u0275\u0275template(3,$,9,6,"div",2),i.\u0275\u0275elementEnd()()),2&I&&(i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",!T.emailSent),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",T.emailSent))},dependencies:[e.O5,t.\u0275NgNoValidate,t.DefaultValueAccessor,t.NgControlStatus,t.NgControlStatusGroup,t.FormControlDirective,t.FormGroupDirective,u.X$],encapsulation:2}),S})(),W=(()=>{class S{}return S.\u0275fac=function(I){return new(I||S)},S.\u0275mod=i.\u0275\u0275defineNgModule({type:S}),S.\u0275inj=i.\u0275\u0275defineInjector({providers:[C],imports:[y.Bz.forChild([{path:"",component:H}]),e.ez,t.ReactiveFormsModule,u.aw]}),S})()},47262:(ne,V,a)=>{"use strict";a.d(V,{B:()=>e});var t=a(94650);let e=(()=>{class y{}return y.\u0275fac=function(i){return new(i||y)},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["phr-information-message"]],inputs:{title:"title",alertType:"alertType",iconType:"iconType"},decls:4,vars:7,consts:[["role","alert"],["aria-hidden","true"]],template:function(i,_){1&i&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"i",1),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()),2&i&&(t.\u0275\u0275classMapInterpolate1("alert alert-",_.alertType,""),t.\u0275\u0275advance(1),t.\u0275\u0275classMapInterpolate1("fas fa-",_.iconType," mr-2"),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(_.title))},encapsulation:2}),y})()},39017:(ne,V,a)=>{"use strict";a.d(V,{h:()=>S});var t=a(88341),e=a(94650),y=a(74078),u=a(52885),i=a(36895),_=a(42466);const v=function(M){return{id:M}};function p(M,I){if(1&M&&e.\u0275\u0275elementContainer(0,11),2&M){const T=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275nextContext();const x=e.\u0275\u0275reference(12);e.\u0275\u0275property("ngTemplateOutlet",x)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(2,v,T.id))}}function C(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"li",8)(1,"a",9),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"uppercase"),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,p,1,4,"ng-template",10),e.\u0275\u0275elementEnd()),2&M){const T=I.$implicit;e.\u0275\u0275property("ngbNavItem",T.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,e.\u0275\u0275pipeBind1(4,4,T.label)))}}function O(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"div",15)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&M){const T=e.\u0275\u0275nextContext().id,x=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.ADDRESS_LINE_1")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==x.addressData[T]?null:x.addressData[T].address1)||"-")}}function N(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"div",15)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&M){const T=e.\u0275\u0275nextContext().id,x=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.ADDRESS_LINE_2")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==x.addressData[T]?null:x.addressData[T].address2)||"-")}}function P(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"div",15)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&M){const T=e.\u0275\u0275nextContext().id,x=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.ZIP")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==x.addressData[T]?null:x.addressData[T].zip)||"-")}}function d(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"div",15)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&M){const T=e.\u0275\u0275nextContext().id,x=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.CITY")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==x.addressData[T]?null:x.addressData[T].city)||"-")}}function L(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"div",15)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&M){const T=e.\u0275\u0275nextContext().id,x=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.COUNTY")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==x.addressData[T]?null:x.addressData[T].county)||"-")}}function $(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"div",15)(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&M){const T=e.\u0275\u0275nextContext().id,x=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.STATE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==x.addressData[T]?null:x.addressData[T].state)||"-")}}function H(M,I){if(1&M&&(e.\u0275\u0275elementStart(0,"div",12)(1,"div",13),e.\u0275\u0275template(2,O,6,4,"div",14),e.\u0275\u0275template(3,N,6,4,"div",14),e.\u0275\u0275template(4,P,6,4,"div",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",13),e.\u0275\u0275template(6,d,6,4,"div",14),e.\u0275\u0275template(7,L,6,4,"div",14),e.\u0275\u0275template(8,$,6,4,"div",14),e.\u0275\u0275elementEnd()()),2&M){const T=I.id,x=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",x.hasField("address1",T)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",x.hasField("address2",T)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",x.hasField("zip",T)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",x.hasField("city",T)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",x.hasField("county",T)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",x.hasField("state",T))}}var W=(()=>{return(M=W||(W={})).home="home",M.mailing="mailing",M.w2="w2",W;var M})();let S=(()=>{class M{constructor(T){this.employeeService=T,this.addressSections=[new t.O({label:"LABEL.RESIDENT",id:W.home}),new t.O({label:"LABEL.MAILING",id:W.mailing}),new t.O({label:"LABEL.W-2",id:W.w2})],this.activeId=W.home,this.addressData={},this.hasField=(x,j)=>x in this.addressData[j]}ngOnInit(){this.filterAddressTabs(),this.activeId=this.addressSections[0].id}filterAddressTabs(){this.addressSections=this.addressSections.reduce((T,x)=>{const j=this.getAddress(x.id);return 0===Object.keys(j).length?T:(this.addressData={...this.addressData,[x.id]:j},[...T,x])},[])}getAddress(T=this.activeId){return{...this.employeeService.constructAddress(this.employee,T)}}}return M.\u0275fac=function(T){return new(T||M)(e.\u0275\u0275directiveInject(y.GP))},M.\u0275cmp=e.\u0275\u0275defineComponent({type:M,selectors:[["phr-details-address"]],inputs:{employee:"employee"},decls:13,vars:7,consts:[[1,"py-3"],[1,"col-12","pl-0","mb-1"],[1,"col-12","mb-4","px-0"],["ngbNav","",1,"nav-pills","prismhr-nav-pills-underline",3,"activeId","animation","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[1,"mt-2",3,"ngbNavOutlet"],["address",""],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"row","pl-0","mt-4","hyphenate"],[1,"col-6","col-md-3"],["class","pt-1",4,"ngIf"],[1,"pt-1"]],template:function(T,x){if(1&T&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5")(3,"strong"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"div",2)(7,"ul",3,4),e.\u0275\u0275listener("activeIdChange",function(q){return x.activeId=q}),e.\u0275\u0275template(9,C,6,6,"li",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,H,9,6,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&T){const j=e.\u0275\u0275reference(8);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,5,"LABEL.ADDRESS")),e.\u0275\u0275advance(3),e.\u0275\u0275property("activeId",x.activeId)("animation",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",x.addressSections),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngbNavOutlet",j)}},dependencies:[u.uN,u.Pz,u.nv,u.Vx,u.tO,i.sg,i.O5,i.tP,i.gd,_.X$],encapsulation:2,changeDetection:0}),M})()},3724:(ne,V,a)=>{"use strict";a.d(V,{w:()=>be});var t=a(15861),e=a(94650),y=a(17489),i=a(74078),_=a(99981),v=a(24006),p=a(88228),C=a(72860),O=a(51818),N=a(36895),P=a(88452),d=a(56703),L=a(24856),$=a(42466);function H(G,X){if(1&G){const c=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(c);const A=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(A.toggleEditMode())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}2&G&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ACTION.EDIT")))}function W(G,X){1&G&&(e.\u0275\u0275elementStart(0,"div",6)(1,"h6"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),2&G&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"LABEL.PHONE")))}function S(G,X){1&G&&e.\u0275\u0275element(0,"phr-block-loader",9)}const M=function(G,X){return{"col-6":G,"col-12":X}};function I(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"phr-read-write-phone-control",17),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&G){const c=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(9,M,!c.isEditing,c.isEditing)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,7,"LABEL.HOME_PHONE")),e.\u0275\u0275property("control",c.contactInfoForm&&c.contactInfoForm.controls&&c.contactInfoForm.controls.homePhone)("value",c.employee.homePhone)("disabled",!c.hasPermission("homePhone",c.PERMISSION_ACTIONS.WRITE)||c.saving)("required",c.getPermission("homePhone").required)("editing",c.isEditingField("homePhone"))}}function T(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"phr-read-write-phone-control",17),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&G){const c=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(9,M,!c.isEditing,c.isEditing)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,7,"LABEL.CELL_PHONE")),e.\u0275\u0275property("control",c.contactInfoForm&&c.contactInfoForm.controls&&c.contactInfoForm.controls.cellPhone)("value",c.employee.cellPhone)("disabled",!c.hasPermission("cellPhone",c.PERMISSION_ACTIONS.WRITE)||c.saving)("required",c.getPermission("cellPhone").required)("editing",c.isEditingField("cellPhone"))}}function x(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"phr-read-write-phone-control",17),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&G){const c=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(9,M,!c.isEditing,c.isEditing)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,7,"LABEL.WORK_PHONE")),e.\u0275\u0275property("control",c.contactInfoForm&&c.contactInfoForm.controls&&c.contactInfoForm.controls.workPhone)("value",c.employee.workPhone)("disabled",!c.hasPermission("workPhone",c.PERMISSION_ACTIONS.WRITE)||c.saving)("required",c.getPermission("workPhone").required)("editing",c.isEditingField("workPhone"))}}function j(G,X){1&G&&(e.\u0275\u0275elementStart(0,"div",6)(1,"h6"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()),2&G&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.EMAIL")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,"MESSAGE.EMPLOYEE_PREFERRED_EMAIL_MESSAGE")))}function q(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275element(1,"input",21),e.\u0275\u0275elementStart(2,"label",22),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()),2&G){const c=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",!c.hasPermission("primaryEmail",c.PERMISSION_ACTIONS.WRITE)||!c.isEditing)("checked",c.saving&&c.currentPrimaryEmail===c.primaryEmail.PERSONAL),e.\u0275\u0275propertyInterpolate("value",c.primaryEmail.PERSONAL),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,6,"LABEL.USE_PREFERRED_EMAIL"))}}function J(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275element(1,"phr-read-write-control",17),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275template(3,q,5,8,"div",19),e.\u0275\u0275elementEnd()),2&G){const c=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(10,M,!c.isEditing,c.isEditing)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,8,"LABEL.PERSONAL_EMAIL")),e.\u0275\u0275property("control",c.contactInfoForm&&c.contactInfoForm.controls&&c.contactInfoForm.controls.personalEmail)("value",c.employee.personalEmail)("disabled",!c.hasPermission("personalEmail",c.PERMISSION_ACTIONS.WRITE)||c.saving)("required",c.getPermission("personalEmail").required)("editing",c.isEditingField("personalEmail")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",c.hasPermission("primaryEmail",c.PERMISSION_ACTIONS.READ))}}function le(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div",26),e.\u0275\u0275element(1,"input",27),e.\u0275\u0275elementStart(2,"label",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()),2&G){const c=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",!c.hasPermission("primaryEmail",c.PERMISSION_ACTIONS.WRITE)||c.disableWorkEmail||!c.isEditing)("checked",c.saving&&c.currentPrimaryEmail===c.primaryEmail.WORK),e.\u0275\u0275propertyInterpolate("value",c.primaryEmail.WORK),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"LABEL.USE_PREFERRED_EMAIL")," ")}}function Ie(G,X){1&G&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&G&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"MESSAGE.DISABLE_WORK_EMAIL_FOR_TERMINATED")," "))}function Pe(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275element(1,"phr-read-write-control",17),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementStart(3,"div",23),e.\u0275\u0275template(4,le,5,8,"div",24),e.\u0275\u0275template(5,Ie,3,3,"div",25),e.\u0275\u0275elementEnd()()),2&G){const c=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(11,M,!c.isEditing,c.isEditing)),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,9,"LABEL.WORK_EMAIL")),e.\u0275\u0275property("control",c.contactInfoForm&&c.contactInfoForm.controls&&c.contactInfoForm.controls.workEmail)("value",c.employee.workEmail)("disabled",!c.hasPermission("workEmail",c.PERMISSION_ACTIONS.WRITE)||c.saving)("required",c.getPermission("workEmail").required)("editing",c.isEditingField("workEmail")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",c.hasPermission("primaryEmail",c.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.disableWorkEmail&&c.isEditing)}}function Ee(G,X){1&G&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&G&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ACTION.SAVE")))}function ge(G,X){1&G&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",34),e.\u0275\u0275elementEnd())}function Ce(G,X){if(1&G){const c=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30)(1,"div",31)(2,"button",32),e.\u0275\u0275template(3,Ee,3,3,"span",4),e.\u0275\u0275template(4,ge,2,0,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",33),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(c);const A=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(A.onCancel())}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()()}if(2&G){const c=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!c.contactInfoForm.valid||c.saving||c.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!c.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.saving),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,4,"ACTION.CANCEL")," ")}}function ye(G,X){if(1&G){const c=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",10),e.\u0275\u0275listener("submit",function(){e.\u0275\u0275restoreView(c);const A=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(A.save())}),e.\u0275\u0275template(1,I,3,12,"div",11),e.\u0275\u0275template(2,T,3,12,"div",11),e.\u0275\u0275template(3,x,3,12,"div",11),e.\u0275\u0275elementStart(4,"div",12)(5,"div",13),e.\u0275\u0275element(6,"hr"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,j,7,6,"div",3),e.\u0275\u0275template(8,J,4,13,"div",14),e.\u0275\u0275template(9,Pe,6,14,"div",14),e.\u0275\u0275template(10,Ce,8,6,"div",15),e.\u0275\u0275elementEnd()}if(2&G){const c=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formGroup",c.contactInfoForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.hasPermission("homePhone",c.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.hasPermission("cellPhone",c.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.hasPermission("workPhone",c.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",c.hasField("personalEmail")||c.hasField("workEmail")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.hasPermission("personalEmail",c.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.hasPermission("workEmail",c.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.isEditing)}}function Oe(G,X){if(1&G&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,S,1,0,"phr-block-loader",7),e.\u0275\u0275template(2,ye,11,8,"form",8),e.\u0275\u0275elementEnd()),2&G){const c=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",c.loading&&c.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!c.loading||!c.isEditing)}}let be=(()=>{class G{constructor(c,ee,A){this.employeesService=c,this.fb=ee,this.cdr=A,this.onEmployeeUpdate=new e.EventEmitter,this.saving=!1,this.isEditing=!1,this.loading=!1,this.contactInfoForm=this.fb.group({}),this.PERMISSION_ACTIONS=_.pg,this.primaryEmail=i.E_}ngOnChanges(c){c.saving&&!1===c.saving.currentValue&&(this.initForm(),this.isEditing=!1)}ngOnDestroy(){(0,y.isNil)(this.formChangeSubscription)||this.formChangeSubscription.unsubscribe()}toggleEditMode(){this.isEditing=!this.isEditing}canEdit(){return(0,_.Fs)(this.employeesService.permissions,_.T_,_.pg.WRITE)}hasPermission(c,ee=_.pg.WRITE){return(0,_.Fs)(this.employeesService.permissions,[c],ee)}ngOnInit(){var c=this;return(0,t.Z)(function*(){c.loading=!0,c.initForm(),c.subscribeToFormChange(),c.loading=!1,c.disableWorkEmail=(0,y.get)(c.employee,"employeeStatusCode.statusClass")===i.Du.TERMINATED})()}onCancel(){this.isEditing=!1,this.initForm(),this.subscribeToFormChange()}isEditingField(c){return this.isEditing&&this.hasPermission(c,_.pg.WRITE)&&!this.loading}initForm(){const c=["personalEmail","workEmail"];_.T_.forEach(A=>{if(this.hasPermission(A,_.pg.READ)){const Z=new Array;this.employeesService.permissions.find(l=>l.property===A).required&&Z.push(v.Validators.required),c.includes(A)&&Z.push(p.dN.email),this.contactInfoForm.addControl(A,new v.FormControl(this.employee[A],{validators:Z}))}})}getPermission(c){return this.employeesService.getPermission(c)}save(){var c=this;return(0,t.Z)(function*(){if(c.contactInfoForm.valid){Object.keys(c.contactInfoForm.controls).forEach(A=>{const Z=c.contactInfoForm.controls[A].value;c.contactInfoForm.controls[A].value=null===Z?"":Z});const ee={...c.contactInfoForm.value,cellPhone:(0,C.r)(c.contactInfoForm.value?.cellPhone),homePhone:(0,C.r)(c.contactInfoForm.value?.homePhone),workPhone:(0,C.r)(c.contactInfoForm.value?.workPhone)};ee.employeeId=c.employee.employeeId,c.onEmployeeUpdate.emit(ee)}})()}hasField(c){return c in this.employee}subscribeToFormChange(){(0,y.isNil)(this.contactInfoForm)||(this.formChangeSubscription=this.contactInfoForm.valueChanges.subscribe(c=>{(0,y.isNil)(c.primaryEmail)||(this.currentPrimaryEmail=c.primaryEmail),this.cdr.detectChanges();const{primaryEmail:ee}=c;(!this.contactInfoForm.controls.personalEmail.value&&ee===i.E_.PERSONAL||!this.contactInfoForm.controls.workEmail.value&&ee===i.E_.WORK)&&this.contactInfoForm.get("primaryEmail").setValue(null)}))}}return G.\u0275fac=function(c){return new(c||G)(e.\u0275\u0275directiveInject(O.M),e.\u0275\u0275directiveInject(v.FormBuilder),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},G.\u0275cmp=e.\u0275\u0275defineComponent({type:G,selectors:[["phr-details-contactinfo"]],inputs:{employee:"employee",saving:"saving",isProxyUser:"isProxyUser"},outputs:{onEmployeeUpdate:"onEmployeeUpdate"},features:[e.\u0275\u0275NgOnChangesFeature],decls:9,vars:6,consts:[[1,"contact-info","py-3","hyphenate"],[1,"col-12","pl-0","mb-1"],["class","btn btn-link pl-3 text-primary cursor-pointer",3,"click",4,"ngIf"],["class","col-12 pl-0 py-2",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","pl-3","text-primary","cursor-pointer",3,"click"],[1,"col-12","pl-0","py-2"],["class","col-12","id","loader",4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],["id","loader",1,"col-12"],[3,"formGroup","submit"],["class","py-2",3,"ngClass",4,"ngIf"],[1,"row"],[1,"col-12","col-md-5"],["class","py-2 email-container email-container-popup",3,"ngClass",4,"ngIf"],["class","col-12 pr-2",4,"ngIf"],[1,"py-2",3,"ngClass"],[3,"control","value","label","disabled","required","editing"],[1,"py-2","email-container","email-container-popup",3,"ngClass"],["class","radio-input-group",4,"ngIf"],[1,"radio-input-group"],["type","radio","formControlName","primaryEmail","id","personal-email-radio-button",3,"value"],["for","personal-email-radio-button"],[1,"d-flex","flex-column"],["class","radio-input-group work-email-input-group w-100",4,"ngIf"],["class","terminated-employee-preferred",4,"ngIf"],[1,"radio-input-group","work-email-input-group","w-100"],["type","radio","formControlName","primaryEmail","id","work-email-radio-button",3,"value"],["for","work-email-radio-button"],[1,"terminated-employee-preferred"],[1,"col-12","pr-2"],[1,"row","pl-0"],["type","submit",1,"btn","btn-primary","mr-3",3,"disabled"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(c,ee){1&c&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5")(3,"strong"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,H,3,3,"a",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,W,4,3,"div",3),e.\u0275\u0275template(8,Oe,3,2,"div",4),e.\u0275\u0275elementEnd()),2&c&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"TITLE.CONTACT_INFO")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",ee.canEdit()&&!ee.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",ee.hasField("homePhone")||ee.hasField("cellPhone")||ee.hasField("workPhone")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",ee.contactInfoForm&&ee.contactInfoForm.controls))},dependencies:[N.mk,N.O5,v.\u0275NgNoValidate,v.DefaultValueAccessor,v.RadioControlValueAccessor,v.NgControlStatus,v.NgControlStatusGroup,P.E,v.FormGroupDirective,v.FormControlName,d.w,L.I,$.X$],styles:[".contact-info .terminated-employee-preferred{padding-left:40px}@media only screen and (max-width: 890px){.contact-info .terminated-employee-preferred{padding-left:0;padding-bottom:16px}.contact-info .work-email-input-group{padding-bottom:0!important}}\n"],encapsulation:2}),G})()},92841:(ne,V,a)=>{"use strict";a.d(V,{K:()=>i});var t=a(68757),e=a(94650),y=a(42466),u=a(51060);let i=(()=>{class _{constructor(p){this.translateService=p,this.columns=[]}ngOnInit(){this.columns.push(new t.hj({property:"name",enumerable:!1,visible:this.hasField("name"),title:this.translateService.instant("LABEL.NAME")}),new t.hj({property:"relationship",enumerable:!1,visible:this.hasField("relationship"),title:this.translateService.instant("LABEL.RELATIONSHIP")}),new t.hj({property:"info",enumerable:!1,visible:this.hasField("info"),title:this.translateService.instant("TITLE.CONTACT_INFO")}),new t.hj({property:"type",visible:this.hasField("type"),transform:p=>p?this.translateService.instant("LABEL."+p.toUpperCase()):"-",title:this.translateService.instant("LABEL.CONTACT_METHOD")}))}hasField(p){return!(this.employee.emergencyContacts.length>0)||p in this.employee.emergencyContacts[0]}hasEmergencyContacts(){return"emergencyContacts"in this.employee}}return _.\u0275fac=function(p){return new(p||_)(e.\u0275\u0275directiveInject(y.sK))},_.\u0275cmp=e.\u0275\u0275defineComponent({type:_,selectors:[["phr-details-emergencycontacts"]],inputs:{employee:"employee"},decls:8,vars:8,consts:[[1,"py-3"],[1,"col-12","pl-0","mb-1"],[3,"activeLink","showSearch","showRemove","showAddContact","employee"]],template:function(p,C){1&p&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5")(3,"strong"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"div"),e.\u0275\u0275element(7,"phr-emergency-contacts-list",2),e.\u0275\u0275elementEnd()()),2&p&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,6,"TITLE.EMERGENCY_CONTACTS")),e.\u0275\u0275advance(3),e.\u0275\u0275property("activeLink",!1)("showSearch",!1)("showRemove",!1)("showAddContact",!1)("employee",C.employee))},dependencies:[u.z,y.X$],styles:["@media (max-width: 768px){.name-cell[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef!important}}@media (min-width: 769px){.name-cell[_ngcontent-%COMP%]{border-right:1px solid #e9ecef!important}}"]}),_})()},70635:(ne,V,a)=>{"use strict";a.d(V,{D:()=>N});var t=a(94650),e=a(36895),y=a(42466);function u(P,d){if(1&P){const L=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(L);const H=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(H.onGoToPath.emit("hractions/statustypechange"))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(2&P){const L=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",(null==L.employee?null:L.employee.type)||"-","")}}function i(P,d){if(1&P&&t.\u0275\u0275text(0),2&P){const L=t.\u0275\u0275nextContext(2);t.\u0275\u0275textInterpolate((null==L.employee?null:L.employee.type)||"-")}}function _(P,d){if(1&P&&(t.\u0275\u0275elementStart(0,"div",2)(1,"b",3),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",4),t.\u0275\u0275template(5,u,2,1,"a",7),t.\u0275\u0275template(6,i,1,1,"ng-template",null,8,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()),2&P){const L=t.\u0275\u0275reference(7),$=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"LABEL.EMPLOYEE_TYPE"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!$.hideStatusLinks)("ngIfElse",L)}}function v(P,d){if(1&P){const L=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(L);const H=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(H.onGoToPath.emit("hractions/statustypechange"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"titlecase"),t.\u0275\u0275elementEnd()}if(2&P){const L=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,null==L.employee||null==L.employee.employeeStatusCode?null:L.employee.employeeStatusCode.fullDescription)||"-","")}}function p(P,d){if(1&P&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"titlecase")),2&P){const L=t.\u0275\u0275nextContext(2);t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(1,1,null==L.employee||null==L.employee.employeeStatusCode?null:L.employee.employeeStatusCode.fullDescription)||"-")}}function C(P,d){if(1&P&&(t.\u0275\u0275elementStart(0,"div",2)(1,"b",3),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",4),t.\u0275\u0275template(5,v,3,3,"a",7),t.\u0275\u0275template(6,p,2,3,"ng-template",null,10,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()),2&P){const L=t.\u0275\u0275reference(7),$=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,3,"LABEL.EMPLOYMENT_STATUS"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!$.hideStatusLinks)("ngIfElse",L)}}function O(P,d){if(1&P){const L=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(L);const H=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(H.onGoToPath.emit("hractions/resetpassword"))}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&P&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ACTION.RESET_PASSWORD")," "))}let N=(()=>{class P{constructor(){this.onGoToPath=new t.EventEmitter,this.hasField=L=>L in this.employee}}return P.\u0275fac=function(L){return new(L||P)},P.\u0275cmp=t.\u0275\u0275defineComponent({type:P,selectors:[["phr-employee-details-header"]],inputs:{employee:"employee",hideStatusLinks:"hideStatusLinks",canResetPassword:"canResetPassword"},outputs:{onGoToPath:"onGoToPath"},decls:18,vars:11,consts:[[1,"d-flex","header-wrapper"],[1,""],[1,"text-col"],[1,"mt-2"],[1,"mb-1"],["class","text-col",4,"ngIf"],["tabindex","0","class","font-weight-bold",3,"click",4,"ngIf"],["tabindex","0","class","font-weight-bold",3,"click",4,"ngIf","ngIfElse"],["hideStatus",""],["tabindex","0",1,"font-weight-bold",3,"click"],["hideStatus2",""]],template:function(L,$){1&L&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"b",3),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"p",4),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",2)(9,"b",3),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"p",4),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,_,8,5,"div",5),t.\u0275\u0275template(15,C,8,5,"div",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"div"),t.\u0275\u0275template(17,O,3,3,"a",6),t.\u0275\u0275elementEnd()()),2&L&&(t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(5,7,"LABEL.EMPLOYEE_ID"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(null==$.employee?null:$.employee.employeeId),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(11,9,"LABEL.USERNAME"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate((null==$.employee?null:$.employee.userId)||"-"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",$.hasField("type")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",$.hasField("employeeStatusCode")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",$.canResetPassword))},dependencies:[e.O5,e.rS,y.X$],styles:["[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{padding:1.5rem .5rem;overflow-y:auto}@media (max-width: 768px){[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{padding:1.5rem 1rem}}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-basis:70%}@media (max-width: 768px){[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-direction:column}}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{justify-content:flex-end;flex-basis:30%;padding:0}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]{text-align:right}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .text-col[_ngcontent-%COMP%]{padding-right:30px}[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .text-col[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{white-space:nowrap}@media (max-width: 1200px){[_nghost-%COMP%]   .header-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .text-col[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{white-space:normal}}"],changeDetection:0}),P})()},22260:(ne,V,a)=>{"use strict";a.d(V,{v:()=>Ht});var t=a(15861),e=a(94650),y=(()=>{return(r=y||(y={})).FULL="FULL",r.READONLY="READONLY",r.HIDDEN="HIDDEN",y;var r})(),u=a(36053),i=a(6860),_=a(88341),v=a(99981),p=a(81554),C=a(42466),O=a(51818),N=a(74078),P=a(27111),d=a(34793);let L=(()=>{class r{constructor(n,m,g,R,de,pe){this.translateService=n,this.employeesService=m,this.employeeService=g,this.authService=R,this.router=de,this.route=pe,this._tabs=[],this._tabsView=[],this._mobileTabsView=[],this.findTheLevel=(ce,[ue,...se])=>(0,i.HH)(ue)&&(0,i.Of)(se)?this.findTheLevel(ce.find(Ge=>Ge.id===ue).children,se):ce,this.hasChildren=ce=>(0,i.Of)(ce.children),this.setPath=ce=>(0,i.HH)(ce.path)?`${ce.path}/${ce.id}`:`${ce.id}`}get tabsView(){return this._tabsView}get mobileTabsView(){return this._mobileTabsView}get activeTab(){return this._activeTab}set activeTab(n){this._activeTab=n}initTabs(n,m,g){var R=this;return(0,t.Z)(function*(){R._tabs=[];let de=p.n;if(g||(de=p.n.filter(pe=>"resetpassword"!==pe.id)),0===m?.length&&(m=(yield R.authService.getPermissions().toPromise()).filter(ce=>ce.permission!==y.HIDDEN).map(ce=>ce.id)),de.length){const pe=new _.O({label:R.translateService.instant("TITLE.HR_ACTIONS"),id:"hractions"});pe.children=R.setChildren(pe,de,m),pe.children?.length>0&&R._tabs.push(pe)}(0,v.Fs)(R.employeesService.permissions,v.jL,v.pg.READ)&&R._tabs.push(new _.O({label:R.translateService.instant("TITLE.EMPLOYMENT_SUMMARY"),id:"employmentsummary",active:!0})),(0,v.Fs)(R.employeesService.permissions,v.dL,v.pg.READ)&&R._tabs.push(new _.O({label:R.translateService.instant("TITLE.PERSONAL_INFO"),id:"personalinfo"})),(0,v.Fs)(R.employeesService.permissions,v.T_,v.pg.READ)&&R._tabs.push(new _.O({label:R.translateService.instant("TITLE.CONTACT_INFO"),id:"contactinfo"})),(Object.keys(R.employeeService.constructAddress(n,"home")).length>0||Object.keys(R.employeeService.constructAddress(n,"mailing")).length>0||Object.keys(R.employeeService.constructAddress(n,"w2")).length>0)&&R._tabs.push(new _.O({label:R.translateService.instant("LABEL.ADDRESS"),id:"address"})),(0,v.Fs)(R.employeesService.permissions,v.mx,v.pg.READ)&&R._tabs.push(new _.O({label:R.translateService.instant("TITLE.EMERGENCY_CONTACTS"),id:"emergencycontacts"})),m.includes("pto")&&R._tabs.push(new _.O({label:R.translateService.instant("LABEL.PAID_TIME_OFF"),id:"pto"})),!(0,i.t$)(R.activeTab)&&(0,i.Of)(R._tabs)&&(R.activeTab=R.getActiveTab(R._tabs)),R._tabsView=[...R._tabs],R._mobileTabsView=R.flattenTabs(R._tabs)})()}handleTabsChange(n){this.hasChildren(n)?(this._tabsView=[...n.children],this.activeTab=this.getActiveTab(this._tabsView)):this.activeTab=(0,i.Cl)(n),this.navigateToTab()}goLevelBack(n){this._tabsView=[...1===n.level?this._tabs:this.findTheLevel(this._tabs,n.path.split("/"))],this.activeTab=this.getActiveTab(this.tabsView)}goToPath(n){const m=n.split("/");this._tabsView=this.findTheLevel(this._tabs,m),this.activeTab=this.tabsView.find(g=>g.id===m.slice(-1)[0])??{},this.navigateToTab()}changeMobileTab(n){this.activeTab=(0,i.Cl)(this.mobileTabsView.find(m=>m.id===n)),this._tabsView=this.findTheLevel(this._tabs,this.setPath(this.activeTab).split("/")),this.navigateToTab()}setChildren(n,m,g){return m.reduce((R,de)=>{const pe=new _.O({...de,parent:n,label:this.translateService.instant(`${de.label}`),level:n.level+1,path:this.setPath(n)});return pe.shouldHaveAccess&&!g.includes(pe.id)?[...R]:[...R,this.hasChildren(de)?new _.O({...pe,children:this.setChildren(pe,pe.children,g)}):pe]},[])}getActiveTab([n,...m]){return(0,i.t$)(n)?this.hasChildren(n)?this.getActiveTab(m):(0,i.Cl)(n):null}navigateToTab(){(0,i.t$)(this.activeTab)&&this.router.navigate(this.route.snapshot.url,{queryParams:{section:this.activeTab.id},queryParamsHandling:"merge"})}flattenTabs(n){return n.reduce((m,g)=>this.hasChildren(g)?[...m,...this.flattenTabs(g.children)]:[...m,(0,i.t$)(g.parent)?new _.O({...g,label:`${g.parent.label.toUpperCase()}: ${g.label}`}):g],[])}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275inject(C.sK),e.\u0275\u0275inject(O.M),e.\u0275\u0275inject(N.GP),e.\u0275\u0275inject(P.e8),e.\u0275\u0275inject(d.F0),e.\u0275\u0275inject(d.gz))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();var $=a(87224),H=a(87545),W=a(2994),S=a(79193),M=a(56946),I=a(52885),T=a(90525),x=a(36895),j=a(24006),q=a(88452),J=a(48967);function le(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.levelBack.emit(g.activeTab))}),e.\u0275\u0275element(1,"i",4),e.\u0275\u0275elementStart(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.activeTab.parent.label)}}function Ie(r,w){1&r&&e.\u0275\u0275element(0,"i",7)}const Pe=function(r,w){return{active:r,"nested-tab":w}};function Ee(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",5),e.\u0275\u0275listener("click",function(){const R=e.\u0275\u0275restoreView(n).$implicit,de=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(de.onTabsChange.emit(R))}),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Ie,1,0,"i",6),e.\u0275\u0275elementEnd()}if(2&r){const n=w.$implicit,m=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(3,Pe,n.id===(null==m.activeTab?null:m.activeTab.id),m.hasChildren(n))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.label),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.hasChildren(n))}}let ge=(()=>{class r{constructor(){this.onTabsChange=new e.EventEmitter,this.levelBack=new e.EventEmitter,this.hasChildren=n=>(0,i.Of)(n.children)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["phr-leftnav"]],inputs:{tabs:"tabs",activeTab:"activeTab"},outputs:{onTabsChange:"onTabsChange",levelBack:"levelBack"},decls:3,vars:2,consts:[[3,"click",4,"ngIf"],[1,"list-group","list-group-flush","border-top-0","border-left-0","border-right-0"],["class","list-group-item cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click"],[1,"fas","fa-chevron-left","mr-2"],[1,"list-group-item","cursor-pointer",3,"ngClass","click"],["class","fas fa-chevron-right",4,"ngIf"],[1,"fas","fa-chevron-right"]],template:function(n,m){1&n&&(e.\u0275\u0275template(0,le,4,1,"button",0),e.\u0275\u0275elementStart(1,"ul",1),e.\u0275\u0275template(2,Ee,4,6,"li",2),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275property("ngIf",null==m.activeTab?null:m.activeTab.parent),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",m.tabs))},dependencies:[x.mk,x.sg,x.O5],styles:["button[_ngcontent-%COMP%]{position:relative;background:transparent;border:none;padding:1rem 2.5rem;width:100%;outline:none;font-weight:800;cursor:pointer;text-align:left;background:#e0e0e0}button[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);outline:none}.list-group-item[_ngcontent-%COMP%]{font-weight:400;padding:1rem 2.5rem;border:none}li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:2.5rem;top:53%;transform:translateY(-50%)}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% - 15px);display:inline-block}.nested-tab[_ngcontent-%COMP%]{background:#e0e0e0}.active[_ngcontent-%COMP%]{font-weight:600}"],changeDetection:0}),r})();var Ce=a(39017),ye=a(3724),Oe=a(92841),be=a(23478),G=a(69768),X=a(70635),c=a(90214),ee=a(73763),A=a(18029);function Z(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.onGoToPath.emit("hractions/statustypechange"))}),e.\u0275\u0275elementStart(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate((null==n.employee?null:n.employee.type)||"-")}}function l(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"a",13),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate((null==n.employee?null:n.employee.type)||"-")}}function K(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",8)(1,"b",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",5),e.\u0275\u0275template(5,Z,3,1,"a",10),e.\u0275\u0275template(6,l,2,1,"a",11),e.\u0275\u0275elementEnd()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,3,"LABEL.EMPLOYEE_TYPE"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.hideStatusLinks),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.hideStatusLinks)}}function oe(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.onGoToPath.emit("hractions/statustypechange"))}),e.\u0275\u0275elementStart(1,"strong"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"titlecase"),e.\u0275\u0275elementEnd()()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,null==n.employee||null==n.employee.employeeStatusCode?null:n.employee.employeeStatusCode.fullDescription)||"-")}}function me(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"a",13),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"titlecase"),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,null==n.employee||null==n.employee.employeeStatusCode?null:n.employee.employeeStatusCode.fullDescription)||"-")}}function Re(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",8)(1,"b",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",5),e.\u0275\u0275template(5,oe,4,3,"a",10),e.\u0275\u0275template(6,me,3,3,"a",11),e.\u0275\u0275elementEnd()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,3,"LABEL.EMPLOYMENT_STATUS"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.hideStatusLinks),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.hideStatusLinks)}}let ve=(()=>{class r{constructor(){this.onClose=new e.EventEmitter,this.onGoToPath=new e.EventEmitter,this.hasField=n=>n in this.employee}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["phr-employee-details-header-mobile"]],inputs:{employee:"employee",hideStatusLinks:"hideStatusLinks"},outputs:{onClose:"onClose",onGoToPath:"onGoToPath"},decls:19,vars:17,consts:[[1,"row","py-3","border","border-top-0","border-left-0","border-right-0"],[1,"col-8"],[3,"firstName","lastName","avatarUrl","showSubTitle","subTitle","useToolTip","toolTipPlacement"],[1,"col-4"],[1,"mt-2"],[1,"mt-2","mb-1"],[1,"fas","fa-times","fa-lg","pull-right","cursor-pointer",2,"right","10px","top","10px","position","absolute",3,"click"],[1,"header-row","py-3","border","border-top-0","border-left-0","border-right-0"],[1,"text-col"],["class","text-col",4,"ngIf"],["tabindex","0",3,"click",4,"ngIf"],["class","disabled-link",4,"ngIf"],["tabindex","0",3,"click"],[1,"disabled-link"]],template:function(n,m){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275element(2,"phr-user-avatar",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3)(4,"b",4),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"p",5),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"i",6),e.\u0275\u0275listener("click",function(){return m.onClose.emit()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",7)(11,"div",8)(12,"b",4),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p",5),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(17,K,7,5,"div",9),e.\u0275\u0275template(18,Re,7,5,"div",9),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("firstName",m.employee.firstName)("lastName",m.employee.lastName)("avatarUrl",m.employee.avatarUrl)("showSubTitle",!0)("subTitle",m.employee.department||"")("useToolTip",!0)("toolTipPlacement","bottom-left"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,13,"LABEL.EMPLOYEE_ID"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(null==m.employee?null:m.employee.employeeId),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(14,15,"LABEL.USERNAME"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==m.employee?null:m.employee.userId)||"-"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.hasField("type")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.hasField("employeeStatusCode")))},dependencies:[x.O5,J.k,x.rS,C.X$],styles:["[_nghost-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .text-col[_ngcontent-%COMP%]{flex-basis:33.3%;padding-right:1rem}[_nghost-%COMP%]   .text-col[_ngcontent-%COMP%]:last-child{padding-right:0}"],changeDetection:0}),r})();var f=a(68757),k=a(24096),o=a(68896),Q=a(24850),fe=a(27221),Le=a(92198),Ue=a(75778),Ne=a(17489);const D=[{title:"",default:!1,localeKey:"LABEL.STATUS",sort:f.ER.ALPHA,enumerable:!1,direction:null,property:"statusDesc"},{title:"",default:!1,localeKey:"LABEL.TYPE",sort:f.ER.ALPHA,enumerable:!1,direction:null,property:"employeeTypeDesc"},{title:"",default:!1,localeKey:"LABEL.REASON",sort:f.ER.ALPHA,enumerable:!1,direction:null,property:"reason"},{title:"",default:!1,localeKey:"FORM.TABLE_COLUMN.EFFECTIVE_DATE",sort:f.ER.DATE,enumerable:!1,direction:null,property:"effectiveDate"},{title:"",default:!0,localeKey:"LABEL.DATE_UPDATED",sort:f.ER.DATE,direction:f.Sr.ASC,enumerable:!1,property:"updatedDate"}];var z=a(65979),E=a(36962),B=a(51976),ae=(()=>{return(r=ae||(ae={})).CUR_STATUS="CURRENT.STATUS.WK",r.CUR_STATUS_DATE="CUR.STATUS.DATE.WK",r.CUR_TYPE="CURRENT.TYPE.WK",r.CUR_TYPE_DATE="CUR.TYPE.DATE.WK",r.CURRENT_STD_HOURS="W.CURRENT.STD.HOURS",r.NEW_STD_HOURS="W.NEW.STD.HOURS",r.NEW_TS_HOURS="W.NEW.TS.HOURS",ae;var r})(),he=(()=>{return(r=he||(he={})).STATUS="STATUS",r.TYPE="TYPE",r.STATUS_DATE="ST.DATE",r.REASON="REASON.CODE.STATUS",he;var r})(),De=a(68973),Be=a(79239),Fe=a(64957),Me=(()=>{return(r=Me||(Me={}))[r.PendingApproval=1]="PendingApproval",r[r.Updated=2]="Updated",Me;var r})();const Ae={[Me.PendingApproval]:"PENDING_APPROVAL",[Me.Updated]:"SUCCESS_UPDATE"};var xe=a(31609);let He=(()=>{class r{constructor(n,m,g){this.hrActionsService=n,this.translateService=m,this.toastService=g,this.formSaveString=(R,de,pe,ce,ue,se)=>this.hrActionsService.formSaveString("CHANGE_STATUS_TYPE_MESSAGE",`${R.firstName} ${R.lastName}`,de,pe,se).replace("<EMPLOYEE_CURRENT_TYPE>",ce).replace("<EMPLOYEE_NEXT_TYPE>",ue),this.showLeaveWithoutSaveWarning=()=>this.hrActionsService.showWarning(Be.Y,this.translateService.instant("MESSAGE.ARE_YOU_SURE"),this.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE.LEAVE_WITHOUT_SAVING"),this.translateService.instant("ALERTS.DEACTIVATE.CONFIRM")),this.showSaveWarning=(R,de,pe,ce)=>this.hrActionsService.showWarning(Fe.o,this.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE.CHANGE_STATUS"),this.formSaveString(R,R.employeeStatusCode?.fullDescription,de,R.type,pe,ce),this.translateService.instant("ACTION.YES_CHANGE")),this.showEffectiveDateWarning=R=>this.hrActionsService.showWarning(Be.Y,this.translateService.instant("TITLE.WARNING"),R,this.translateService.instant("ACTION.YES_CHANGE"))}saveResponseMessage(n,m,g){if(n in Ae){const R=this.translateService.instant(`MESSAGE.STATUS_TYPE_CHANGE.${Ae[n]}`).replace("<EMPLOYEE_NAME>",g);[Me.Updated,Me.PendingApproval].includes(n)?this.toastService.success({text:R}):this.toastService.error({text:R})}else this.toastService.error({text:m})}saveResponseErrMessage(){this.toastService.error({text:this.translateService.instant("ERROR.SERVER_ERROR")})}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275inject(xe.m),e.\u0275\u0275inject(C.sK),e.\u0275\u0275inject(M.k))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();var We=a(79855),je=a(73012);let U=(()=>{class r{constructor(n,m,g,R,de,pe,ce){this.fb=n,this.statusTypeApi=m,this.statusTypeMessages=g,this.statusTypeStore=R,this.hrActionsApi=de,this.hrActionsService=pe,this.translateService=ce,this._form=this.fb.group({statusCode:[null,j.Validators.required],typeCode:[null,j.Validators.required],effectiveDate:[null,{validators:[j.Validators.required],updateOn:"blur"}],reasonCode:[null,j.Validators.required],newStdHours:[null],autoTSHours:[null]}),this._statusTypeHistoryColumns=D.map(ue=>(ue.title=this.translateService.instant(ue.localeKey),new f.hj(ue))),this._minDate=null,this.mapReasonCodesToDropdown=ue=>[{value:null,display:this.translateService.instant("LABEL.SELECT_ONE")},...(0,Ne.sortBy)(ue.map(se=>({value:se.id,display:se.reason})),se=>se.display.toLowerCase())],this.mapStatusesToDropdown=ue=>[{value:null,display:this.translateService.instant("LABEL.SELECT_ONE")},...(0,Ne.sortBy)(ue.map(se=>({value:se.id,display:se.statusDesc})),se=>se.display.toLowerCase())],this.mapTypesToDropdown=ue=>[{value:null,display:this.translateService.instant("LABEL.SELECT_ONE"),autoEnrollBenefits:null,autoTermBenefits:null},...(0,Ne.sortBy)(ue.map(se=>({...se,value:se.id,display:se.typeDesc})),se=>se.display.toLowerCase())],this.getDisplayValue=(ue,se)=>ue.find(Ge=>Ge.value===se)?.display??null,this.showSaveWarning=ue=>{const se=this.getDisplayValue(this.statusTypeStore.employmentStatusesValue,this.newEmploymentStatus.value),Ge=this.getDisplayValue(this.statusTypeStore.employmentTypesValue,this.newEmploymentType.value);return this.statusTypeMessages.showSaveWarning(ue,se,Ge,this.statusTypeDate.value)},this.showLeaveWithoutSaveWarning=()=>this.statusTypeMessages.showLeaveWithoutSaveWarning(),this.isFieldHidden$=ue=>this.statusTypeStore.fieldPermissions$.pipe((0,Q.U)(se=>(0,B.Ij)(se,ue,B.i1.HIDDEN))),this.isFieldDisabled$=ue=>this.statusTypeStore.fieldPermissions$.pipe((0,Q.U)(se=>(0,B.Ij)(se,ue,B.i1.READONLY)))}get historyColumns(){return this._statusTypeHistoryColumns}set minDate(n){this._minDate=n}get minDate(){return this._minDate}set employee(n){this._employee=n}get employee(){return this._employee}set form(n){this._form=n}get form(){return this._form}get newEmploymentStatus(){return this._form.controls.statusCode}get newEmploymentType(){return this._form.controls.typeCode}get statusTypeDate(){return this._form.controls.effectiveDate}get reason(){return this._form.controls.reasonCode}get newStdHours(){return this._form.controls.newStdHours}get newAutoHours(){return this._form.controls.autoTSHours}fetchStatuses(n){this.statusTypeStore.loading={statuses:!0},this.hrActionsApi.getStatuses(n).subscribe(m=>{this.statusTypeStore.employmentStatuses=this.mapStatusesToDropdown(m),this.statusTypeStore.loading={statuses:!1}},()=>this.statusTypeStore.loading={statuses:!1})}fetchTypes(n){this.statusTypeStore.loading={types:!0},this.hrActionsApi.getTypes(n).subscribe(m=>{this.statusTypeStore.employmentTypes=this.mapTypesToDropdown(m),this.statusTypeStore.loading={types:!1}},()=>this.statusTypeStore.loading={types:!1})}fetchReasonCodes(){this.statusTypeStore.loading={codes:!0},this.hrActionsApi.getReasonCodes(E.G.StatusType).subscribe(n=>{this.statusTypeStore.reasonCodes=this.mapReasonCodesToDropdown(n),this.statusTypeStore.loading={codes:!1}},()=>this.statusTypeStore.loading={codes:!1})}fetchFieldPermissions(){this.statusTypeStore.loading={permissions:!0},this.hrActionsApi.getFieldPermissions(p.Z.STATUS_CHANGE).pipe((0,W.b)(n=>this.statusTypeStore.fieldPermissions=n),(0,W.b)(n=>this.checkIfAbleToEdit(n))).subscribe(()=>this.statusTypeStore.loading={permissions:!1},()=>this.statusTypeStore.loading={permissions:!1})}checkIfAbleToEdit(n){this.statusTypeStore.validationState=(0,B.Q4)(n,he,B.i1.FULL)?this.statusTypeStore.initValidationState:{validationMessage:this.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE.NO_PERMISSION"),allowChanges:!1}}fetchHistoryWithLoader(n,m){this.statusTypeStore.loading={history:!0},this.fetchHistory(n,m).subscribe(()=>this.statusTypeStore.loading={history:!1},()=>this.statusTypeStore.loading={history:!1})}fetchHistory(n,m){return this.statusTypeApi.getHistory(n,m).pipe((0,W.b)(g=>{this.statusTypeStore.initialHistoryRecords=g,this.setHistoryData(g)}))}setHistoryData(n){this.statusTypeStore.pendingChange=this.hrActionsService.calcPendingHistoryChange(n)}saveStatusType(n,m,g){return this.statusTypeApi.saveStatusType(n,m,this.form.value).pipe((0,fe.K)(()=>(this.statusTypeMessages.saveResponseErrMessage(),o.E)),(0,H.w)(({code:R,message:de})=>this.fetchHistory(n,m).pipe((0,W.b)(()=>this.form.reset()),(0,W.b)(()=>this._previousDate=null),(0,W.b)(()=>this.statusTypeMessages.saveResponseMessage(R,de,g)))))}setValidationMessage(n){if(this.statusTypeStore.validationState=this.statusTypeStore.initValidationState,n.isOnboarding)return void(this.statusTypeStore.validationState={validationMessage:this.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE.IS_ONBOARDING"),allowChanges:!1});const m=this.hrActionsService.cobraCheck(n.cobraEnrolleeStatus);(0,f.HH)(m)&&(this.statusTypeStore.validationState={validationMessage:m,allowChanges:!1})}typeValueChange(){return this.newEmploymentType.valueChanges.subscribe(n=>{const{autoTermBenefits:m,autoEnrollBenefits:g}=this.statusTypeStore.employmentTypesValue?.find(R=>R.value===n)??{};this.statusTypeStore.benefitMsg={term:(0,f.t$)(m)?this.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE."+("Y"===m?"TERM_BENEFIT_TRUE":"TERM_BENEFIT_FALSE")):null,enroll:(0,f.t$)(g)?this.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE."+("Y"===g?"ENROLL_BENEFIT_TRUE":"ENROLL_BENEFIT_FALSE")):null}})}effectiveDateUIValidator(){return this.statusTypeDate.valueChanges.pipe((0,Le.h)(f.t$),(0,Ue.x)()).subscribe(n=>{(0,z.c3)(this._previousDate,n)||(0,z.cL)(new Date(n),new Date(this._minDate))||(this._effectiveDateWarningMsg=this.effectiveDateValidator(n,this.statusTypeStore.initialHistoryRecordsValue),(0,f.HH)(this._effectiveDateWarningMsg)?this.showEffectiveDateWarning(n):this._previousDate=n)})}effectiveDateValidator(n,m){const g=new Date(n),R=(0,z.b7)(new Date),de=m?.map(ce=>new Date(ce.effectiveDate))?.sort((ce,ue)=>(0,z.xh)(ce,ue)?-1:1),pe=(0,z.N8)(g,de);return(0,z.J_)(pe)?this.translateService.instant("VALIDATION.SAME_DATE").replace("<EFFECTIVE_DATE>",(0,z.kZ)(pe)):(0,z.jc)(g,R)>=60||(0,z.jc)(R,g)>=60?this.translateService.instant("MESSAGE.POSITION_CHANGE_EFFECTIVE_DATE"):null}showEffectiveDateWarning(n){this.statusTypeMessages.showEffectiveDateWarning(this._effectiveDateWarningMsg).then(m=>{m?this._previousDate=n:this.statusTypeDate.patchValue(this._previousDate)})}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275inject(j.FormBuilder),e.\u0275\u0275inject(De.Z),e.\u0275\u0275inject(He),e.\u0275\u0275inject(We.$),e.\u0275\u0275inject(je.A),e.\u0275\u0275inject(xe.m),e.\u0275\u0275inject(C.sK))},r.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac}),r})();var ie=a(47262),b=a(8606),te=a(34928),_e=a(56703);const Se=[[["","header-content",""]],[["","body-content",""]]],Ye=function(r,w){return{collapsed:r,opened:w}},Ke=["[header-content]","[body-content]"];let ke=(()=>{class r{constructor(){this.isCollapsed=!0}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["phr-collapse"]],inputs:{title:"title"},ngContentSelectors:Ke,decls:9,vars:7,consts:[[1,"collapse-item",3,"ngClass"],[1,"collapse-item__header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-chevron-right","text-primary","collapse-icon",3,"click"],["aria-controls","collapseExample",1,"collapse-trigger",3,"click"],[1,"collapse-item__header--content"],[1,"collapse-item__body","container-fluid","mt-3",3,"ngbCollapse"]],template:function(n,m){1&n&&(e.\u0275\u0275projectionDef(Se),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"i",2),e.\u0275\u0275listener("click",function(){return m.isCollapsed=!m.isCollapsed}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",3),e.\u0275\u0275listener("click",function(){return m.isCollapsed=!m.isCollapsed}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275projection(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275projection(8,1),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(4,Ye,m.isCollapsed,!m.isCollapsed)),e.\u0275\u0275advance(3),e.\u0275\u0275attribute("aria-expanded",!m.isCollapsed),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",m.title," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngbCollapse",m.isCollapsed))},dependencies:[x.mk,I._D],styles:["[_nghost-%COMP%]   .collapse-item[_ngcontent-%COMP%]{border-top:1px solid #a6b1c2;border-bottom:1px solid #a6b1c2}[_nghost-%COMP%]   .collapse-item.opened[_ngcontent-%COMP%]{border-bottom:none}[_nghost-%COMP%]   .collapse-item.opened[_ngcontent-%COMP%]   .collapse-item__header[_ngcontent-%COMP%]{border-left-color:var(--primary);background:#d9eeff}[_nghost-%COMP%]   .collapse-item.opened[_ngcontent-%COMP%]   .collapse-item__header[_ngcontent-%COMP%]   i.collapse-icon[_ngcontent-%COMP%]{transform:rotate(90deg);top:35%}[_nghost-%COMP%]   .collapse-item[_ngcontent-%COMP%]   .collapse-item__header[_ngcontent-%COMP%]{padding:1em 1em 1em 3em;position:relative;border-left:3px solid transparent}[_nghost-%COMP%]   .collapse-item[_ngcontent-%COMP%]   .collapse-item__header[_ngcontent-%COMP%]   i.collapse-icon[_ngcontent-%COMP%]{position:absolute;left:1em;top:50%;transform:translateY(-50%);font-size:18px;transition:rotate 3s ease-in-out;cursor:pointer}[_nghost-%COMP%]   .collapse-item[_ngcontent-%COMP%]   .collapse-item__header[_ngcontent-%COMP%]   .collapse-trigger[_ngcontent-%COMP%]{cursor:pointer;color:#040e28;font-size:16px;font-weight:400;margin-bottom:0;max-width:100%;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .collapse-item[_ngcontent-%COMP%]   .collapse-item__header[_ngcontent-%COMP%]   .collapse-trigger[_ngcontent-%COMP%]   i.collapse-icon[_ngcontent-%COMP%]{position:absolute;left:-30px;font-size:18px;transition:rotate 3s ease-in-out}[_nghost-%COMP%]   .collapse-item[_ngcontent-%COMP%]   .collapse-item__body[_ngcontent-%COMP%]{padding-left:3em;padding-right:0;border-left:3px solid transparent}@media (max-width: 768px){[_nghost-%COMP%]   .collapse-item[_ngcontent-%COMP%]   .collapse-item__body[_ngcontent-%COMP%]{padding-left:0}}"]}),r})();function ze(r,w){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"h5"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",12)(5,"div",13)(6,"div",14)(7,"strong"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"titlecase"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"date"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",13)(17,"div",14)(18,"strong"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div"),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275pipe(25,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(26,"hr"),e.\u0275\u0275elementContainerEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"LABEL.PENDING_CHANGE")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(9,9,"LABEL.EMPLOYMENT_STATUS")," (",e.\u0275\u0275pipeBind1(10,11,"LABEL.PENDING"),")"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",n.pendingChange.statusDesc?e.\u0275\u0275pipeBind1(13,13,n.pendingChange.statusDesc)+" "+e.\u0275\u0275pipeBind1(14,15,"LABEL.AS_OF")+" "+e.\u0275\u0275pipeBind2(15,17,n.pendingChange.effectiveDate,"MM/dd/yyyy"):"-"," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(20,20,"LABEL.EMPLOYMENT_TYPE")," (",e.\u0275\u0275pipeBind1(21,22,"LABEL.PENDING"),")"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",n.pendingChange.employeeTypeDesc?n.pendingChange.employeeTypeDesc+" "+e.\u0275\u0275pipeBind1(24,24,"LABEL.AS_OF")+" "+e.\u0275\u0275pipeBind2(25,26,n.pendingChange.effectiveDate,"MM/dd/yyyy"):"-"," ")}}function Je(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"titlecase"),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,n.currentStatus))}}function Qe(r,w){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Je,3,3,"span",16),e.\u0275\u0275elementContainerEnd()),2&r){const n=e.\u0275\u0275nextContext(2),m=e.\u0275\u0275reference(42);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentStatus)("ngIfElse",m)}}function qe(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"date"),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(" "+e.\u0275\u0275pipeBind1(2,1,"LABEL.AS_OF")+" "+e.\u0275\u0275pipeBind2(3,3,n.statusDate,"MM/dd/yyyy"))}}function et(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"titlecase"),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,n.currentType))}}function tt(r,w){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,et,3,3,"span",16),e.\u0275\u0275elementContainerEnd()),2&r){const n=e.\u0275\u0275nextContext(3),m=e.\u0275\u0275reference(42);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentType)("ngIfElse",m)}}function nt(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"date"),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(" "+e.\u0275\u0275pipeBind1(2,1,"LABEL.AS_OF")+" "+e.\u0275\u0275pipeBind2(3,3,n.typeDate,"MM/dd/yyyy"))}}function h(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",13)(1,"div",14)(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275template(6,tt,2,2,"ng-container",1),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,nt,4,6,"span",1),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd()()),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"LABEL.EMPLOYMENT_TYPE")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(7,5,n.isCurTypeHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.typeDate&&!e.\u0275\u0275pipeBind1(9,7,n.isCurTypeDateHidden$))}}function Y(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",12)(1,"div",13)(2,"div",14)(3,"strong"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div"),e.\u0275\u0275template(7,Qe,2,2,"ng-container",1),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275template(9,qe,4,6,"span",1),e.\u0275\u0275pipe(10,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,h,10,9,"div",15),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"LABEL.EMPLOYMENT_STATUS")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(8,6,n.isCurStatusHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.statusDate&&!e.\u0275\u0275pipeBind1(10,8,n.isCurStatusDateHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(12,10,n.areCurTypeDataHidden$))}}function s(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",18)(2,"div",19),e.\u0275\u0275element(3,"phr-read-write-dropdown-control",20),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("showTooltip",!1)("editing",!0)("required",!n.readonly)("control",n.facade.newEmploymentStatus)("disabled",n.readonly)("label",e.\u0275\u0275pipeBind1(4,7,"LABEL.NEW_EMPLOYMENT_STATUS"))("options",n.employmentStatuses)}}function F(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",18)(2,"div",19),e.\u0275\u0275element(3,"phr-read-write-dropdown-control",20),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("showTooltip",!1)("editing",!0)("required",!n.readonly)("control",n.facade.newEmploymentType)("disabled",n.readonly)("label",e.\u0275\u0275pipeBind1(4,7,"LABEL.NEW_EMPLOYMENT_TYPE"))("options",n.employmentTypes)}}function re(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.termBenefitMsg)}}function Te(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.enrollBenefitMsg)}}function $e(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",21)(2,"div",19),e.\u0275\u0275element(3,"phr-read-write-date-control",22),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(4,6,"LABEL.STATUS_TYPE_DATE"))("control",n.facade.statusTypeDate)("disabled",n.readonly)("minDate",n.minDate)("editing",!0)("required",!n.readonly)}}function Xe(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",23)(1,"div",18)(2,"div",19),e.\u0275\u0275element(3,"phr-read-write-dropdown-control",20),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("showTooltip",!1)("editing",!0)("required",!n.readonly)("control",n.facade.reason)("disabled",n.readonly)("label",e.\u0275\u0275pipeBind1(4,7,"LABEL.REASON"))("options",n.reasonCodes)}}function Ze(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",24)(2,"div",14)(3,"strong"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,2,"LABEL.CURRENT_STANDARD_HOURS")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.autoHours||"-")}}function at(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",25),e.\u0275\u0275element(2,"phr-read-write-control",26),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("mask",n.numberMask)("showTooltip",!1)("label",e.\u0275\u0275pipeBind1(3,6,"LABEL.NEW_STANDARD_HOURS"))("disabled",n.readonly||e.\u0275\u0275pipeBind1(4,8,n.isNewStdHoursDisabled$))("control",n.facade.newStdHours)("editing",!0)}}function we(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",17)(1,"div",25),e.\u0275\u0275element(2,"phr-read-write-control",26),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("mask",n.numberMask)("showTooltip",!1)("label",e.\u0275\u0275pipeBind1(3,6,"LABEL.NEW_DEFAULT_TS_HOURS"))("disabled",n.readonly||e.\u0275\u0275pipeBind1(4,8,n.isNewTSHoursDisabled$))("control",n.facade.newAutoHours)("editing",!0)}}function Ve(r,w){1&r&&e.\u0275\u0275text(0," - ")}let ot=(()=>{class r{constructor(n){this.facade=n,this.numberMask=[/\d/,/\d/,/\./,/\d/,/\d/],this.isCurStatusHidden$=this.facade.isFieldHidden$(ae.CUR_STATUS),this.isCurStatusDateHidden$=this.facade.isFieldHidden$(ae.CUR_STATUS_DATE),this.areCurStatusDataHidden$=(0,u.aj)([this.isCurStatusHidden$,this.isCurStatusDateHidden$]).pipe((0,Q.U)(([m,g])=>m&&g)),this.isCurTypeHidden$=this.facade.isFieldHidden$(ae.CUR_TYPE),this.isCurTypeDateHidden$=this.facade.isFieldHidden$(ae.CUR_TYPE_DATE),this.areCurTypeDataHidden$=(0,u.aj)([this.isCurTypeHidden$,this.isCurTypeDateHidden$]).pipe((0,Q.U)(([m,g])=>m&&g)),this.isCurStdHoursHidden$=this.facade.isFieldHidden$(ae.CURRENT_STD_HOURS),this.isNewStdHoursHidden$=this.facade.isFieldHidden$(ae.NEW_STD_HOURS),this.isNewTSHoursHidden$=this.facade.isFieldHidden$(ae.NEW_TS_HOURS),this.isStatusHidden$=this.facade.isFieldHidden$(he.STATUS),this.isTypeHidden$=this.facade.isFieldHidden$(he.TYPE),this.isStatusDateHidden$=this.facade.isFieldHidden$(he.STATUS_DATE),this.isReasonCodeHidden$=this.facade.isFieldHidden$(he.REASON),this.isNewStdHoursDisabled$=this.facade.isFieldDisabled$(ae.NEW_STD_HOURS),this.isNewTSHoursDisabled$=this.facade.isFieldDisabled$(ae.NEW_TS_HOURS)}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(U))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["phr-status-type-change-detail"]],inputs:{readonly:"readonly",autoHours:"autoHours",currentStatus:"currentStatus",currentType:"currentType",statusDate:"statusDate",typeDate:"typeDate",termBenefitMsg:"termBenefitMsg",enrollBenefitMsg:"enrollBenefitMsg",minDate:"minDate",employmentStatuses:"employmentStatuses",employmentTypes:"employmentTypes",reasonCodes:"reasonCodes",pendingChange:"pendingChange"},decls:43,vars:48,consts:[[1,"mt-4"],[4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"mt-4","mb-3"],[3,"formGroup"],["class","row",4,"ngIf"],["class","row mb-3",4,"ngIf"],[3,"title"],["body-content",""],[3,"iconType","alertType","title"],[1,"mb-3"],["emptyStr",""],[1,"row","mt-3"],[1,"col-md-3","col-6"],[1,"mb-2"],["class","col-md-3 col-6",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-md-4"],[1,"input-control"],[3,"showTooltip","editing","required","control","disabled","label","options"],[1,"col-md-4","col-7"],[3,"label","control","disabled","minDate","editing","required"],[1,"row","mb-3"],[1,"col-md-5"],[1,"col-md-3","col-7","hours-input"],[3,"mask","showTooltip","label","disabled","control","editing"]],template:function(n,m){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,ze,27,29,"ng-container",1),e.\u0275\u0275elementStart(2,"h5"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Y,13,12,"div",2),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275element(7,"hr"),e.\u0275\u0275elementStart(8,"h5",3),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"form",4),e.\u0275\u0275template(12,s,5,9,"div",5),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275template(14,F,5,9,"div",5),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275template(16,re,2,1,"p",1),e.\u0275\u0275template(17,Te,2,1,"p",1),e.\u0275\u0275template(18,$e,5,8,"div",5),e.\u0275\u0275pipe(19,"async"),e.\u0275\u0275template(20,Xe,5,9,"div",6),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementStart(22,"phr-collapse",7),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementContainerStart(24,8),e.\u0275\u0275element(25,"phr-information-message",9),e.\u0275\u0275pipe(26,"translate"),e.\u0275\u0275elementStart(27,"div",0)(28,"h5",10),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(31,Ze,8,4,"div",5),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275element(33,"hr",0),e.\u0275\u0275elementStart(34,"h5",3),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(37,at,5,10,"div",5),e.\u0275\u0275pipe(38,"async"),e.\u0275\u0275template(39,we,5,10,"div",5),e.\u0275\u0275pipe(40,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(41,Ve,1,0,"ng-template",null,11,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.pendingChange),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,20,"LABEL.CURRENT_INFORMATION")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(6,22,m.areCurStatusDataHidden$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,24,"LABEL.PROPOSED_CHANGE")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",m.facade.form),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(13,26,m.isStatusHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(15,28,m.isTypeHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m.termBenefitMsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.enrollBenefitMsg),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(19,30,m.isStatusDateHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(21,32,m.isReasonCodeHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(23,34,"LABEL.EMPLOYEE_HOURS_UPDATE")),e.\u0275\u0275advance(3),e.\u0275\u0275property("iconType","exclamation-circle")("alertType","info")("title",e.\u0275\u0275pipeBind1(26,36,"MESSAGE.STATUS_TYPE_CHANGE.HOURS_MSG")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(30,38,"LABEL.CURRENT_INFORMATION")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(32,40,m.isCurStdHoursHidden$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(36,42,"LABEL.PROPOSED_CHANGE")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(38,44,m.isNewStdHoursHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(40,46,m.isNewTSHoursHidden$)))},dependencies:[x.O5,j.\u0275NgNoValidate,j.NgControlStatusGroup,j.FormGroupDirective,b.s,te.i,_e.w,ke,ie.B,x.Ov,x.rS,x.uU,C.X$],styles:["phr-status-type-change-detail h5{font-size:1rem}@media (max-width: 768px){phr-status-type-change-detail .hours-input .input-group{width:80%}}\n"],encapsulation:2,changeDetection:0}),r})();var it=a(10526),rt=a(79583);function st(r,w){if(1&r&&e.\u0275\u0275element(0,"phr-information-message",6),2&r){const n=w.ngIf;e.\u0275\u0275property("iconType","exclamation-triangle")("alertType","warning")("title",n)}}function lt(r,w){if(1&r&&e.\u0275\u0275element(0,"phr-information-message",6),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("iconType","exclamation-triangle")("alertType","warning")("title",n.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE.IS_ONBOARDING"))}}function pt(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",14)(1,"div",15),e.\u0275\u0275element(2,"phr-status-type-change-detail",16),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd()()),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("readonly",n.readonly)("minDate",n.statusChangeFacade.minDate)("autoHours",null==n.employee?null:n.employee.autoHours)("currentType",null==n.employee?null:n.employee.type)("statusDate",n.statusDate)("typeDate",n.typeDate)("currentStatus",null==n.employee||null==n.employee.employeeStatusCode?null:n.employee.employeeStatusCode.fullDescription)("pendingChange",e.\u0275\u0275pipeBind1(3,13,n.statusTypeStore.pendingChange$))("employmentStatuses",e.\u0275\u0275pipeBind1(4,15,n.statusTypeStore.employmentStatuses$))("employmentTypes",e.\u0275\u0275pipeBind1(5,17,n.statusTypeStore.employmentTypes$))("reasonCodes",e.\u0275\u0275pipeBind1(6,19,n.statusTypeStore.reasonCodes$))("termBenefitMsg",e.\u0275\u0275pipeBind1(7,21,n.statusTypeStore.termBenefitMsg$))("enrollBenefitMsg",e.\u0275\u0275pipeBind1(8,23,n.statusTypeStore.enrollBenefitMsg$))}}function dt(r,w){if(1&r&&(e.\u0275\u0275element(0,"phr-hr-actions-history",17),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("initialRecords",e.\u0275\u0275pipeBind1(1,3,n.statusTypeStore.initialHistoryRecords$))("loading",e.\u0275\u0275pipeBind1(2,5,n.statusTypeStore.loading$))("columns",n.statusChangeFacade.historyColumns)}}function ct(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"ul",8,9),e.\u0275\u0275listener("activeIdChange",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(R.activeId=g)}),e.\u0275\u0275elementStart(3,"li",10)(4,"a",11),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"uppercase"),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,pt,9,25,"ng-template",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"li",10)(10,"a",11),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"uppercase"),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,dt,3,7,"ng-template",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(15,"div",13),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275reference(2),m=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("activeId",m.activeId)("animation",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbNavItem",m.tabIds.detail),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,7,e.\u0275\u0275pipeBind1(7,9,"LABEL.DETAIL"))),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngbNavItem",m.tabIds.history),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,11,e.\u0275\u0275pipeBind1(13,13,"LABEL.HISTORY"))),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngbNavOutlet",n)}}function mt(r,w){1&r&&e.\u0275\u0275element(0,"phr-block-loader",18)}let ht=(()=>{class r{constructor(n,m,g){this.statusChangeFacade=n,this.statusTypeStore=m,this.translateService=g,this.readonly=!1,this.onSave=new e.EventEmitter,this.onCancel=new e.EventEmitter,this.tabIds={detail:"detail",history:"history"},this.activeId=this.tabIds.detail,this._subscriptions$=new k.w}get statusDate(){return(0,z.HM)(new Date(this.employee?.statusDate))}get typeDate(){return(0,z.HM)(new Date(this.employee?.typeDate))}ngOnInit(){this.statusChangeFacade.fetchReasonCodes(),this.statusChangeFacade.fetchFieldPermissions(),this._subscriptions$.add(this.statusChangeFacade.typeValueChange()).add(this.statusChangeFacade.effectiveDateUIValidator())}ngOnChanges(n){(0,f.t$)(n.employee?.currentValue)&&n.employee.firstChange&&(this.statusChangeFacade.fetchStatuses(this.employee.employeeStatusCode?.statusClass),this.statusChangeFacade.setValidationMessage(this.employee),this.employee?.lastHireDate&&(this.statusChangeFacade.minDate=new Date(this.employee?.lastHireDate))),(0,f.t$)(n.clientId?.currentValue)&&this.statusChangeFacade.fetchTypes(this.clientId),(0,f.t$)(n.employee?.currentValue)&&(0,f.t$)(n.clientId?.currentValue)&&this.statusChangeFacade.fetchHistoryWithLoader(this.clientId,this.employee.employeeId)}ngOnDestroy(){this._subscriptions$.unsubscribe()}cancel(){this.statusChangeFacade.form.dirty?this.statusChangeFacade.showLeaveWithoutSaveWarning().then(n=>{n&&this.onCancel.emit()}):this.onCancel.emit()}save(){var n=this;return(0,t.Z)(function*(){if(yield n.statusChangeFacade.showSaveWarning(n.employee)){const{employeeId:g,firstName:R,lastName:de}=n.employee;n.statusChangeFacade.saveStatusType(n.clientId,g,`${R} ${de}`).subscribe()}})()}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(U),e.\u0275\u0275directiveInject(We.$),e.\u0275\u0275directiveInject(C.sK))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["phr-status-type-change"]],inputs:{clientId:"clientId",employee:"employee",readonly:"readonly",isProxyUser:"isProxyUser"},outputs:{onSave:"onSave",onCancel:"onCancel"},features:[e.\u0275\u0275ProvidersFeature([U,He]),e.\u0275\u0275NgOnChangesFeature],decls:15,vars:14,consts:[[1,"contact-info","py-2","hyphenate"],[1,"col-12","pl-0","mb-3","mt-3"],[3,"iconType","alertType","title",4,"ngIf"],["class","col-12 mb-4 px-0 mt-3",4,"ngIf","ngIfElse"],[3,"disabled","save","cancel"],["loader",""],[3,"iconType","alertType","title"],[1,"col-12","mb-4","px-0","mt-3"],["ngbNav","",1,"nav-pills","prismhr-nav-pills-underline",3,"activeId","animation","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"row"],[1,"col-12"],[3,"readonly","minDate","autoHours","currentType","statusDate","typeDate","currentStatus","pendingChange","employmentStatuses","employmentTypes","reasonCodes","termBenefitMsg","enrollBenefitMsg"],[3,"initialRecords","loading","columns"],["id","loader",1,"col-12"]],template:function(n,m){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,st,1,3,"phr-information-message",2),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,lt,1,3,"phr-information-message",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,ct,16,15,"div",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275element(10,"hr"),e.\u0275\u0275elementStart(11,"phr-hr-actions-footer-buttons",4),e.\u0275\u0275listener("save",function(){return m.save()})("cancel",function(){return m.cancel()}),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,mt,1,0,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&n){const g=e.\u0275\u0275reference(14);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,6,"TITLE.STATUS_TYPE_CHANGE")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,8,!m.employee.isOnboarding&&m.statusTypeStore.validationMessage$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m.employee.isOnboarding),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(9,10,m.statusTypeStore.loading$))("ngIfElse",g),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",m.employee.isOnboarding||m.statusChangeFacade.form.invalid||!e.\u0275\u0275pipeBind1(12,12,m.statusTypeStore.allowChangeStatusType$)||m.isProxyUser)}},dependencies:[I.uN,I.Pz,I.nv,I.Vx,I.tO,x.O5,q.E,ie.B,ot,it.u,rt.D,x.Ov,x.gd,C.X$],styles:["[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}"]}),r})();var _t=a(30567),ut=a(14811),gt=a(66402),vt=a(14595);function yt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-pto-details",2),e.\u0275\u0275listener("ptoRequestRedirect",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.onRequestPtoRedirect())}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("showViewPtoDetails",n.showViewPtoDetails)("employeeId",n.employeeId)("clientId",n.clientId)("canManagerRequestCancelPTO",n.canManagerRequestCancelPTO)("isTemplatePTOReadOnly",n.isTemplatePTOReadOnly)("showResendRequest",n.showResendRequest)("pageTitle",n.pageTitle)}}function ft(r,w){1&r&&e.\u0275\u0275element(0,"phr-block-loader",9)}function Et(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-pto-request-form",10),e.\u0275\u0275listener("save",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.onRequestPto(g))})("cancel",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.onCancelPtoRequest())}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("saving",n.saving)("ptoRequests",n.ptoRequests)("ptoTypes",n.ptoTypes)}}function Ct(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"div")(4,"h4",6),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,ft,1,0,"phr-block-loader",7),e.\u0275\u0275template(8,Et,1,3,"phr-pto-request-form",8),e.\u0275\u0275elementEnd()()()),2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"LABEL.REQUEST_TIME_OFF")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading)}}let St=(()=>{class r{constructor(n,m,g){this.ptoService=n,this.toastService=m,this.translateService=g,this.showViewPtoDetails=!1,this.showResendRequest=!1,this.loading=!1,this.canManagerRequestCancelPTO=!0,this.isTemplatePTOReadOnly=!1,this.saving=!1,this.isPtoRequestForm=!1}onRequestPtoRedirect(){this.isPtoRequestForm=!0,this.loadPtoData()}loadPtoData(){this.loading=!0,(0,_t.D)([this.ptoService.getEmployeePtoRequests(this.employeeId,this.clientId),this.ptoService.getEmployeePtoTypes(this.employeeId,this.clientId)]).pipe((0,$.P)(),(0,W.b)(([n,m])=>{this.ptoRequests=n,this.ptoTypes=m})).subscribe(()=>this.loading=!1,()=>this.loading=!1)}onCancelPtoRequest(){this.isPtoRequestForm=!1}onRequestPto(n){this.saving=!0,this.ptoService.submitPtoRequest(this.clientId,this.employeeId,n).subscribe(()=>{this.toastService.success({text:this.translateService.instant("MESSAGE.PTO_SAVE_SUCCESS")}),this.saving=!1,this.isPtoRequestForm=!1},()=>{this.saving=!1,this.toastService.error({text:this.translateService.instant("ERROR.SERVER_ERROR")})})}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(ut.M),e.\u0275\u0275directiveInject(M.k),e.\u0275\u0275directiveInject(C.sK))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["phr-employee-pto-wrapper"]],inputs:{showViewPtoDetails:"showViewPtoDetails",employeeId:"employeeId",clientId:"clientId",showResendRequest:"showResendRequest",loading:"loading",pageTitle:"pageTitle",canManagerRequestCancelPTO:"canManagerRequestCancelPTO",isTemplatePTOReadOnly:"isTemplatePTOReadOnly"},decls:2,vars:2,consts:[[3,"showViewPtoDetails","employeeId","clientId","canManagerRequestCancelPTO","isTemplatePTOReadOnly","showResendRequest","pageTitle","ptoRequestRedirect",4,"ngIf"],["class","container-fluid",4,"ngIf"],[3,"showViewPtoDetails","employeeId","clientId","canManagerRequestCancelPTO","isTemplatePTOReadOnly","showResendRequest","pageTitle","ptoRequestRedirect"],[1,"container-fluid"],[1,"row","justify-content-center","mb-3"],[1,"col-md-10","col-12"],[1,"pt-3","mb-3"],["id","loader",4,"ngIf"],[3,"saving","ptoRequests","ptoTypes","save","cancel",4,"ngIf"],["id","loader"],[3,"saving","ptoRequests","ptoTypes","save","cancel"]],template:function(n,m){1&n&&(e.\u0275\u0275template(0,yt,1,7,"phr-pto-details",0),e.\u0275\u0275template(1,Ct,9,5,"div",1)),2&n&&(e.\u0275\u0275property("ngIf",!m.isPtoRequestForm),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",m.isPtoRequestForm))},dependencies:[x.O5,q.E,gt._,vt.H,C.X$]}),r})();function Tt(r,w){if(1&r&&(e.\u0275\u0275elementStart(0,"option",30),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const n=w.$implicit;e.\u0275\u0275property("ngValue",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.label," ")}}function It(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",26)(1,"div",27)(2,"select",28),e.\u0275\u0275listener("ngModelChange",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.tabs.changeMobileTab(g))}),e.\u0275\u0275template(3,Tt,2,2,"option",29),e.\u0275\u0275elementEnd()()()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.tabs.activeTab.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.tabs.mobileTabsView)}}function Pt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",31)(1,"phr-leftnav",32),e.\u0275\u0275listener("levelBack",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.tabs.goLevelBack(g))})("onTabsChange",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.tabs.handleTabsChange(g))}),e.\u0275\u0275elementEnd()()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("tabs",n.tabs.tabsView)("activeTab",n.tabs.activeTab)}}function xt(r,w){if(1&r&&e.\u0275\u0275element(0,"phr-details-emergencycontacts",33),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("employee",n.employee)}}function Ot(r,w){if(1&r&&e.\u0275\u0275element(0,"phr-details-address",33),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("employee",n.employee)}}function At(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-details-contactinfo",34),e.\u0275\u0275listener("onEmployeeUpdate",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.handleEmployeeUpdate(g))}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isProxyUser",n.isProxyUser)("employee",n.employee)("saving",n.saving)}}function Rt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-details-personalinfo",34),e.\u0275\u0275listener("onEmployeeUpdate",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.handleEmployeeUpdate(g))}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isProxyUser",n.isProxyUser)("employee",n.employee)("saving",n.saving)}}function bt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-details-employmentsummary",35),e.\u0275\u0275listener("positionRedirect",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.tabs.goToPath(g))})("payRateRedirect",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.tabs.goToPath(g))})("onEmployeeUpdate",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.handleEmployeeUpdate(g))}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isProxyUser",n.isProxyUser)("employee",n.employee)("clientId",n.clientId)("saving",n.saving)("benefitGroupOptions",n.benefitGroupOptions)("reportsToOptions",n.reportsToOptions)("departmentOptions",n.departmentOptions)("divisionOptions",n.divisionOptions)("locationOptions",n.locationOptions)("shiftOptions",n.shiftOptions)("workGroupOptions",n.workGroupOptions)("projectOptions",n.projectOptions)("hiddenPosition",n.isPositionChangeHidden)("hiddenPayRate",n.isPayRateChangeHidden)}}function Dt(r,w){if(1&r&&(e.\u0275\u0275element(0,"phr-employee-pto-wrapper",36),e.\u0275\u0275pipe(1,"translate")),2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("pageTitle",e.\u0275\u0275pipeBind1(1,7,"LABEL.PAID_TIME_OFF")),e.\u0275\u0275property("showViewPtoDetails",!1)("employeeId",n.employeeId)("clientId",n.clientId)("canManagerRequestCancelPTO",null==n.configService||null==n.configService.config?null:n.configService.config.canManagerRequestCancelPTO)("isTemplatePTOReadOnly",null==n.configService||null==n.configService.config?null:n.configService.config.ptoReadOnly)("showResendRequest",!1)}}function Mt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-reset-password",37),e.\u0275\u0275listener("onReset",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(R.onResetPass(g))})("onCancel",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.activeModal.close())}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isProxyUser",n.isProxyUser)("email",n.email)("cellPhone",n.cellPhone)("userId",n.employee.userId)("oktaEnabled",n.oktaEnabled)("buttonSpinner",n.buttonSpinner)}}function wt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-position-change",38),e.\u0275\u0275listener("onCancel",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.activeModal.close())})("onSave",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.onEmployeeReload())}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isProxyUser",n.isProxyUser)("clientId",n.clientId)("employee",n.employee)("readonly",n.isPositionChangeReadonly)}}function Lt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-payrate-change",38),e.\u0275\u0275listener("onCancel",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.activeModal.close())})("onSave",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.onEmployeeReload())}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isProxyUser",n.isProxyUser)("clientId",n.clientId)("employee",n.employee)("readonly",n.isPayRateChangeReadonly)}}function Nt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-status-type-change",38),e.\u0275\u0275listener("onCancel",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.activeModal.close())})("onSave",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(g.onEmployeeReload())}),e.\u0275\u0275elementEnd()}if(2&r){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("isProxyUser",n.isProxyUser)("clientId",n.clientId)("employee",n.employee)("readonly",n.isStatusTypeChangeReadonly)}}function Bt(r,w){if(1&r){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4)(2,"div",5)(3,"div",6),e.\u0275\u0275element(4,"phr-user-avatar",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",8)(6,"phr-employee-details-header",9),e.\u0275\u0275listener("onGoToPath",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(R.tabs.goToPath(g))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"i",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.activeModal.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",11)(9,"phr-employee-details-header-mobile",12),e.\u0275\u0275listener("onClose",function(){e.\u0275\u0275restoreView(n);const g=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(g.activeModal.close())})("onGoToPath",function(g){e.\u0275\u0275restoreView(n);const R=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(R.tabs.goToPath(g))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",13)(11,"div",14),e.\u0275\u0275template(12,It,4,2,"div",15),e.\u0275\u0275template(13,Pt,2,2,"div",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"div",17)(15,"div",18)(16,"div",19),e.\u0275\u0275template(17,xt,1,1,"phr-details-emergencycontacts",20),e.\u0275\u0275template(18,Ot,1,1,"phr-details-address",20),e.\u0275\u0275template(19,At,1,3,"phr-details-contactinfo",21),e.\u0275\u0275template(20,Rt,1,3,"phr-details-personalinfo",21),e.\u0275\u0275template(21,bt,1,14,"phr-details-employmentsummary",22),e.\u0275\u0275template(22,Dt,2,9,"phr-employee-pto-wrapper",23),e.\u0275\u0275template(23,Mt,1,6,"phr-reset-password",24),e.\u0275\u0275template(24,wt,1,4,"phr-position-change",25),e.\u0275\u0275template(25,Lt,1,4,"phr-payrate-change",25),e.\u0275\u0275template(26,Nt,1,4,"phr-status-type-change",25),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&r){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("firstName",n.employee.firstName)("lastName",n.employee.lastName)("avatarUrl",n.employee.avatarUrl)("showSubTitle",!0)("subTitle",n.employee.department||"")("useToolTip",!0)("toolTipPlacement","bottom-left"),e.\u0275\u0275advance(2),e.\u0275\u0275property("hideStatusLinks",n.isStatusTypeChangeHidden)("employee",n.employee)("canResetPassword",n.allowResetPassword),e.\u0275\u0275advance(3),e.\u0275\u0275property("hideStatusLinks",n.isStatusTypeChangeHidden)("employee",n.employee),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.hasTabs()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.hasTabs()),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.isActiveSection("emergencycontacts")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("address")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("contactinfo")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("personalinfo")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("employmentsummary")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("pto")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("resetpassword")&&n.allowResetPassword),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("positionchange")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("payratechange")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isActiveSection("statustypechange"))}}function Ft(r,w){1&r&&e.\u0275\u0275element(0,"phr-block-loader",39)}let Ht=(()=>{class r{constructor(n,m,g,R,de,pe,ce,ue,se,Ge,Ut,$t){this.authService=n,this.employeeService=m,this.employeeDropdownService=g,this.employeesService=R,this.toastService=de,this.translateService=pe,this.configService=ce,this.tabs=ue,this.activeModal=se,this.domainService=Ge,this.oktaService=Ut,this.userStateService=$t,this.loaded=!0,this.codesLoading=!1,this.onEmployeeUpdated=new e.EventEmitter,this.departmentOptions=[],this.locationOptions=[],this.divisionOptions=[],this.shiftOptions=[],this.benefitGroupOptions=[],this.workGroupOptions=[],this.projectOptions=[],this.reportsToOptions=[],this.saving=!1,this.permissions=[],this.accessibleTabs=[],this.allowResetPassword=!1,this.buttonSpinner=!1,this.isActiveSection=Vt=>!(!this.hasTabs()||!this.tabs.activeTab)&&this.tabs.activeTab.id===Vt,this.hasTabs=()=>(0,i.Of)(this.tabs.tabsView),this.anyMail=()=>this.employee.workEmail||this.employee.personalEmail}get email(){return(0,i.t$)(this.employee.primaryEmail)?"P"===this.employee.primaryEmail?this.employee.personalEmail:this.employee.workEmail:this.anyMail()}get cellPhone(){return(0,i.HH)(this.employee.cellPhone)&&10===this.employee.cellPhone.length?this.employee.cellPhone.replace(/(\d{3})\D?(\d{3})\D?(\d{4})/,"$1-$2-$3"):this.employee.cellPhone}get isPositionChangeReadonly(){return this.permissions.some(n=>"positionchange"===n.id&&n.permission===y.READONLY)}get isPayRateChangeReadonly(){return this.permissions.some(n=>"payratechange"===n.id&&n.permission===y.READONLY)}get isStatusTypeChangeReadonly(){return this.permissions.some(n=>"statustypechange"===n.id&&n.permission===y.READONLY)}get isPositionChangeHidden(){return this.permissions.some(n=>"positionchange"===n.id&&n.permission===y.HIDDEN)}get isPayRateChangeHidden(){return this.permissions.some(n=>"payratechange"===n.id&&n.permission===y.HIDDEN)}get isStatusTypeChangeHidden(){return this.permissions.some(n=>"statustypechange"===n.id&&n.permission===y.HIDDEN)}ngOnInit(){this.userStateService.session$.pipe((0,$.P)()).subscribe(n=>{this.isProxyUser=!!n?.proxyInfo}),this.loaded=!1,this.oktaEnabled=!this.domainService.isOktaUniversalLoginDisabled(),this.loadEmployee(),this.loadCodes()}handleEmployeeUpdate(n){var m=this;return(0,t.Z)(function*(){try{m.saving=!0,yield m.employeesService.updateEmployee(n.employeeId,n).toPromise(),m.employee=yield m.employeesService.getEmployee(n.employeeId).toPromise(),m.showSuccessToast("MESSAGE.EMPLOYEE_UPDATE.SUCCESS"),m.onEmployeeUpdated.emit(m.employee)}catch({error:g,status:R}){console.error("Errors while handling employee update",g),m.showErrorToast(400===R?`MESSAGE.EMPLOYEE_UPDATE.${g.substring(1,g.length-1)}`:"MESSAGE.EMPLOYEE_UPDATE.SERVER_ERROR")}m.saving=!1})()}onResetPass(n){this.buttonSpinner=!0,this.oktaEnabled?this.onResetPassOkta(this.employeeId):this.employeeService.resetPassword(this.clientId,{..."sms"===n?{phone:this.employee.cellPhone}:{email:this.email},method:n,userId:this.employee.userId}).subscribe(()=>this.showSuccessToast("MESSAGE.MANAGER_RESET_PASS.SENT"),g=>{200===g.status?this.showSuccessToast("MESSAGE.MANAGER_RESET_PASS.SENT"):this.showErrorToast("MESSAGE.MANAGER_RESET_PASS.ERROR")}).add(()=>{this.buttonSpinner=!1})}onResetPassOkta(n){this.oktaService.resetPassword(n).subscribe(m=>{this.showSuccessToast("MESSAGE.MANAGER_RESET_PASS.OKTA_EMAIL_SUCCESS")},m=>{this.showErrorToast("MESSAGE.MANAGER_RESET_PASS.OKTA_EMAIL_FAILURE")}).add(()=>{this.buttonSpinner=!1})}onEmployeeReload(){this.loadEmployeeData().subscribe()}showSuccessToast(n){this.toastService.success({text:this.translateService.instant(n)})}showErrorToast(n){this.toastService.error({text:this.translateService.instant(n)})}loadEmployee(){this.loadEmployeeData().pipe((0,H.w)(()=>(0,u.aj)([this.authService.getPermissions(),this.employeeDropdownService.getWorkGroups()])),(0,W.b)(([n,m])=>{this.permissions=n,this.workGroupOptions=m,this.accessibleTabs=n.filter(g=>g.permission!==y.HIDDEN).map(g=>g.id)})).subscribe(()=>{this.allowResetPassword=this.employee.passwordResetAllowed,this.initTabsIfLoaded(),this.setRecentEmployees()},()=>this.initTabsIfLoaded())}loadEmployeeData(){return this.employeesService.getEmployee(this.employeeId,!1).pipe((0,W.b)(n=>this.employee=n))}initTabsIfLoaded(){this.tabs.initTabs(this.employee,this.accessibleTabs,this.allowResetPassword),this.loaded=!0}setRecentEmployees(){let n=[];const m=this.employeesService.recentEmployeeLsKey;if("T"!==this?.employee?.employeeStatusCode?.statusClass){if(localStorage.getItem(m)&&(n=JSON.parse(localStorage.getItem(m))),n.some(g=>g.employeeId===this.employee.employeeId)){const g=n.find(R=>R.employeeId===this.employee.employeeId);g.view=new Date,g.firstName=this.employee.firstName,g.lastName=this.employee.lastName,g.workEmail=this.employee.workEmail,g.workPhone=this.employee.workPhone}else n.push({firstName:this.employee.firstName,lastName:this.employee.lastName,workEmail:this.employee.workEmail,workPhone:this.employee.workPhone,employeeId:this.employee.employeeId,view:new Date});localStorage.setItem(m,JSON.stringify(n))}}loadCodes(){this.codesLoading=!0,(0,u.aj)([this.employeeDropdownService.getDepartments(this.clientId),this.employeeDropdownService.getLocations(this.clientId),this.employeeDropdownService.getDivisions(this.clientId),this.employeeDropdownService.getShifts(this.clientId),this.employeeDropdownService.getBenefitGroups(),this.employeeDropdownService.getProjects(),this.employeeDropdownService.getReportsToManagers()]).subscribe(([n,m,g,R,de,pe,ce])=>{this.departmentOptions=n,this.locationOptions=m,this.divisionOptions=g,this.shiftOptions=R,this.benefitGroupOptions=de,this.projectOptions=pe,this.reportsToOptions=ce,this.codesLoading=!1},()=>this.codesLoading=!1)}}return r.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(P.e8),e.\u0275\u0275directiveInject(N.GP),e.\u0275\u0275directiveInject(S.I),e.\u0275\u0275directiveInject(O.M),e.\u0275\u0275directiveInject(M.k),e.\u0275\u0275directiveInject(C.sK),e.\u0275\u0275directiveInject(P.oV),e.\u0275\u0275directiveInject(L),e.\u0275\u0275directiveInject(I.Kz),e.\u0275\u0275directiveInject(P.NF),e.\u0275\u0275directiveInject(P._S),e.\u0275\u0275directiveInject(T.P))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["phr-employee-details-modal"]],inputs:{clientId:"clientId",employeeId:"employeeId"},features:[e.\u0275\u0275ProvidersFeature([L])],decls:7,vars:5,consts:[[1,"container-fluid"],[1,"row","border-bottom",2,"text-align","center","display","block","padding","20px 0","font-weight","bold","font-size","1.2rem"],[4,"ngIf","ngIfElse"],["loader",""],[1,"row","border","border-left-0","border-top-0","border-right-0-0","d-none","d-md-flex"],[1,"col-12","col-md-3","p-0"],[1,"avatar-content-wrapper"],[3,"firstName","lastName","avatarUrl","showSubTitle","subTitle","useToolTip","toolTipPlacement"],[1,"col-12","col-md-9"],[3,"hideStatusLinks","employee","canResetPassword","onGoToPath"],[1,"d-none","d-md-block","fas","fa-times","fa-lg","pull-right","cursor-pointer",2,"right","10px","top","10px","position","absolute",3,"click"],[1,"d-md-none"],[3,"hideStatusLinks","employee","onClose","onGoToPath"],[1,"row"],[1,"col-12","col-md-3","p-0","border","border-top-0","border-left-0","border-bottom-0"],["class","d-md-none d-flex flex-row align-items-center py-3",4,"ngIf"],["class","d-none d-md-block scroll-content","style","margin-bottom: 0px; min-height: 500px",4,"ngIf"],[1,"col-12","col-md-9","px-1"],[1,"row","px-4","h-100"],[1,"col","scroll-content","pl-2"],[3,"employee",4,"ngIf"],[3,"isProxyUser","employee","saving","onEmployeeUpdate",4,"ngIf"],[3,"isProxyUser","employee","clientId","saving","benefitGroupOptions","reportsToOptions","departmentOptions","divisionOptions","locationOptions","shiftOptions","workGroupOptions","projectOptions","hiddenPosition","hiddenPayRate","positionRedirect","payRateRedirect","onEmployeeUpdate",4,"ngIf"],[3,"showViewPtoDetails","employeeId","clientId","canManagerRequestCancelPTO","isTemplatePTOReadOnly","showResendRequest","pageTitle",4,"ngIf"],[3,"isProxyUser","email","cellPhone","userId","oktaEnabled","buttonSpinner","onReset","onCancel",4,"ngIf"],[3,"isProxyUser","clientId","employee","readonly","onCancel","onSave",4,"ngIf"],[1,"d-md-none","d-flex","flex-row","align-items-center","py-3"],[1,"input-group","select-group"],["id","sectionPicker",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"d-none","d-md-block","scroll-content",2,"margin-bottom","0px","min-height","500px"],[3,"tabs","activeTab","levelBack","onTabsChange"],[3,"employee"],[3,"isProxyUser","employee","saving","onEmployeeUpdate"],[3,"isProxyUser","employee","clientId","saving","benefitGroupOptions","reportsToOptions","departmentOptions","divisionOptions","locationOptions","shiftOptions","workGroupOptions","projectOptions","hiddenPosition","hiddenPayRate","positionRedirect","payRateRedirect","onEmployeeUpdate"],[3,"showViewPtoDetails","employeeId","clientId","canManagerRequestCancelPTO","isTemplatePTOReadOnly","showResendRequest","pageTitle"],[3,"isProxyUser","email","cellPhone","userId","oktaEnabled","buttonSpinner","onReset","onCancel"],[3,"isProxyUser","clientId","employee","readonly","onCancel","onSave"],["id","loader",1,"col-12"]],template:function(n,m){if(1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Bt,27,24,"ng-container",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Ft,1,0,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)),2&n){const g=e.\u0275\u0275reference(6);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,3,"LABEL.EMPLOYEE_DETAIL")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m.employee&&!m.codesLoading&&m.loaded)("ngIfElse",g)}},dependencies:[x.sg,x.O5,j.NgSelectOption,j.\u0275NgSelectMultipleOption,j.SelectControlValueAccessor,j.NgControlStatus,j.NgModel,q.E,J.k,ge,Ce.h,ye.w,Oe.K,be.b,G.Z,X.D,c.L,ee.X,A.E,ve,ht,St,C.X$],styles:['.modal-open .modal.employee-details.full{display:flex!important;justify-content:center;align-items:center}.modal-open .modal.employee-details.full .modal-content{overflow-x:hidden}.modal-open .modal.employee-details.full .modal-dialog{width:1350px;max-height:100vh}@media (min-width: 769px){.modal-open .modal.employee-details.full .modal-dialog{max-width:80%!important}}@media (max-width: 768px){phr-employee-details-modal .modal-header{margin-right:-15px}phr-employee-details-modal .header-avatar-block{border-bottom:1px solid #e9ecef;padding-bottom:10px}}@media (min-width: 769px){phr-employee-details-modal .header-details-block{border-left:1px solid #e9ecef}}phr-employee-details-modal a,phr-employee-details-modal a:focus{outline:none}phr-employee-details-modal a.disabled-link,phr-employee-details-modal a:focus.disabled-link{pointer-events:none}phr-employee-details-modal .avatar-content-wrapper{height:100%;padding:1.5rem 2rem;font-weight:600;display:flex;align-items:center}phr-employee-details-modal .avatar-content-wrapper:after{content:"";position:absolute;right:0;height:60%;width:1px;background:#e9ecef;top:50%;transform:translateY(-50%)}phr-employee-details-modal .avatar-content-wrapper b{font-size:1.1rem}phr-employee-details-modal .list-group-item{padding:1rem 2rem}phr-employee-details-modal select::-ms-expand{display:none}phr-employee-details-modal .select-group{width:auto;padding:0 1.25rem}phr-employee-details-modal .select-group:after{content:"";position:absolute;border:solid #008aad;border-width:0 2px 2px 0;right:12px;top:50%;padding:3px;transform:rotate(45deg) translate(-50%,-50%);z-index:10}phr-employee-details-modal .scroll-content{height:100vh;max-height:600px;overflow-y:auto}\n'],encapsulation:2}),r})()},69768:(ne,V,a)=>{"use strict";a.d(V,{Z:()=>ve});var t=a(15861),e=a(94650),y=a(99981),u=a(24006),i=a(15439),_=a.n(i),v=a(68757),p=a(42466),C=a(51818),O=a(79193),N=a(36895),P=a(88452),d=a(8606),L=a(34928),$=a(428);function H(f,k){if(1&f){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const fe=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(fe.toggleEditMode())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}2&f&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ACTION.EDIT")))}function W(f,k){1&f&&e.\u0275\u0275element(0,"phr-block-loader",9)}function S(f,k){if(1&f){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const fe=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(fe.positionRedirect.emit("hractions/positionchange"))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(2&f){const o=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.employee.job)}}function M(f,k){if(1&f&&e.\u0275\u0275text(0),2&f){const o=e.\u0275\u0275nextContext(4);e.\u0275\u0275textInterpolate(o.employee.job||"-")}}function I(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13)(1,"div")(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",16),e.\u0275\u0275template(6,S,2,1,"a",17),e.\u0275\u0275template(7,M,1,1,"ng-template",null,18,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()),2&f){const o=e.\u0275\u0275reference(8),Q=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",Q.isEditing),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"LABEL.POSITION")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!Q.hiddenPosition&&!Q.readonlyPosition)("ngIfElse",o)}}function T(f,k){if(1&f){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"a",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const fe=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(fe.payRateRedirect.emit("hractions/payratechange"))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"currency"),e.\u0275\u0275elementEnd()}if(2&f){const o=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind3(2,2,o.getPay(),"USD",!0)," ",o.getPayRateFrequencyTranslation()," ")}}function x(f,k){if(1&f&&(e.\u0275\u0275text(0),e.\u0275\u0275pipe(1,"currency")),2&f){const o=e.\u0275\u0275nextContext(4);e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind3(1,2,o.getPay(),"USD",!0)," ",o.getPayRateFrequencyTranslation(),"")}}function j(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13)(1,"div")(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",16),e.\u0275\u0275template(6,T,3,6,"a",17),e.\u0275\u0275template(7,x,2,6,"ng-template",null,20,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()),2&f){const o=e.\u0275\u0275reference(8),Q=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",Q.isEditing),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"LABEL.PAY_RATE")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!Q.hiddenPayRate&&!Q.payRatePosition)("ngIfElse",o)}}function q(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13)(1,"div")(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",16)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()()()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,5,"LABEL.ANNUAL_SALARY")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2("",o.annualPay||"-"," ",e.\u0275\u0275pipeBind1(8,7,"LABEL.PER_YEAR"),"")}}function J(f,k){1&f&&(e.\u0275\u0275elementStart(0,"strong"),e.\u0275\u0275text(1,"* "),e.\u0275\u0275elementEnd())}function le(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",(null==o.reportsToVal?null:o.reportsToVal.name)||"-"," ")}}const Ie=function(){return["name"]};function Pe(f,k){if(1&f&&(e.\u0275\u0275element(0,"phr-type-ahead-dropdown",23),e.\u0275\u0275pipe(1,"translate")),2&f){const o=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("formControl",null==o.employmentSummaryForm||null==o.employmentSummaryForm.controls?null:o.employmentSummaryForm.controls.reportsTo)("tableColumns",o.reportsToTableProps)("displayProp",e.\u0275\u0275pureFunction0(10,Ie))("readOnlyProp","name")("value",o.reportsToVal)("data",o.reportsToOptions)("disabled",o.saving)("tableTitle",e.\u0275\u0275pipeBind1(1,8,"LABEL.REPORTS_TO"))}}function Ee(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13)(1,"div"),e.\u0275\u0275template(2,J,2,0,"strong",5),e.\u0275\u0275elementStart(3,"strong"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,le,2,1,"div",21),e.\u0275\u0275template(7,Pe,2,11,"phr-type-ahead-dropdown",22),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.getPermission("reportsTo").required&&o.isEditing),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,6,"LABEL.REPORTS_TO")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!o.isEditing||!o.isEditingField("reportsTo")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isEditing&&o.isEditingField("reportsTo"))}}function ge(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-date-control",24),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",e.\u0275\u0275pipeBind2(2,10,o.getDate(o.employee.lastHireDate),"MM/dd/yyyy")||"-"),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(3,13,"LABEL.DATE_OF_HIRE")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.lastHireDate)("required",o.getPermission("lastHireDate").required)("disabled",o.saving)("minDate",o.minDate)("maxDate",o.maxDate)("editing",o.isEditingField("lastHireDate"))}}function Ce(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-date-control",25),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",e.\u0275\u0275pipeBind2(2,7,o.getDate(o.employee.originalHireDate),"MM/dd/yyyy")||"-"),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(3,10,"LABEL.ORIGINAL_HIRE_DATE")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.lastHireDate)("disabled",!0)("editing",!1)}}function ye(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-date-control",26),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",e.\u0275\u0275pipeBind2(2,10,o.getDate(o.employee.lastReviewDate),"MM/dd/yyyy")||"-"),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(3,13,"LABEL.LAST_REVIEW_DATE")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.lastReviewDate)("disabled",o.saving)("minDate",o.minDate)("maxDate",o.maxDate)("required",o.getPermission("lastReviewDate").required)("editing",o.isEditingField("lastReviewDate"))}}function Oe(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-date-control",27),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("value",e.\u0275\u0275pipeBind2(2,10,o.getDate(o.employee.nextReviewDate),"MM/dd/yyyy")||"-"),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(3,13,"LABEL.NEXT_REVIEW_DATE")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.nextReviewDate)("required",o.getPermission("nextReviewDate").required)("minDate",o.minDate)("maxDate",o.maxDate)("disabled",o.saving)("editing",o.isEditingField("nextReviewDate"))}}function be(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-dropdown-control",28),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,9,"LABEL.LOCATION")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.locationCode)("value",o.employee.location)("options",o.locationOptions)("disabled",o.saving)("required",o.getPermission("locationCode").required)("editing",o.isEditingField("locationCode")&&o.locationOptions.length>1)}}function G(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-dropdown-control",28),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,9,"LABEL.DEPARTMENT")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.departmentCode)("value",o.employee.department)("options",o.departmentOptions)("disabled",o.saving)("required",o.getPermission("departmentCode").required)("editing",o.isEditingField("departmentCode")&&o.departmentOptions.length>1)}}function X(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-dropdown-control",28),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,9,"LABEL.DIVISION")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.divisionCode)("value",o.employee.division)("options",o.divisionOptions)("disabled",o.saving)("required",o.getPermission("divisionCode").required)("editing",o.isEditingField("divisionCode")&&o.divisionOptions.length>1)}}function c(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div",13),e.\u0275\u0275element(1,"phr-read-write-dropdown-control",28),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(2,9,"LABEL.SHIFT")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.shiftCode)("value",o.employee.shift)("options",o.shiftOptions)("disabled",o.saving)("required",o.getPermission("shiftCode").required)("editing",o.isEditingField("shiftCode")&&o.shiftOptions.length>1)}}function ee(f,k){if(1&f&&(e.\u0275\u0275element(0,"phr-read-write-dropdown-control",28),e.\u0275\u0275pipe(1,"translate")),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(1,7,"LABEL.PROJECT")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.project)("value",o.projectVal)("options",o.projectOptions)("disabled",o.saving)("required",o.getPermission("project").required)("editing",o.isEditingField("project")&&o.projectOptions.length>1)}}function A(f,k){if(1&f&&(e.\u0275\u0275element(0,"phr-read-write-dropdown-control",28),e.\u0275\u0275pipe(1,"translate")),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(1,7,"LABEL.WORK_GROUP")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.workGroupCode)("value",o.workGroupVal)("options",o.workGroupOptions)("disabled",o.saving)("required",o.getPermission("workGroupCode").required)("editing",o.isEditingField("workGroupCode")&&o.workGroupOptions.length>1)}}function Z(f,k){if(1&f&&(e.\u0275\u0275element(0,"phr-read-write-dropdown-control",28),e.\u0275\u0275pipe(1,"translate")),2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275propertyInterpolate("label",e.\u0275\u0275pipeBind1(1,7,"LABEL.BENEFIT_GROUP")),e.\u0275\u0275property("control",o.employmentSummaryForm&&o.employmentSummaryForm.controls&&o.employmentSummaryForm.controls.benefitGroup)("value",o.benefitGroupVal)("options",o.benefitGroupOptions)("disabled",o.saving)("required",o.getPermission("benefitGroup").required)("editing",o.isEditingField("benefitGroup")&&o.benefitGroupOptions.length>1)}}function l(f,k){1&f&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&f&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ACTION.SAVE")))}function K(f,k){1&f&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",33),e.\u0275\u0275elementEnd())}function oe(f,k){if(1&f){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29)(1,"div",30)(2,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const fe=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(fe.save())}),e.\u0275\u0275template(3,l,3,3,"span",5),e.\u0275\u0275template(4,K,2,0,"span",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const fe=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(fe.toggleEditMode())}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()()}if(2&f){const o=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!o.employmentSummaryForm.valid||o.saving||o.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.saving),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,4,"ACTION.CANCEL")," ")}}function me(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"form",10)(1,"div",11),e.\u0275\u0275template(2,I,9,7,"div",12),e.\u0275\u0275template(3,j,9,7,"div",12),e.\u0275\u0275template(4,q,9,9,"div",12),e.\u0275\u0275template(5,Ee,8,8,"div",12),e.\u0275\u0275template(6,ge,4,15,"div",12),e.\u0275\u0275template(7,Ce,4,12,"div",12),e.\u0275\u0275template(8,ye,4,15,"div",12),e.\u0275\u0275template(9,Oe,4,15,"div",12),e.\u0275\u0275element(10,"hr"),e.\u0275\u0275template(11,be,3,11,"div",12),e.\u0275\u0275template(12,G,3,11,"div",12),e.\u0275\u0275template(13,X,3,11,"div",12),e.\u0275\u0275template(14,c,3,11,"div",12),e.\u0275\u0275elementStart(15,"div",13),e.\u0275\u0275template(16,ee,2,9,"phr-read-write-dropdown-control",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",13),e.\u0275\u0275template(18,A,2,9,"phr-read-write-dropdown-control",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",13),e.\u0275\u0275template(20,Z,2,9,"phr-read-write-dropdown-control",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,oe,8,6,"div",15),e.\u0275\u0275elementEnd()()),2&f){const o=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("formGroup",o.employmentSummaryForm),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("pb-5",!o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("jobCode",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPay()&&o.hasPermission("payPeriod",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("annualPay",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("reportsTo",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("lastHireDate",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("originalHireDate",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasField("lastReviewDate")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("nextReviewDate",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.hasPermission("locationCode",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("departmentCode",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("divisionCode",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("shiftCode",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("project",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.hasPermission("workGroupCode",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("editing",o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.hasPermission("benefitGroup",o.PERMISSION_ACTIONS.READ)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.isEditing)}}function Re(f,k){if(1&f&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,W,1,0,"phr-block-loader",7),e.\u0275\u0275template(2,me,22,23,"form",8),e.\u0275\u0275elementEnd()),2&f){const o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.loading&&o.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!o.loading||!o.isEditing)}}let ve=(()=>{class f{constructor(o,Q,fe,Le){this.translateService=o,this.employeesService=Q,this.employeeDropdownService=fe,this.fb=Le,this.saving=!1,this.hiddenPosition=!1,this.hiddenPayRate=!1,this.departmentOptions=[],this.locationOptions=[],this.divisionOptions=[],this.shiftOptions=[],this.benefitGroupOptions=[],this.workGroupOptions=[],this.projectOptions=[],this.reportsToOptions=[],this.onEmployeeUpdate=new e.EventEmitter,this.positionRedirect=new e.EventEmitter,this.payRateRedirect=new e.EventEmitter,this.isEditing=!1,this.loading=!1,this.maxDate=_()().add(10,"years").format("MM/DD/YYYY"),this.minDate=_()().subtract(117,"years").format("MM/DD/YYYY"),this.employmentSummaryForm=this.fb.group({}),this.PERMISSION_ACTIONS=y.pg,this.reportsToTableProps=[new v.hj({property:"employeeId",title:this.translateService.instant("LABEL.EMPLOYEE_ID"),visible:!0,enumerable:!1}),new v.hj({property:"firstName",title:this.translateService.instant("LABEL.FIRST_NAME"),sort:v.ER.ALPHA,direction:v.Sr.DESC,default:!0,visible:!0,enumerable:!1}),new v.hj({property:"lastName",title:this.translateService.instant("LABEL.LAST_NAME"),visible:!0,enumerable:!1}),new v.hj({property:"job",title:this.translateService.instant("LABEL.POSITION"),visible:!0,enumerable:!1}),new v.hj({property:"status",title:this.translateService.instant("LABEL.STATUS"),visible:!0,enumerable:!1}),new v.hj({property:"type",title:this.translateService.instant("LABEL.TYPE_FOR_EMPLOYEE"),visible:!0,enumerable:!1})]}get benefitGroupVal(){return(0,v.t$)(this.employee)?this.employeeDropdownService.getValFromDropdown(this.benefitGroupOptions,this.employee.benefitGroup):null}get projectVal(){return(0,v.t$)(this.employee)?this.employeeDropdownService.getValFromDropdown(this.projectOptions,this.employee.project):null}get reportsToVal(){return(0,v.t$)(this.employee)?this.reportsToOptions.find(o=>o.employeeId===this.employee.reportsTo):null}get workGroupVal(){return(0,v.t$)(this.employee)?this.employeeDropdownService.getValFromDropdown(this.workGroupOptions,this.employee.workGroupCode):null}get annualPay(){return`$${this.employee.annualPay?.toString()?.replace(/\B(?=(\d{3})+(?!\d))/g,",")}`??0}get readonlyPosition(){return this.employeesService.permissions.find(Q=>"jobCode"===Q.property)?.visibility===y.UN.READONLY}get payRatePosition(){return this.employeesService.permissions.find(Q=>"payPeriod"===Q.property)?.visibility===y.UN.READONLY}ngOnChanges(o){o.saving&&!1===o.saving.currentValue&&(this.isEditing=!1)}toggleEditMode(){this.isEditing=!this.isEditing}getDate(o){return o&&o.replace(/Z$/,"")}canEdit(){return(0,y.Fs)(this.employeesService.permissions,y.jL,y.pg.WRITE)}hasPermission(o,Q=y.pg.WRITE){return(0,y.Fs)(this.employeesService.permissions,[o],Q)}ngOnInit(){this.initForm()}isEditingField(o){return this.isEditing&&this.hasPermission(o,y.pg.WRITE)&&!this.loading}initForm(){y.jL.forEach(o=>{if(this.hasPermission(o,y.pg.WRITE)){const Q=new RegExp("date","i").test(o)?_()(new Date(this.employee[o])).add(1,"day"):this.employee[o],fe=!!this.employeesService.permissions.find(Le=>Le.property===o).required;this.employmentSummaryForm.addControl(o,new u.FormControl(Q,{validators:fe?u.Validators.required:null}))}}),this.employmentSummaryForm.controls.reportsTo.patchValue(this.reportsToVal)}getPermission(o){return this.employeesService.getPermission(o)}save(){var o=this;return(0,t.Z)(function*(){if(o.employmentSummaryForm.valid){const Q={...o.employmentSummaryForm.value,lastReviewDate:o.employmentSummaryForm.value.lastReviewDate,nextReviewDate:o.employmentSummaryForm.value.nextReviewDate,lastHireDate:o.employmentSummaryForm.value.lastHireDate,employeeId:o.employee.employeeId,reportsTo:o.employmentSummaryForm.get("reportsTo")?.value?.employeeId??null};o.onEmployeeUpdate.emit(Q)}})()}getPayRateFrequencyTranslation(){let o;if("S"!==this.employee.method)return this.translateService.instant("LABEL.PAY_TYPES.HOURLY");switch(this.employee.payPeriod){case"S":o="SEMI_MONTHLY";break;case"M":o="MONTHLY";break;case"B":o="BI_WEEKLY";break;default:o="WEEK"}return this.translateService.instant("LABEL.PAY_TYPES."+o)}hasField(o){return o in this.employee}hasPay(){return"method"in this.employee&&"pay"in this.employee&&"payPeriod"in this.employee&&"hourlyRate"in this.employee&&Object.keys(this.employee.pay).length>=4}getPay(){if("S"!==this.employee.method)return Number(this.employee.hourlyRate);if(this.employee.method){let o;switch(this.employee.payPeriod){case"S":o=this.employee.pay.semiMonthlyRate;break;case"M":o=this.employee.pay.monthlyRate;break;case"B":o=this.employee.pay.biWeeklyRate;break;default:o=this.employee.pay.weeklyRate}return Number(o)}}}return f.\u0275fac=function(o){return new(o||f)(e.\u0275\u0275directiveInject(p.sK),e.\u0275\u0275directiveInject(C.M),e.\u0275\u0275directiveInject(O.I),e.\u0275\u0275directiveInject(u.FormBuilder))},f.\u0275cmp=e.\u0275\u0275defineComponent({type:f,selectors:[["phr-details-employmentsummary"]],inputs:{employee:"employee",saving:"saving",hiddenPosition:"hiddenPosition",hiddenPayRate:"hiddenPayRate",clientId:"clientId",departmentOptions:"departmentOptions",locationOptions:"locationOptions",divisionOptions:"divisionOptions",shiftOptions:"shiftOptions",benefitGroupOptions:"benefitGroupOptions",workGroupOptions:"workGroupOptions",projectOptions:"projectOptions",reportsToOptions:"reportsToOptions",isProxyUser:"isProxyUser"},outputs:{onEmployeeUpdate:"onEmployeeUpdate",positionRedirect:"positionRedirect",payRateRedirect:"payRateRedirect"},features:[e.\u0275\u0275NgOnChangesFeature],decls:9,vars:5,consts:[[1,"py-3","hyphenate"],[1,"pl-0"],[1,"d-flex","align-content-center"],[1,"mb-1"],["class","btn btn-link pl-3 text-primary cursor-pointer",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","pl-3","text-primary","cursor-pointer",3,"click"],["class","col-12","id","loader",4,"ngIf"],[3,"formGroup",4,"ngIf"],["id","loader",1,"col-12"],[3,"formGroup"],[1,"row","px-0","col-md-7"],["class","py-2 col-6",3,"editing",4,"ngIf"],[1,"py-2","col-6"],[3,"control","value","label","options","disabled","required","editing",4,"ngIf"],["class","col-12 py-2",4,"ngIf"],[1,"readonly-label"],["tabindex","0","class","font-weight-bold",3,"click",4,"ngIf","ngIfElse"],["position",""],["tabindex","0",1,"font-weight-bold",3,"click"],["payRate",""],["class","readonly-label",4,"ngIf"],[3,"formControl","tableColumns","displayProp","readOnlyProp","value","data","disabled","tableTitle",4,"ngIf"],[3,"formControl","tableColumns","displayProp","readOnlyProp","value","data","disabled","tableTitle"],[3,"control","value","label","required","disabled","minDate","maxDate","editing"],[3,"control","value","label","disabled","editing"],[3,"control","value","label","disabled","minDate","maxDate","required","editing"],[3,"control","value","label","required","minDate","maxDate","disabled","editing"],[3,"control","value","label","options","disabled","required","editing"],[1,"col-12","py-2"],[1,""],[1,"btn","btn-primary","mr-3",3,"disabled","click"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(o,Q){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3)(4,"strong"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,H,3,3,"a",4),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(8,Re,3,2,"div",5),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"TITLE.EMPLOYMENT_SUMMARY")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",Q.canEdit()&&!Q.isEditing),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",Q.employmentSummaryForm&&Q.employmentSummaryForm.controls))},dependencies:[N.O5,u.\u0275NgNoValidate,u.NgControlStatus,u.NgControlStatusGroup,P.E,u.FormControlDirective,u.FormGroupDirective,d.s,L.i,$.H,N.H9,N.uU,p.X$],styles:["phr-details-employmentsummary hr{margin-left:1rem;width:100%}phr-details-employmentsummary .editing .readonly-label{margin-top:.75rem}\n"],encapsulation:2}),f})()},79583:(ne,V,a)=>{"use strict";a.d(V,{D:()=>y});var t=a(94650),e=a(42466);let y=(()=>{class u{constructor(){this.save=new t.EventEmitter,this.cancel=new t.EventEmitter}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275cmp=t.\u0275\u0275defineComponent({type:u,selectors:[["phr-hr-actions-footer-buttons"]],inputs:{disabled:"disabled"},outputs:{save:"save",cancel:"cancel"},decls:9,vars:7,consts:[[1,"col-12","pr-2"],[1,"row","pl-0","button-wrapper"],["type","submit",1,"btn","btn-primary","mr-3",3,"disabled","click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(_,v){1&_&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"button",2),t.\u0275\u0275listener("click",function(){return v.save.emit()}),t.\u0275\u0275elementStart(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"button",3),t.\u0275\u0275listener("click",function(){return v.cancel.emit()}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()()),2&_&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",v.disabled),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,3,"ACTION.SAVE")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,5,"ACTION.CANCEL")," "))},dependencies:[e.X$],encapsulation:2,changeDetection:0}),u})()},10526:(ne,V,a)=>{"use strict";a.d(V,{u:()=>C});var t=a(94650),e=a(42466),y=a(54843),u=a(36895),i=a(88452),_=a(98474);function v(O,N){if(1&O){const P=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",2)(1,"phr-table-controls-component",3),t.\u0275\u0275listener("onSearchStringChange",function(L){t.\u0275\u0275restoreView(P);const $=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView($.handleSearchStringChange(L))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"phr-table-component",4),t.\u0275\u0275listener("onSort",function(L){t.\u0275\u0275restoreView(P);const $=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView($.handleSortChange(L))}),t.\u0275\u0275elementEnd()()}if(2&O){const P=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("useColumnChooser",!1)("messages",P.tableTranslate.controlsMessages)("tableColumns",P.columns)("searchString",P.searchString),t.\u0275\u0275advance(1),t.\u0275\u0275property("data",P.initialRecords)("searchString",P.searchString)("tableColumns",P.columns)("mobileColCount",2)("itemsPerPage",10)("paginationMessages",P.tableTranslate.paginationMessages)}}function p(O,N){1&O&&t.\u0275\u0275element(0,"phr-block-loader")}let C=(()=>{class O{constructor(P,d){this.translateService=P,this.tableTranslate=d,this.searchString="",this.handleSortChange=L=>this.columns.map($=>($.direction=$.property===L.property?L.direction:null,$)),this.handleSearchStringChange=L=>this.searchString=L}get paginationMessages(){return this.tableTranslate.paginationMessages}get controlsMessages(){return this.tableTranslate.controlsMessages}}return O.\u0275fac=function(P){return new(P||O)(t.\u0275\u0275directiveInject(e.sK),t.\u0275\u0275directiveInject(y.L))},O.\u0275cmp=t.\u0275\u0275defineComponent({type:O,selectors:[["phr-hr-actions-history"]],inputs:{initialRecords:"initialRecords",loading:"loading",columns:"columns"},decls:2,vars:2,consts:[["class","col-12 mt-3 pl-0 py-2 history-container",4,"ngIf"],[4,"ngIf"],[1,"col-12","mt-3","pl-0","py-2","history-container"],[3,"useColumnChooser","messages","tableColumns","searchString","onSearchStringChange"],[3,"data","searchString","tableColumns","mobileColCount","itemsPerPage","paginationMessages","onSort"]],template:function(P,d){1&P&&(t.\u0275\u0275template(0,v,3,10,"div",0),t.\u0275\u0275template(1,p,1,0,"phr-block-loader",1)),2&P&&(t.\u0275\u0275property("ngIf",!d.loading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",d.loading))},dependencies:[u.O5,i.E,_.RT,_.y],styles:[".history-container[_ngcontent-%COMP%]     .search-wrapper{margin-left:0!important}"],changeDetection:0}),O})()},64957:(ne,V,a)=>{"use strict";a.d(V,{o:()=>u});var t=a(94650),e=a(52885),y=a(42466);let u=(()=>{class i{constructor(v){this.activeModal=v}closeModal(v){this.activeModal.close(v)}}return i.\u0275fac=function(v){return new(v||i)(t.\u0275\u0275directiveInject(e.Kz))},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["phr-save-confirm"]],inputs:{message:"message",title:"title",okButtonText:"okButtonText"},decls:15,vars:6,consts:[[1,"container-fluid"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mr-3",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(v,p){1&v&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5",2),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",3),t.\u0275\u0275listener("click",function(){return p.closeModal(!1)}),t.\u0275\u0275elementStart(5,"span",4),t.\u0275\u0275text(6,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",5),t.\u0275\u0275element(8,"p",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",7)(10,"button",8),t.\u0275\u0275listener("click",function(){return p.closeModal(!0)}),t.\u0275\u0275text(11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"button",9),t.\u0275\u0275listener("click",function(){return p.closeModal(!1)}),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd()()()),2&v&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",p.title," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("innerHTML",p.message,t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",p.okButtonText," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,4,"ACTION.CANCEL")," "))},dependencies:[y.X$],encapsulation:2}),i})()},18029:(ne,V,a)=>{"use strict";a.d(V,{E:()=>nt});var t=a(15861),e=a(94650),y=a(24096),u=a(68757),i=a(24006),_=a(36787);const p=(h,Y)=>()=>(0,u.t$)(h)&&(parseFloat(Y.value)<parseFloat(h.minimum)||parseFloat(Y.value)>parseFloat(h.maximum))?{annualRange:"VALIDATION.ANNUAL_RANGE"}:null;var C=a(75778),O=a(92198),N=a(65979),P=a(29707),d=a(79239);const $={0:"SUCCESSFULLY_UPDATED",1:"NO_ACCESS_MANAGER",2:"SUBMITTED_FOR_APPROVAL",3:"NO_PERMISSION",4:"MIN_WAGE",5:"EFFECTIVE_DATE_CHECK"},H={0:"SUCCESS",1:"UNABLE_TO_OBTAIN_PAYROLL",2:"UNABLE_LINK_TO_GROUP",3:"DOES_NOT_ALLOW_TO_CHANGE_EFF_DATE"};var W=a(64957),S=a(42466),M=a(56946),I=a(31609);let T=(()=>{class h{constructor(s,F,re){this.translateService=s,this.toastService=F,this.hrActionsService=re,this.showHoursWarning=(Te,$e)=>this.hrActionsService.showWarning(W.o,this.translateService.instant("TITLE.WARNING"),this.translateService.instant("VALIDATION.STANDARD_HOURS").replace("<HOURS>",Te).replace("<PERIOD>",$e),this.translateService.instant("ACTION.YES_CHANGE")),this.showEffectiveDateWarning=Te=>this.hrActionsService.showWarning(d.Y,this.translateService.instant("TITLE.WARNING"),Te,this.translateService.instant("ACTION.YES_CHANGE")),this.showSaveWarning=(Te,$e,Xe,Ze)=>this.hrActionsService.showWarning(W.o,this.translateService.instant("TITLE.PAY_RATE_CHANGE"),this.formSaveString(Te,$e,Xe,Ze),this.translateService.instant("ACTION.YES_CHANGE")),this.showLeaveWithoutSaveWarning=()=>this.hrActionsService.showWarning(d.Y,this.translateService.instant("MESSAGE.ARE_YOU_SURE"),this.translateService.instant("MESSAGE.LEAVE_WITHOUT_SAVING_CHANGE_PAY_RATE"),this.translateService.instant("ALERTS.DEACTIVATE.CONFIRM")),this.showTimesheetWarning=()=>this.hrActionsService.showWarning(W.o,this.translateService.instant("TITLE.PAY_RATE_CHANGE_CONFIRM"),this.translateService.instant("MESSAGE.PAY_RATE_CHANGE_MESSAGES.DOES_NOT_ALLOW_TO_CHANGE_EFF_DATE"),this.translateService.instant("ACTION.YES_CHANGE")),this.showServerErr=()=>this.toastService.error({text:this.translateService.instant("ERROR.SERVER_ERROR")}),this.effectiveDateError=Te=>{this.toastService.error({text:this.translateService.instant(`MESSAGE.PAY_RATE_CHANGE_MESSAGES.${H[Te]}`)})}}showResponseMessages(s,F){0===s||2===s?this.toastService.success({text:this.translateService.instant(`MESSAGE.PAY_RATE_CHANGE_MESSAGES.${$[s]}`)}):[1,3,5].includes(s)?this.toastService.error({text:this.translateService.instant(`MESSAGE.PAY_RATE_CHANGE_MESSAGES.${$[s]}`)}):this.toastService.error({text:F??this.translateService.instant("ERROR.SERVER_ERROR")})}formSaveString(s,F,re,Te){return this.hrActionsService.formSaveString("CHANGE_PAY_RATE_MESSAGE",`${s.firstName} ${s.lastName}`,F,re,Te)}}return h.\u0275fac=function(s){return new(s||h)(e.\u0275\u0275inject(S.sK),e.\u0275\u0275inject(M.k),e.\u0275\u0275inject(I.m))},h.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})(),x=(()=>{class h{constructor(s,F,re){this.payRateCalcService=s,this.fb=F,this.payRateMessages=re,this.historyDates=[],this._form=this.fb.group({newPayRate:[null,{validators:i.Validators.required,updateOn:"blur"}],payRatePeriodCode:[null,i.Validators.required],newStdHours:[null,{validators:i.Validators.required,updateOn:"blur"}],stdHourPeriodCode:[null,i.Validators.required],effectiveDate:[null,{validators:i.Validators.required,updateOn:"blur"}],reasonCode:[null,i.Validators.required],newAnnualizedRate:[null],autoTSEnabled:[!1],autoTSHours:[null]})}set form(s){this._form=s}get form(){return this._form}set previousDate(s){this._previousDate=s}get previousDate(){return this._previousDate}set effectiveDateWarningMsg(s){this._effectiveDateWarningMsg=s}get effectiveDateWarningMsg(){return this._effectiveDateWarningMsg}get payRatePeriodCode(){return this._form.controls.payRatePeriodCode}get newPayRate(){return this._form.controls.newPayRate}get stdHourPeriodCode(){return this._form.controls.stdHourPeriodCode}get newStdHours(){return this._form.controls.newStdHours}get effectiveDate(){return this._form.controls.effectiveDate}get annualizedRate(){return this._form.controls.newAnnualizedRate}get autoTSEnabled(){return this._form.controls.autoTSEnabled}get autoTSHours(){return this._form.controls.autoTSHours}get newAnnualizedRate(){return this._form.controls.newAnnualizedRate}get reasonCode(){return this._form.controls.reasonCode}get annualRangeErrors(){return this._form.getError("annualRange")}calcAnnualRate(){return(0,_.T)(this.newPayRate.valueChanges,this.payRatePeriodCode.valueChanges,this.newStdHours.valueChanges,this.stdHourPeriodCode.valueChanges).subscribe(()=>{this.annualizedRate.patchValue(this.payRateCalcService.calcAnnualPay(this.newPayRate.value?.toString(),this.payRatePeriodCode.value,this.newStdHours.value?.toString(),this.stdHourPeriodCode.value)?.toFixed(2))})}annualizedRateValidator(s){this.form.setValidators([p(s,this.annualizedRate)])}stdHoursValidator(){return(0,_.T)(this.newStdHours.valueChanges.pipe((0,C.x)()),this.stdHourPeriodCode.valueChanges.pipe((0,C.x)())).subscribe(()=>{if((0,u.t$)(this.newStdHours.value)&&(0,u.t$)(this.stdHourPeriodCode.value)&&this.payRateCalcService.validateStdHours(parseFloat(this.newStdHours.value),this.stdHourPeriodCode.value)){this.stdHourPeriodCode.markAsTouched(),this.newStdHours.markAsTouched();const s=(0,u.HH)(this.stdHourPeriodCode.value)?this.payRateCalcService.getPayPeriod(this.stdHourPeriodCode.value)?.toLowerCase():"";this.payRateMessages.showHoursWarning(this.newStdHours.value,s).then(F=>{F||this.newStdHours.patchValue(null)})}})}effectiveDateUIValidator(){return this.effectiveDate.valueChanges.pipe((0,O.h)(u.t$),(0,C.x)()).subscribe(s=>{(0,N.c3)(this.previousDate,s)||(0,N.cL)(new Date(s),new Date(this.historyDates[0]))||(this.effectiveDateWarningMsg=(0,u.t$)(s)?this.payRateCalcService.effectiveDateValidator(s,this.historyDates):null,(0,u.HH)(this.effectiveDateWarningMsg)?this.showEffectiveDateWarning(s):this.previousDate=s)})}patchAutoHours(s){this.autoTSEnabled.patchValue(!0),this.autoTSHours.patchValue(s??0)}showEffectiveDateWarning(s){this.payRateMessages.showEffectiveDateWarning(this.effectiveDateWarningMsg).then(F=>{F?this.previousDate=s:this.effectiveDate.patchValue(this.previousDate)})}}return h.\u0275fac=function(s){return new(s||h)(e.\u0275\u0275inject(P.m),e.\u0275\u0275inject(i.FormBuilder),e.\u0275\u0275inject(T))},h.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})();var j=a(36053),q=a(68896),J=a(63527),le=a(36895),Pe=a(36962),Ee=a(24850),ge=a(2994),Ce=a(27221),ye=a(87545),Oe=a(17489),be=a(81554),G=a(51976),X=(()=>{return(h=X||(X={})).CUR_PAY_PERIOD="CUR.PAY.PERIOD.WK",h.CUR_ANNUAL_PAY="CURRENT.ANNUAL.PAY.WK",h.CUR_PAY_RATE="CURRENT.PAY.RATE.WK",h.LAST_REVIEW_DATE="LAST.REVIEW.DATE.WK",h.AUTO_TS="AUTO.TS",h.AUTO_TS_HOURS="AUTO.TS.HOURS",X;var h})(),c=(()=>{return(h=c||(c={})).PAY_RATE="PAY.RATE",h.PAY_PERIOD="NEW.PAY.PER",h.NEW_STD_HOURS="NEW.STD.HOURS",h.NEW_STD_HOURS_PER="NEW.STD.HOURS.PER",h.NEW_ANNUAL_PAY="NEW.ANNUAL.PAY",h.EFF_DATE="EFF.DATE",h.REASON="REASON.CODE.PAY",c;var h})(),ee=a(73012),A=a(72731),Z=a(83823);let l=(()=>{class h{constructor(s,F,re,Te,$e,Xe,Ze,at){this.hrActionsApi=s,this.payRateForm=F,this.payRateApi=re,this.payRateCalc=Te,this.payRateMessages=$e,this.payRateStore=Xe,this.hrActionsService=Ze,this.translateService=at,this.isFieldHidden$=we=>this.payRateStore.fieldPermissions$.pipe((0,Ee.U)(Ve=>(0,G.Ij)(Ve,we,G.i1.HIDDEN))),this.isFieldDisabled$=we=>this.payRateStore.fieldPermissions$.pipe((0,Ee.U)(Ve=>(0,G.Ij)(Ve,we,G.i1.READONLY))),this.showLeaveWithoutSaveWarning=()=>this.payRateMessages.showLeaveWithoutSaveWarning(),this.payPerTransform=we=>this.translatePerValue(we),this.reasonTransform=we=>this.payRateStore.reasonCodesVal.find(Ve=>Ve.value===we)?.display??"",this._historyColumns=((h,Y)=>[new u.hj({property:"effectiveDate",title:"Effective Date",localeKey:"LABEL.EFFECTIVE_DATE",direction:u.Sr.ASC,sort:u.ER.DATE,enumerable:!1,default:!0}),new u.hj({property:"payNewPayRate",title:"Pay Rate",localeKey:"LABEL.PAY_RATE",sort:u.ER.NUM,transform:s=>s&&(0,le.xG)(s,"en","$","USD","1.2-2")}),new u.hj({property:"payNewPayPer",title:"Per",localeKey:"LABEL.PER",sort:u.ER.ALPHA,transform:h}),new u.hj({property:"payAnnualPay",title:"Annual Pay",localeKey:"LABEL.ANNUAL_PAY",sort:u.ER.NUM,transform:s=>s&&(0,le.xG)(s,"en","$","USD","1.2-2")}),new u.hj({property:"payNewHours",title:"Standard Hours",localeKey:"LABEL.STANDARD_HOURS",sort:u.ER.NUM}),new u.hj({property:"payPcntChange",title:"Change Percent",localeKey:"LABEL.CHANGE_PERCENT",sort:u.ER.NUM,transform:s=>s&&`${s}%`}),new u.hj({property:"payAnnualChange",title:"Change Amount",localeKey:"LABEL.CHANGE_AMOUNT",sort:u.ER.NUM,transform:s=>s&&(0,le.xG)(s,"en","$","USD","1.2-2")}),new u.hj({property:"payReasonCode",title:"Change Reason",localeKey:"LABEL.CHANGE_REASON",sort:u.ER.ALPHA,transform:Y})])(this.payPerTransform,this.reasonTransform).map(we=>(we.title=this.translateService.instant(we.localeKey),new u.hj(we)))}get jobCode(){return this._jobCode}set jobCode(s){this._jobCode=s}set employee(s){this._employee=s}get employee(){return this._employee}set clientId(s){this._clientId=s}get clientId(){return this._clientId}get payRatePeriodOptions(){return this.payRateCalc.payRatePeriodOptions}get stdHourPeriodOptions(){return this.payRateCalc.stdHourPeriodOptions}get historyColumns(){return this._historyColumns}fetchData(){this.payRateStore.loading=!0,(0,j.aj)([this.hrActionsApi.getReasonCodes(Pe.G.PayRate),this.hrActionsApi.getJobCodes(this.clientId),this.hrActionsApi.getFieldPermissions(be.Z.PAY_CHANGE),this.fetchHistory()]).subscribe(([s,F,re])=>{this.setReasonCodes(s),this.setJobCode(F),this.checkIfAbleToEdit(re),this.payRateStore.fieldPermissions=re,this.payRateForm.annualizedRateValidator(this.jobCode.salaryGrade),this.payRateStore.loading=!1})}fetchHistory(){return this.payRateApi.getPayRateHistory(this.clientId,this.employee.employeeId).pipe((0,ge.b)(s=>{this.payRateStore.initialHistoryRecords=s,this.payRateForm.historyDates=s.map(F=>new Date(F.effectiveDate)).sort((F,re)=>(0,N.xh)(F,re)?-1:1),this.payRateStore.pendingChange=this.setPendingChange(s)}))}setPendingChange(s){const F=this.hrActionsService.calcPendingHistoryChange(s);return(0,u.t$)(F)?{payNewPayRate:(0,le.xG)(parseFloat(F.payNewPayRate),"en","$","USD","1.2-2"),effectiveDate:F.effectiveDate,payNewPayPer:this.payRateCalc.getPayPeriod(F.payNewPayPer)}:null}setReasonCodes(s){this.payRateStore.reasonCodes=[{value:null,display:this.translateService.instant("LABEL.SELECT_ONE")},...(0,Oe.sortBy)(s.map(F=>({value:F.id,display:F.reason})),F=>F.display.toLowerCase())]}setJobCode(s){this.jobCode=s.find(F=>F.jobCode===this.employee.jobCode)}checkIfAbleToEdit(s){this.payRateStore.validationState=(0,G.Q4)(s,c,G.i1.FULL)?this.payRateStore.initValidationState:{validationMessage:this.translateService.instant("MESSAGE.PAY_RATE_CHANGE_MESSAGES.NO_PERMISSION"),allowChanges:!1}}setPayRateData(){this.payRateStore.payData={payRate:this.payRateCalc.getPayRate(this.employee.method,this.employee.payPeriod,this.employee.hourlyRate,this.employee.pay),annualPay:this.payRateCalc.getPay(this.employee.annualPay),payPeriod:this.payRateCalc.getPayPeriod(this.employee.payPeriod)}}saveData(){return this.payRateStore.saving=!0,this.payRateApi.validateEffectiveDate(this.clientId,this.employee.employeeId,this.payRateForm.effectiveDate.value).pipe((0,Ce.K)(()=>(this.payRateMessages.showServerErr(),this.payRateStore.saving=!1,q.E)),(0,ye.w)(({statusCode:s})=>0===s?this.savePayRate(this.clientId):3===s?(0,J.D)(this.payRateMessages.showTimesheetWarning()).pipe((0,ye.w)(F=>F?this.savePayRate(this.clientId):(this.payRateStore.saving=!1,q.E))):(this.payRateMessages.effectiveDateError(s),q.E)))}savePayRate(s){return this.payRateApi.savePayRate(s,this.employee.employeeId,{...this.payRateForm.form.value,currentAnnualizedRate:this.employee.annualPay,lastHireDate:this.employee.lastHireDate}).pipe((0,Ce.K)(()=>(this.payRateMessages.showServerErr(),this.payRateStore.saving=!1,q.E)),(0,ge.b)(({errorCode:F,errorMessage:re})=>this.payRateMessages.showResponseMessages(F,re)),(0,ge.b)(()=>this.payRateStore.saving=!1),(0,ge.b)(()=>this.payRateForm.form.reset()),(0,ye.w)(()=>this.fetchHistory()))}showSaveWarning(){const s=this.payRateCalc.getPay(this.payRateForm.newPayRate?.value)+" "+this.translateService.instant("LABEL.PER").toLowerCase()+" "+this.payRateCalc.getPayPeriod(this.payRateForm.payRatePeriodCode?.value)?.toLowerCase();return this.payRateMessages.showSaveWarning(this.employee,this.payRateStore.payRateVal,s,this.payRateForm.effectiveDate?.value)}translatePerValue(s){let F="";switch(s){case"H":F=this.translateService.instant("LABEL.PAY_PERIOD_TYPES.HOUR");break;case"Y":case"A":F=this.translateService.instant("LABEL.PAY_PERIOD_TYPES.YEAR");break;case"M":F=this.translateService.instant("LABEL.PAY_PERIOD_TYPES.MONTH");break;case"W":F=this.translateService.instant("LABEL.PAY_PERIOD_TYPES.WEEK")}return F}}return h.\u0275fac=function(s){return new(s||h)(e.\u0275\u0275inject(ee.A),e.\u0275\u0275inject(x),e.\u0275\u0275inject(A.o),e.\u0275\u0275inject(P.m),e.\u0275\u0275inject(T),e.\u0275\u0275inject(Z.a),e.\u0275\u0275inject(I.m),e.\u0275\u0275inject(S.sK))},h.\u0275prov=e.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})();var K=a(52885),oe=a(88452),me=a(47262),Re=a(53065),ve=a(57305),f=a(8606),k=a(52586),o=a(34928),Q=a(56703),fe=a(39591);let Le=(()=>{class h{transform(s,...F){return(0,u.t$)(s)?`$${s?.toString()?.replace(/\B(?=(\d{3})+(?!\d))/g,",")}`:null}}return h.\u0275fac=function(s){return new(s||h)},h.\u0275pipe=e.\u0275\u0275definePipe({name:"currencySplit",type:h,pure:!0}),h})();function Ue(h,Y){if(1&h&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"h5"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2)(5,"div",10)(6,"div",11)(7,"strong"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"lowercase"),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275pipe(15,"lowercase"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",12)(17,"div",11)(18,"strong"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"div"),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275element(25,"hr"),e.\u0275\u0275elementContainerEnd()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"LABEL.PENDING_CHANGE")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(9,9,"LABEL.PAY_RATE")," (",e.\u0275\u0275pipeBind1(10,11,"LABEL.PENDING"),")"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null!=s.pendingChange&&s.pendingChange.payNewPayRate&&s.pendingChange.payNewPayPer?s.pendingChange.payNewPayRate+" "+e.\u0275\u0275pipeBind1(13,13,e.\u0275\u0275pipeBind1(14,15,"LABEL.PER"))+" "+e.\u0275\u0275pipeBind1(15,17,s.pendingChange.payNewPayPer):"-"," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(20,19,"LABEL.EFFECTIVE_DATE")," (",e.\u0275\u0275pipeBind1(21,21,"LABEL.PENDING"),")"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null!=s.pendingChange&&s.pendingChange.effectiveDate?e.\u0275\u0275pipeBind2(24,23,null==s.pendingChange?null:s.pendingChange.effectiveDate,"MM/dd/yyyy"):"-"," ")}}function Ne(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"LABEL.PAY_RATE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(s.payRate||"-")}}function D(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"date"),e.\u0275\u0275elementEnd()()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"LABEL.EFFECTIVE_DATE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(s.effDate?e.\u0275\u0275pipeBind2(7,4,s.effDate,"MM/dd/yyyy"):"-")}}function z(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"LABEL.PAY_PERIOD")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(s.payPeriod||"-")}}function E(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"strong"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,"LABEL.ANNUALIZED_PAY")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(s.annualPay||"-")}}function B(h,Y){1&h&&(e.\u0275\u0275elementStart(0,"strong"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&h&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("* ",e.\u0275\u0275pipeBind1(2,1,"LABEL.NEW_PAY_RATE"),""))}function ae(h,Y){1&h&&(e.\u0275\u0275elementStart(0,"span",19),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&h&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"VALIDATION.REQUIRED")))}function he(h,Y){if(1&h&&(e.\u0275\u0275element(0,"phr-usd-control",20),e.\u0275\u0275pipe(1,"async")),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("control",s.formService.newPayRate)("required",!s.readonly)("disabled",s.readonly||e.\u0275\u0275pipeBind1(1,3,s.isPayRateDisabled$))}}function De(h,Y){if(1&h&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",16),e.\u0275\u0275element(5,"phr-dropdown-control",22),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,6,"LABEL.PER")),e.\u0275\u0275advance(3),e.\u0275\u0275property("showTooltip",!1)("disabled",s.readonly||e.\u0275\u0275pipeBind1(6,8,s.isPayPeriodDisabled$))("control",s.formService.payRatePeriodCode)("customValidators",s.customValidators)("options",s.payRatePeriodOptions)}}function Be(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"p",23),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate3(" ",e.\u0275\u0275pipeBind1(2,3,"VALIDATION.HOURLY_RANGE")," [",null==s.salaryGrade?null:s.salaryGrade.minHourly," - ",null==s.salaryGrade?null:s.salaryGrade.maxHourly,"] ")}}function Fe(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",13)(2,"label")(3,"span"),e.\u0275\u0275template(4,B,3,3,"strong",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,ae,3,3,"span",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",15)(7,"div",16),e.\u0275\u0275template(8,he,2,5,"phr-usd-control",17),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,De,7,10,"ng-container",1),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Be,3,5,"p",18),e.\u0275\u0275elementEnd()()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("text-danger",s.payRateInvalid||s.payRatePeriodInvalid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s.readonly),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.payRateInvalid||s.payRatePeriodInvalid),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(9,7,s.isPayRateHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(11,9,s.isPayPeriodHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.isOutOfHourlyRange)}}function Me(h,Y){1&h&&(e.\u0275\u0275elementStart(0,"strong"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&h&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("* ",e.\u0275\u0275pipeBind1(2,1,"LABEL.NEW_STANDARD_HOURS"),""))}function Ae(h,Y){1&h&&(e.\u0275\u0275elementStart(0,"span",19),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&h&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"VALIDATION.REQUIRED")))}function xe(h,Y){if(1&h&&(e.\u0275\u0275element(0,"phr-read-write-control",25),e.\u0275\u0275pipe(1,"async")),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("mask",s.numberMask)("editing",!0)("control",s.formService.newStdHours)("disabled",s.readonly||e.\u0275\u0275pipeBind1(1,4,s.areStdHoursDisabled$))}}function He(h,Y){if(1&h&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",21),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",16),e.\u0275\u0275element(5,"phr-dropdown-control",22),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,6,"LABEL.PER")),e.\u0275\u0275advance(3),e.\u0275\u0275property("showTooltip",!1)("disabled",s.readonly||e.\u0275\u0275pipeBind1(6,8,s.areStdHoursPeriodDisabled$))("control",s.formService.stdHourPeriodCode)("customValidators",s.customValidators)("options",s.stdHourPeriodOptions)}}function We(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",13)(2,"label")(3,"span"),e.\u0275\u0275template(4,Me,3,3,"strong",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,Ae,3,3,"span",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",15)(7,"div",16),e.\u0275\u0275template(8,xe,2,6,"phr-read-write-control",24),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,He,7,10,"ng-container",1),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275elementEnd()()()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275classProp("text-danger",s.stdHoursInvalid||s.stdPeriodInvalid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s.readonly),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.stdHoursInvalid||s.stdPeriodInvalid),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(9,6,s.areStdHoursHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(11,8,s.areStdHoursPeriodHidden$))}}function je(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"p",29),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate3(" ",e.\u0275\u0275pipeBind1(2,3,"VALIDATION.ANNUAL_RANGE")," [",null==s.salaryGrade?null:s.salaryGrade.minimum," - ",null==s.salaryGrade?null:s.salaryGrade.maximum,"] ")}}function U(h,Y){if(1&h&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",26)(2,"div",27)(3,"div",11)(4,"strong"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"currencySplit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,je,3,5,"p",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(11,"hr"),e.\u0275\u0275elementContainerEnd()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,"LABEL.NEW_ANNUALIZED_PAY")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,5,null==s.formService.newAnnualizedRate?null:s.formService.newAnnualizedRate.value)||"-"," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.formService.annualRangeErrors)}}function ie(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",7)(1,"div",30)(2,"div",31),e.\u0275\u0275element(3,"input",32),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementStart(5,"label",33),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",34),e.\u0275\u0275element(9,"phr-tooltip",35),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("formControl",s.formService.autoTSEnabled)("disabled",s.readonly||e.\u0275\u0275pipeBind1(4,4,s.isAutoTsDisabled$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"LABEL.AUTO_PAY_TIME_CARD")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("text",e.\u0275\u0275pipeBind1(10,8,"MESSAGE.PAY_RATE_CHANGE_TOOLTIP"))}}function b(h,Y){if(1&h&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",36)(2,"div",37),e.\u0275\u0275element(3,"phr-read-write-control",38),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(7,"hr"),e.\u0275\u0275elementContainerEnd()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("mask",s.numberMask)("showTooltip",!0)("tooltipText",e.\u0275\u0275pipeBind1(4,7,"MESSAGE.PAY_RATE_CHANGE_TOOLTIP"))("label",e.\u0275\u0275pipeBind1(5,9,"LABEL.NEW_AUTO_TIME_CARD_HOURS"))("control",s.formService.autoTSHours)("editing",!0)("disabled",s.readonly||e.\u0275\u0275pipeBind1(6,11,s.areAutoTsHoursDisabled$))}}function te(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"p",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",s.effectiveDateErrorMsg," ")}}function _e(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",39),e.\u0275\u0275element(1,"phr-read-write-date-control",40),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275template(4,te,2,1,"p",18),e.\u0275\u0275elementEnd()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,7,"LABEL.EFFECTIVE_DATE"))("control",s.formService.effectiveDate)("disabled",s.readonly||e.\u0275\u0275pipeBind1(3,9,s.isEffDateDisabled$))("required",!s.readonly)("editing",!0)("minDate",s.effectiveStartDate),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",s.effectiveDateErrorMsg)}}function Se(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",41),e.\u0275\u0275element(1,"phr-read-write-dropdown-control",42),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(2,6,"LABEL.REASON"))("control",s.formService.reasonCode)("disabled",s.readonly||e.\u0275\u0275pipeBind1(3,8,s.isReasonDisabled$))("editing",!0)("required",!s.readonly)("options",s.reasonCodes)}}let Ye=(()=>{class h{constructor(s,F){this.facade=s,this.formService=F,this.customValidators=[i.Validators.required],this.numberMask=(0,Re.createNumberMask)({prefix:"",suffix:"",includeThousandsSeparator:!0,thousandsSeparatorSymbol:",",allowDecimal:!0,decimalSymbol:".",decimalLimit:2,integerLimit:null,requireDecimal:!1,allowNegative:!1,allowLeadingZeroes:!1}),this.isCurPayRateHidden$=this.facade.isFieldHidden$(X.CUR_PAY_RATE),this.isCurPayPeriodHidden$=this.facade.isFieldHidden$(X.CUR_PAY_PERIOD),this.isCurEffDateHidden$=this.facade.isFieldHidden$(X.LAST_REVIEW_DATE),this.isCurAnnualPayHidden$=this.facade.isFieldHidden$(X.CUR_ANNUAL_PAY),this.isPayRateHidden$=this.facade.isFieldHidden$(c.PAY_RATE),this.isPayPeriodHidden$=this.facade.isFieldHidden$(c.PAY_PERIOD),this.arePayDataHidden$=(0,j.aj)([this.isPayRateHidden$,this.isPayPeriodHidden$]).pipe((0,Ee.U)(([re,Te])=>re&&Te)),this.areStdHoursHidden$=this.facade.isFieldHidden$(c.NEW_STD_HOURS),this.areStdHoursPeriodHidden$=this.facade.isFieldHidden$(c.NEW_STD_HOURS_PER),this.areHoursDataHidden$=(0,j.aj)([this.areStdHoursHidden$,this.areStdHoursPeriodHidden$]).pipe((0,Ee.U)(([re,Te])=>re&&Te)),this.isAnnualPayHidden$=this.facade.isFieldHidden$(c.NEW_ANNUAL_PAY),this.areAutoTsHoursHidden$=this.facade.isFieldHidden$(X.AUTO_TS_HOURS),this.isAutoTsHidden$=this.facade.isFieldHidden$(X.AUTO_TS),this.isEffDateHidden$=this.facade.isFieldHidden$(c.EFF_DATE),this.isReasonHidden$=this.facade.isFieldHidden$(c.REASON),this.isPayRateDisabled$=this.facade.isFieldDisabled$(c.PAY_RATE),this.isPayPeriodDisabled$=this.facade.isFieldDisabled$(c.PAY_PERIOD),this.areStdHoursDisabled$=this.facade.isFieldDisabled$(c.NEW_STD_HOURS),this.areStdHoursPeriodDisabled$=this.facade.isFieldDisabled$(c.NEW_STD_HOURS_PER),this.areAutoTsHoursDisabled$=this.facade.isFieldDisabled$(X.AUTO_TS_HOURS),this.isAutoTsDisabled$=this.facade.isFieldDisabled$(X.AUTO_TS).pipe((0,ge.b)(re=>{re&&(this.formService.autoTSEnabled.patchValue(!1),this.formService.autoTSEnabled.disable())})),this.isEffDateDisabled$=this.facade.isFieldDisabled$(c.EFF_DATE),this.isReasonDisabled$=this.facade.isFieldDisabled$(c.REASON)}get isOutOfHourlyRange(){return!(!(0,u.t$)(this.salaryGrade)||"H"!==this.formService.payRatePeriodCode?.value)&&(parseFloat(this.formService.newPayRate?.value)<parseFloat(this.salaryGrade.minHourly)||parseFloat(this.formService.newPayRate?.value)>parseFloat(this.salaryGrade.maxHourly))}get payRateInvalid(){return(this.formService.newPayRate.value||this.formService.newPayRate.touched)&&this.formService.newPayRate.invalid}get payRatePeriodInvalid(){return(this.formService.payRatePeriodCode.value||this.formService.payRatePeriodCode.touched)&&this.formService.payRatePeriodCode.invalid}get stdHoursInvalid(){return(this.formService.newStdHours.value||this.formService.newStdHours.touched)&&this.formService.newStdHours.invalid}get stdPeriodInvalid(){return(this.formService.stdHourPeriodCode.value||this.formService.stdHourPeriodCode.touched)&&this.formService.stdHourPeriodCode.invalid}}return h.\u0275fac=function(s){return new(s||h)(e.\u0275\u0275directiveInject(l),e.\u0275\u0275directiveInject(x))},h.\u0275cmp=e.\u0275\u0275defineComponent({type:h,selectors:[["phr-pay-rate-detail"]],inputs:{annualPay:"annualPay",payRate:"payRate",payPeriod:"payPeriod",effDate:"effDate",effectiveStartDate:"effectiveStartDate",effectiveDateErrorMsg:"effectiveDateErrorMsg",readonly:"readonly",pendingChange:"pendingChange",salaryGrade:"salaryGrade",reasonCodes:"reasonCodes",payRatePeriodOptions:"payRatePeriodOptions",stdHourPeriodOptions:"stdHourPeriodOptions"},decls:36,vars:41,consts:[[1,"mt-4"],[4,"ngIf"],[1,"row","mt-3"],["class","col-md-4 col-6",4,"ngIf"],[3,"formGroup"],["class","row mt-3",4,"ngIf"],["class","row mt-4",4,"ngIf"],[1,"row","mt-4"],["class","col-md-5 col-7",4,"ngIf"],["class","col-md-7 col-10",4,"ngIf"],[1,"col-md-4","col-6"],[1,"mb-2"],[1,"col-md-5","col-6"],[1,"col-md-9"],["class","ml-2",4,"ngIf"],[1,"controls-wrapper"],[1,"input-control"],["label","",3,"control","required","disabled",4,"ngIf"],["class","text-warning mb-0",4,"ngIf"],[1,"ml-2"],["label","",3,"control","required","disabled"],[1,"mb-4"],["label","",3,"showTooltip","disabled","control","customValidators","options"],[1,"text-warning","mb-0"],[3,"mask","label","editing","control","disabled",4,"ngIf"],[3,"mask","label","editing","control","disabled"],[1,"row","mt-3","mb-3"],[1,"col-9"],["class","text-danger mb-0",4,"ngIf"],[1,"text-danger","mb-0"],[1,"col-md-5","col-10"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","selectAllToggle",1,"custom-control-input",3,"formControl","disabled"],["for","selectAllToggle",1,"custom-control-label","pl-1"],[1,"mx-2","checkbox-tooltip"],[3,"text"],[1,"row","mt-4","mb-3"],[1,"col","auto-hours"],[3,"mask","showTooltip","tooltipText","label","control","editing","disabled"],[1,"col-md-5","col-7"],[3,"label","control","disabled","required","editing","minDate"],[1,"col-md-7","col-10"],[3,"label","control","disabled","editing","required","options"]],template:function(s,F){1&s&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Ue,26,26,"ng-container",1),e.\u0275\u0275elementStart(2,"h5"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2),e.\u0275\u0275template(6,Ne,7,4,"div",3),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275template(8,D,8,7,"div",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",2),e.\u0275\u0275template(11,z,7,4,"div",3),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275template(13,E,7,4,"div",3),e.\u0275\u0275pipe(14,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"hr"),e.\u0275\u0275elementStart(16,"h5",0),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"form",4),e.\u0275\u0275template(20,Fe,13,11,"div",5),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275template(22,We,12,10,"div",5),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275template(24,U,12,7,"ng-container",1),e.\u0275\u0275pipe(25,"async"),e.\u0275\u0275template(26,ie,11,10,"div",6),e.\u0275\u0275pipe(27,"async"),e.\u0275\u0275template(28,b,8,13,"ng-container",1),e.\u0275\u0275pipe(29,"async"),e.\u0275\u0275elementStart(30,"div",7),e.\u0275\u0275template(31,_e,5,11,"div",8),e.\u0275\u0275pipe(32,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"div",7),e.\u0275\u0275template(34,Se,4,10,"div",9),e.\u0275\u0275pipe(35,"async"),e.\u0275\u0275elementEnd()()()),2&s&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",F.pendingChange),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,15,"LABEL.CURRENT_INFORMATION")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(7,17,F.isCurPayRateHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(9,19,F.isCurEffDateHidden$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(12,21,F.isCurPayPeriodHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(14,23,F.isCurAnnualPayHidden$)),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,25,"LABEL.PROPOSED_CHANGE")),e.\u0275\u0275advance(2),e.\u0275\u0275property("formGroup",F.formService.form),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(21,27,F.arePayDataHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(23,29,F.areHoursDataHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(25,31,F.isAnnualPayHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(27,33,F.isAutoTsHidden$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(29,35,F.areAutoTsHoursHidden$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(32,37,F.isEffDateHidden$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(35,39,F.isReasonHidden$)))},dependencies:[le.O5,i.\u0275NgNoValidate,i.CheckboxControlValueAccessor,i.NgControlStatus,i.NgControlStatusGroup,i.FormControlDirective,i.FormGroupDirective,ve.T,f.s,k.X,o.i,Q.w,fe.K,le.Ov,le.i8,le.uU,S.X$,Le],styles:["phr-pay-rate-detail h5{font-size:1rem}phr-pay-rate-detail .controls-wrapper{display:flex;align-items:flex-end;justify-content:space-between}phr-pay-rate-detail .controls-wrapper .input-control{flex:0 1 42%}phr-pay-rate-detail .controls-wrapper .input-control label{display:none}phr-pay-rate-detail .custom-control{display:flex}phr-pay-rate-detail .custom-control-label{max-width:calc(100% - 40px)}phr-pay-rate-detail .custom-control-label:before{border:1px solid #dee2e6;background:transparent}phr-pay-rate-detail .checkbox-tooltip{display:inline-block}phr-pay-rate-detail .input-tooltip{position:absolute;top:0;right:-15px}phr-pay-rate-detail .auto-hours .input-group{width:31%}@media (max-width: 768px){phr-pay-rate-detail .auto-hours .input-group{width:42%}}\n"],encapsulation:2}),h})();var Ke=a(10526),ke=a(79583);function ze(h,Y){if(1&h&&e.\u0275\u0275element(0,"phr-information-message",6),2&h){const s=Y.ngIf;e.\u0275\u0275property("iconType","exclamation-triangle")("alertType","warning")("title",s)}}function Je(h,Y){if(1&h&&e.\u0275\u0275element(0,"phr-information-message",6),2&h){const s=e.\u0275\u0275nextContext();e.\u0275\u0275property("iconType","exclamation-triangle")("alertType","warning")("title",s.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE.IS_ONBOARDING"))}}function Qe(h,Y){if(1&h&&(e.\u0275\u0275elementStart(0,"div",14)(1,"div",15),e.\u0275\u0275element(2,"phr-pay-rate-detail",16),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()()),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("payRatePeriodOptions",s.payRatePeriodOptions)("stdHourPeriodOptions",s.stdHourPeriodOptions)("payPeriod",e.\u0275\u0275pipeBind1(3,10,s.payPeriod$))("annualPay",e.\u0275\u0275pipeBind1(4,12,s.annualPay$))("readonly",s.readonly)("effDate",s.effectiveDate)("payRate",e.\u0275\u0275pipeBind1(5,14,s.payRate$))("reasonCodes",e.\u0275\u0275pipeBind1(6,16,s.reasonCodes$))("pendingChange",e.\u0275\u0275pipeBind1(7,18,s.pendingChange$))("effectiveStartDate",s.latestHistoryDate)}}function qe(h,Y){if(1&h&&(e.\u0275\u0275element(0,"phr-hr-actions-history",17),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275pipe(2,"async")),2&h){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("initialRecords",e.\u0275\u0275pipeBind1(1,3,s.initialHistoryRecords$))("columns",s.payRateFacade.historyColumns)("loading",e.\u0275\u0275pipeBind1(2,5,s.loading$))}}function et(h,Y){if(1&h){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"ul",8,9),e.\u0275\u0275listener("activeIdChange",function(re){e.\u0275\u0275restoreView(s);const Te=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(Te.activeId=re)}),e.\u0275\u0275elementStart(3,"li",10)(4,"a",11),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"uppercase"),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,Qe,8,20,"ng-template",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"li",10)(10,"a",11),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"uppercase"),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(14,qe,3,7,"ng-template",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(15,"div",13),e.\u0275\u0275elementEnd()}if(2&h){const s=e.\u0275\u0275reference(2),F=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("activeId",F.activeId)("animation",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbNavItem",F.tabIds.detail),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,7,e.\u0275\u0275pipeBind1(7,9,"LABEL.DETAIL"))),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngbNavItem",F.tabIds.history),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,11,e.\u0275\u0275pipeBind1(13,13,"LABEL.HISTORY"))),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngbNavOutlet",s)}}function tt(h,Y){1&h&&e.\u0275\u0275element(0,"phr-block-loader",18)}let nt=(()=>{class h{constructor(s,F,re,Te){this.payRateFacade=s,this.payRateStore=F,this.payRateForm=re,this.translateService=Te,this.readonly=!1,this.onSave=new e.EventEmitter,this.onCancel=new e.EventEmitter,this.payPeriod$=this.payRateStore.payPeriod$,this.annualPay$=this.payRateStore.annualPay$,this.payRate$=this.payRateStore.payRate$,this.reasonCodes$=this.payRateStore.reasonCodes$,this.initialHistoryRecords$=this.payRateStore.initialHistoryRecords$,this.pendingChange$=this.payRateStore.pendingChange$,this.loading$=this.payRateStore.loading$,this.saving$=this.payRateStore.saving$,this.tabIds={detail:"detail",history:"history"},this.activeId=this.tabIds.detail,this.subscriptions$=new y.w}get latestHistoryDate(){return(0,N.kZ)(this.payRateForm.historyDates[0])}get effectiveDate(){return(0,N.HM)(new Date(this.employee?.effDate))}ngOnChanges(s){(0,u.t$)(s.employee?.currentValue)&&(this.payRateFacade.employee=this.employee,this.payRateFacade.setPayRateData(),this.employee.autoSheet&&(0,u.t$)(this.payRateForm.form)&&this.payRateForm.patchAutoHours(this.employee?.autoHours)),(0,u.t$)(s.clientId?.currentValue)&&(this.payRateFacade.clientId=this.clientId,this.payRateFacade.fetchData())}ngOnInit(){this.payRatePeriodOptions=this.payRateFacade.payRatePeriodOptions,this.stdHourPeriodOptions=this.payRateFacade.stdHourPeriodOptions,this.employee?.autoSheet&&this.payRateForm.patchAutoHours(this.employee?.autoHours),this.subscriptions$.add(this.payRateForm.effectiveDateUIValidator()).add(this.payRateForm.stdHoursValidator()).add(this.payRateForm.calcAnnualRate())}ngOnDestroy(){this.subscriptions$.unsubscribe()}cancel(){this.payRateForm.form.dirty?this.payRateFacade.showLeaveWithoutSaveWarning().then(s=>{s&&this.onCancel.emit()}):this.onCancel.emit()}save(){var s=this;return(0,t.Z)(function*(){const F=yield s.payRateFacade.showSaveWarning();console.log(s.payRateForm.form),F&&s.payRateFacade.saveData().subscribe(()=>s.onSave.emit())})()}}return h.\u0275fac=function(s){return new(s||h)(e.\u0275\u0275directiveInject(l),e.\u0275\u0275directiveInject(Z.a),e.\u0275\u0275directiveInject(x),e.\u0275\u0275directiveInject(S.sK))},h.\u0275cmp=e.\u0275\u0275defineComponent({type:h,selectors:[["phr-payrate-change"]],inputs:{employee:"employee",clientId:"clientId",readonly:"readonly",isProxyUser:"isProxyUser"},outputs:{onSave:"onSave",onCancel:"onCancel"},features:[e.\u0275\u0275ProvidersFeature([x,l,T]),e.\u0275\u0275NgOnChangesFeature],decls:16,vars:16,consts:[[1,"contact-info","py-2","hyphenate"],[1,"col-12","pl-0","mb-3","mt-3"],[3,"iconType","alertType","title",4,"ngIf"],["class","col-12 mb-4 px-0 mt-3",4,"ngIf","ngIfElse"],[3,"disabled","save","cancel"],["loader",""],[3,"iconType","alertType","title"],[1,"col-12","mb-4","px-0","mt-3"],["ngbNav","",1,"nav-pills","prismhr-nav-pills-underline",3,"activeId","animation","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"row"],[1,"col-md-8"],[3,"payRatePeriodOptions","stdHourPeriodOptions","payPeriod","annualPay","readonly","effDate","payRate","reasonCodes","pendingChange","effectiveStartDate"],[3,"initialRecords","columns","loading"],["id","loader",1,"col-12"]],template:function(s,F){if(1&s&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,ze,1,3,"phr-information-message",2),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275template(7,Je,1,3,"phr-information-message",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,et,16,15,"div",3),e.\u0275\u0275pipe(9,"async"),e.\u0275\u0275element(10,"hr"),e.\u0275\u0275elementStart(11,"phr-hr-actions-footer-buttons",4),e.\u0275\u0275listener("save",function(){return F.save()})("cancel",function(){return F.cancel()}),e.\u0275\u0275pipe(12,"async"),e.\u0275\u0275pipe(13,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(14,tt,1,0,"ng-template",null,5,e.\u0275\u0275templateRefExtractor)),2&s){const re=e.\u0275\u0275reference(15);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,6,"TITLE.PAY_RATE_CHANGE")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,8,!F.employee.isOnboarding&&F.payRateStore.validationMessage$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",F.employee.isOnboarding),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(9,10,F.loading$))("ngIfElse",re),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",F.employee.isOnboarding||F.payRateForm.form.invalid||e.\u0275\u0275pipeBind1(12,12,F.saving$)||!e.\u0275\u0275pipeBind1(13,14,F.payRateStore.allowChangePayRate$)||F.isProxyUser)}},dependencies:[K.uN,K.Pz,K.nv,K.Vx,K.tO,le.O5,oe.E,me.B,Ye,Ke.u,ke.D,le.Ov,le.gd,S.X$],styles:["[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}[_nghost-%COMP%]   .warning-message-container[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;padding:6px;border-radius:4px}[_nghost-%COMP%]   .warning-message-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.history-container[_ngcontent-%COMP%]     .search-wrapper{margin-left:0!important}"],changeDetection:0}),h})()},79239:(ne,V,a)=>{"use strict";a.d(V,{g:()=>i,Y:()=>_});var t=a(94650),e=a(3270),y=a(52885),u=a(42466);let i=(()=>{class v{constructor(C,O){this.i18nService=C,this.activeModal=O}ngOnInit(){this.message=this.i18nService.getTranslateService().instant("MESSAGE.CHANGE_POSITION_MESSAGE"),this.message=this.message.replace("<EMPLOYEE_NAME>",`${this.employee.firstName} ${this.employee.lastName}`),this.message=this.message.replace("<EMPLOYEE_CURRENT_POSITION>",this.employee.job),this.message=this.message.replace("<EMPLOYEE_NEXT_POSITION>",this.newPosition),this.message=this.message.replace("<CHANGE_POSITION_DATE>",this.newPositionDate.toString())}closeModal(C){this.activeModal.close(C)}}return v.\u0275fac=function(C){return new(C||v)(t.\u0275\u0275directiveInject(e.D),t.\u0275\u0275directiveInject(y.Kz))},v.\u0275cmp=t.\u0275\u0275defineComponent({type:v,selectors:[["phr-change-position-confirm"]],inputs:{employee:"employee",newPosition:"newPosition",newPositionDate:"newPositionDate"},decls:17,vars:10,consts:[[1,"container-fluid"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mr-3",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(C,O){1&C&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275listener("click",function(){return O.closeModal(!1)}),t.\u0275\u0275elementStart(6,"span",4),t.\u0275\u0275text(7,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(8,"div",5),t.\u0275\u0275element(9,"p",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",7)(11,"button",8),t.\u0275\u0275listener("click",function(){return O.closeModal(!0)}),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"button",9),t.\u0275\u0275listener("click",function(){return O.closeModal(!1)}),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd()()()),2&C&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"TITLE.CHANGE_POSITION")," "),t.\u0275\u0275advance(6),t.\u0275\u0275property("innerHTML",O.message,t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,6,"ACTION.YES_CHANGE")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,8,"ACTION.CANCEL")," "))},dependencies:[u.X$],encapsulation:2}),v})(),_=(()=>{class v{constructor(C){this.activeModal=C}closeModal(C){this.activeModal.close(C)}}return v.\u0275fac=function(C){return new(C||v)(t.\u0275\u0275directiveInject(y.Kz))},v.\u0275cmp=t.\u0275\u0275defineComponent({type:v,selectors:[["phr-change-warning"]],inputs:{title:"title",message:"message",okButtonText:"okButtonText"},decls:16,vars:6,consts:[[1,"container-fluid"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","mr-3",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(C,O){1&C&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5",2),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",3),t.\u0275\u0275listener("click",function(){return O.closeModal(!1)}),t.\u0275\u0275elementStart(5,"span",4),t.\u0275\u0275text(6,"\xd7"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",5)(8,"p"),t.\u0275\u0275text(9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",6)(11,"button",7),t.\u0275\u0275listener("click",function(){return O.closeModal(!0)}),t.\u0275\u0275text(12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"button",8),t.\u0275\u0275listener("click",function(){return O.closeModal(!1)}),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd()()()),2&C&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",O.title," "),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(O.message),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",O.okButtonText," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(15,4,"ACTION.CANCEL")," "))},dependencies:[u.X$],encapsulation:2}),v})()},73763:(ne,V,a)=>{"use strict";a.d(V,{X:()=>Ne});var t=a(94650),e=a(15861),y=a(24006),u=a(30567),i=a(68896),_=a(36962),v=a(68757),C=a(37623),O=a(17489),N=(()=>{return(D=N||(N={}))[D.NoAccess=1]="NoAccess",D[D.Updated=2]="Updated",D[D.SubmittedForApproval=3]="SubmittedForApproval",N;var D})(),P=a(2994),d=a(87545),L=a(27221),$=a(10986),H=a(73012),W=a(79239),S=a(42466),M=a(56946),I=a(52885);let T=(()=>{class D{constructor(E,B,ae){this.translateService=E,this.toastService=B,this.modalService=ae,this.showNoAccessMessage=()=>this.toastService.error({text:this.translateService.instant("MESSAGE.POSITION_CHANGE_MESSAGES.NO_ACCESS_TO_THIS_POSITION")})}showLeaveWithoutSaveWarning(){const E=this.modalService.open(W.Y,{backdrop:"static",centered:!0});return E.componentInstance.title=this.translateService.instant("MESSAGE.ARE_YOU_SURE"),E.componentInstance.message=this.translateService.instant("MESSAGE.LEAVE_WITHOUT_SAVING_CHANGE_POSITION"),E.componentInstance.okButtonText=this.translateService.instant("ALERTS.DEACTIVATE.CONFIRM"),E.result.catch(B=>console.log(B))}showSaveWarning(E,B,ae){const he=this.modalService.open(W.g,{backdrop:"static",centered:!0});return he.componentInstance.employee=B,he.componentInstance.newPosition=E,he.componentInstance.newPositionDate=ae,he.result.catch(De=>console.log(De))}showObsoletePositionWarning(){const E=this.modalService.open(W.Y,{backdrop:"static",centered:!0});return E.componentInstance.title=this.translateService.instant("TITLE.WARNING"),E.componentInstance.message=this.translateService.instant("MESSAGE.OBSOLETE_JOB_CODE_SELECTED"),E.componentInstance.okButtonText=this.translateService.instant("ACTION.YES"),E.result.catch(B=>console.log(B))}showEffectiveDateConfirm(){const E=this.modalService.open(W.Y,{backdrop:"static",centered:!0});return E.componentInstance.title=this.translateService.instant("TITLE.WARNING"),E.componentInstance.message=this.translateService.instant("MESSAGE.POSITION_CHANGE_EFFECTIVE_DATE"),E.componentInstance.okButtonText=this.translateService.instant("ACTION.OK"),E.result.catch(B=>console.log(B))}showPositionChangedToast(E){this.toastService.success(E===N.Updated?{text:this.translateService.instant("MESSAGE.POSITION_CHANGE_MESSAGES.SUCCESSFULLY_UPDATED")}:{text:this.translateService.instant("MESSAGE.POSITION_CHANGE_MESSAGES.SUBMITTED_FOR_APPROVAL")})}}return D.\u0275fac=function(E){return new(E||D)(t.\u0275\u0275inject(S.sK),t.\u0275\u0275inject(M.k),t.\u0275\u0275inject(I.FF))},D.\u0275prov=t.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var x=a(12183),j=a(31609);let q=(()=>{class D{constructor(E,B,ae,he,De,Be,Fe,Me){this.positionChangeApi=E,this.hrActionsApi=B,this.positionChangeMessages=ae,this.positionStore=he,this.hrActionsService=De,this.fb=Be,this.cdr=Fe,this.translateService=Me,this._form=this.fb.group({jobCode:[null,y.Validators.required],effectiveDate:[null,y.Validators.required],reasonCode:[null,y.Validators.required],reviewDate:[null]}),this.mapReasonCodesToDropdown=Ae=>[{value:null,display:this.translateService.instant("LABEL.SELECT_ONE")},...(0,O.sortBy)(Ae.map(xe=>({value:xe.id,display:xe.reason})),xe=>xe.display.toLowerCase())],this.mapJobCodesToDropdown=Ae=>[{value:null,display:this.translateService.instant("LABEL.SELECT_ONE"),obsolete:null},...(0,O.sortBy)(Ae.filter(xe=>xe.jobCode!==this.employee.jobCode).map(xe=>({value:xe.jobCode,display:xe.jobTitle,obsolete:xe.obsolete})),xe=>xe.display.toLowerCase())],this.showLeaveWithoutSaveWarning=()=>this.positionChangeMessages.showLeaveWithoutSaveWarning(),this.transform=Ae=>`${this.historyData.find(He=>He.jobCode===Ae).jobTitle} - ${Ae}`,this._historyColumns=(D=>[{title:"",localeKey:"FORM.TABLE_COLUMN.EFFECTIVE_DATE",sort:v.ER.DATE,direction:v.Sr.ASC,enumerable:!1,property:"effectiveDate"},{title:"",localeKey:"LABEL.POSITION",sort:v.ER.ALPHA,direction:v.Sr.DESC,enumerable:!1,property:"jobCode",transform:this.transform}])().map(Ae=>(Ae.title=this.translateService.instant(Ae.localeKey),new v.hj(Ae)))}set employee(E){this._employee=E}get employee(){return this._employee}set clientId(E){this._clientId=E}get clientId(){return this._clientId}set historyData(E){this._historyData=E}get historyData(){return this._historyData}get historyColumns(){return this._historyColumns}get form(){return this._form}set form(E){this._form=E}get jobCode(){return this._form.controls.jobCode}get effectiveDate(){return this._form.controls.effectiveDate}get reasonCode(){return this._form.controls.reasonCode}get reviewDate(){return this._form.controls.reviewDate}fetchData(){this.positionStore.loading=!0,(0,u.D)([this.hrActionsApi.getReasonCodes(_.G.Job),this.hrActionsApi.getJobCodes(this.clientId),this.getHistory()]).subscribe(([E,B])=>{this.positionStore.loading=!1,this.positionStore.jobCodes=this.mapJobCodesToDropdown(B),this.positionStore.reasonCodes=this.mapReasonCodesToDropdown(E),this.cdr.detectChanges()})}save(E){var B=this;return(0,e.Z)(function*(){let he=!1,De=!1;if(B.isCurrentPositionObsolete()&&(he=yield B.positionChangeMessages.showObsoletePositionWarning(),!he)||B.isEffectiveDateExceededRange()&&(De=yield B.positionChangeMessages.showEffectiveDateConfirm(),!De))return;const Be=B.positionStore.jobCodesValue.find(Me=>Me.value===B.jobCode.value)?.display;(yield B.positionChangeMessages.showSaveWarning(Be,B.employee,B.effectiveDate.value))&&B.savePosition().pipe((0,P.b)(()=>E()),(0,d.w)(()=>B.getHistory())).subscribe()})()}setValidationMessage(){if(this.positionStore.validationState=this.positionStore.initValidationState,!this.employee.jobChangeAllowed)return void(this.positionStore.validationState={validationMessage:this.translateService.instant("MESSAGE.POSITION_CHANGE_MESSAGES.CAN_NOT_CHANGE_POSITION"),allowChanges:!1});const E=this.hrActionsService.cobraCheck(this.employee.cobraEnrolleeStatus);(0,v.HH)(E)&&(this.positionStore.validationState={validationMessage:E,allowChanges:!1})}getHistory(){return this.positionChangeApi.getPositionChangeHistory(this.clientId,this.employee.employeeId).pipe((0,P.b)(E=>this.setHistoryData(E)))}setHistoryData(E){this.historyData=E,this.positionStore.pendingChange=this.hrActionsService.calcPendingHistoryChange(E)}isCurrentPositionObsolete(){return"Y"===this.positionStore.jobCodesValue.find(B=>B.value===this.jobCode.value).obsolete}isEffectiveDateExceededRange(){const E=(0,C.Z)(new Date,new Date(this.effectiveDate.value));return Math.abs(E)>60}savePosition(){return this.positionChangeApi.saveNewPosition(this.clientId,this.employee.employeeId,this.form.value).pipe((0,P.b)(({code:B})=>this.positionChangeMessages.showPositionChangedToast(B)),(0,P.b)(()=>this.form.reset()),(0,L.K)(({code:B})=>(B===N.NoAccess&&this.positionChangeMessages.showNoAccessMessage(),i.E)))}}return D.\u0275fac=function(E){return new(E||D)(t.\u0275\u0275inject($.e),t.\u0275\u0275inject(H.A),t.\u0275\u0275inject(T),t.\u0275\u0275inject(x.j),t.\u0275\u0275inject(j.m),t.\u0275\u0275inject(y.FormBuilder),t.\u0275\u0275inject(t.ChangeDetectorRef),t.\u0275\u0275inject(S.sK))},D.\u0275prov=t.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac}),D})();var J=a(36895),le=a(88452),Ie=a(47262),Pe=a(10526),Ee=a(65979),ge=a(29785),Ce=a(34928);function ye(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&D){const E=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==E.pendingChange?null:E.pendingChange.jobTitle)}}function Oe(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"date"),t.\u0275\u0275elementEnd()),2&D){const E=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(2,1,null==E.pendingChange?null:E.pendingChange.effectiveDate,"MM/dd/yyyy"))}}function be(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"div",19)(1,"div",2)(2,"h6"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"div",5)(8,"strong"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div"),t.\u0275\u0275template(13,ye,2,1,"span",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",7)(15,"div",5)(16,"strong"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div"),t.\u0275\u0275template(21,Oe,3,4,"span",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(22,"div",8)(23,"div",20),t.\u0275\u0275element(24,"hr"),t.\u0275\u0275elementEnd()()()),2&D){const E=t.\u0275\u0275nextContext(),B=t.\u0275\u0275reference(44);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,9,"LABEL.PENDING_CHANGE")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(10,11,"LABEL.POSITION")," (",t.\u0275\u0275pipeBind1(11,13,"LABEL.PENDING"),")"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==E.employee?null:E.employee.job)("ngIfElse",B),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(18,15,"LABEL.POSITION_START_DATE")," (",t.\u0275\u0275pipeBind1(19,17,"LABEL.PENDING"),")"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",null==E.employee?null:E.employee.lastHireDate)("ngIfElse",B)}}function G(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&D){const E=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(null==E.employee?null:E.employee.job)}}function X(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"date"),t.\u0275\u0275elementEnd()),2&D){const E=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(2,1,E.lastHireDate,"MM/dd/yyyy"))}}function c(D,z){if(1&D&&(t.\u0275\u0275element(0,"phr-date-control",21,22),t.\u0275\u0275pipe(2,"translate")),2&D){const E=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,3,"LABEL.POSITION_START_DATE")),t.\u0275\u0275property("minDate",E.minPositionStartDate)("control",E.positionChangeFacade.effectiveDate)}}function ee(D,z){1&D&&t.\u0275\u0275elementContainer(0)}function A(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"div",5)(1,"strong"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(4,ee,1,0,"ng-container",23)),2&D){const E=t.\u0275\u0275nextContext(),B=t.\u0275\u0275reference(46);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,3,"LABEL.POSITION_START_DATE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",B)("ngTemplateOutletContext",E.positionChangeFacade.effectiveDate)}}function Z(D,z){if(1&D&&(t.\u0275\u0275element(0,"phr-date-control",24,22),t.\u0275\u0275pipe(2,"translate")),2&D){const E=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,2,"LABEL.BASED_ON_RECENT_REVIEW_DATE")),t.\u0275\u0275property("control",E.positionChangeFacade.reviewDate)}}function l(D,z){1&D&&t.\u0275\u0275elementContainer(0)}function K(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"div",5)(1,"strong"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(4,l,1,0,"ng-container",23)),2&D){const E=t.\u0275\u0275nextContext(),B=t.\u0275\u0275reference(46);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,3,"LABEL.BASED_ON_RECENT_REVIEW_DATE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",B)("ngTemplateOutletContext",E.positionChangeFacade.reviewDate)}}function oe(D,z){1&D&&t.\u0275\u0275text(0,"-")}function me(D,z){if(1&D&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"date"),t.\u0275\u0275elementEnd()),2&D){const E=t.\u0275\u0275nextContext().date;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(2,1,E,"MM/dd/yyyy"))}}function Re(D,z){if(1&D&&t.\u0275\u0275template(0,me,3,4,"span",6),2&D){const E=z.date;t.\u0275\u0275nextContext();const B=t.\u0275\u0275reference(44);t.\u0275\u0275property("ngIf",E)("ngIfElse",B)}}let ve=(()=>{class D{constructor(E){this.positionChangeFacade=E}get lastHireDate(){return this.employee?.lastHireDate?(0,Ee.HM)(new Date(this.employee?.lastHireDate)):null}}return D.\u0275fac=function(E){return new(E||D)(t.\u0275\u0275directiveInject(q))},D.\u0275cmp=t.\u0275\u0275defineComponent({type:D,selectors:[["phr-position-change-detail"]],inputs:{employee:"employee",readonly:"readonly",minPositionStartDate:"minPositionStartDate",reasonCodes:"reasonCodes",jobCodes:"jobCodes",pendingChange:"pendingChange"},decls:47,vars:40,consts:[[1,"detail-container"],["class","mb-4",4,"ngIf"],[1,"col-12","pl-0","py-2"],[1,"row","col-md-10","col-sm-12"],[1,"py-2","col-6","col-sm-6"],[1,"mb-2","read-only"],[4,"ngIf","ngIfElse"],[1,"py-2","col-md-6","col-sm-6"],[1,"row"],[1,"col-8"],[3,"formGroup"],[1,"py-2","col-md-6","col-sm-12"],[3,"showTooltip","control","value","label","options","required","editing"],["boldLabel","true","required","",3,"label","minDate","control",4,"ngIf","ngIfElse"],["positionStartDateLabel",""],["boldLabel","true",3,"label","control",4,"ngIf","ngIfElse"],["reviewDateLabel",""],["noData",""],["dateText",""],[1,"mb-4"],[1,"col-12"],["boldLabel","true","required","",3,"label","minDate","control"],["datePicker",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["boldLabel","true",3,"label","control"]],template:function(E,B){if(1&E&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,be,25,19,"div",1),t.\u0275\u0275elementStart(2,"div",2)(3,"h6"),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",3)(7,"div",4)(8,"div",5)(9,"strong"),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div"),t.\u0275\u0275template(13,G,2,1,"span",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",7)(15,"div",5)(16,"strong"),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div"),t.\u0275\u0275template(20,X,3,4,"span",6),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(21,"div",8)(22,"div",9),t.\u0275\u0275element(23,"hr"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(24,"div",2)(25,"h6"),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(28,"form",10)(29,"div",11),t.\u0275\u0275element(30,"phr-read-write-dropdown-control",12),t.\u0275\u0275pipe(31,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(32,"div",11),t.\u0275\u0275template(33,c,3,5,"phr-date-control",13),t.\u0275\u0275template(34,A,5,5,"ng-template",null,14,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(36,"div",11),t.\u0275\u0275element(37,"phr-read-write-dropdown-control",12),t.\u0275\u0275pipe(38,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(39,"div",11),t.\u0275\u0275template(40,Z,3,4,"phr-date-control",15),t.\u0275\u0275template(41,K,5,5,"ng-template",null,16,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(43,oe,1,0,"ng-template",null,17,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(45,Re,1,2,"ng-template",null,18,t.\u0275\u0275templateRefExtractor)),2&E){const ae=t.\u0275\u0275reference(35),he=t.\u0275\u0275reference(42),De=t.\u0275\u0275reference(44);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",B.pendingChange),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,28,"LABEL.CURRENT_INFORMATION")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,30,"LABEL.POSITION")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",null==B.employee?null:B.employee.job)("ngIfElse",De),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(18,32,"LABEL.POSITION_START_DATE")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",B.lastHireDate)("ngIfElse",De),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(27,34,"LABEL.PROPOSED_CHANGE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("formGroup",B.positionChangeFacade.form),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(31,36,"LABEL.POSITION")),t.\u0275\u0275property("showTooltip",!1)("control",B.positionChangeFacade.jobCode)("value","")("options",B.jobCodes)("required",!0)("editing",!B.readonly),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!B.readonly)("ngIfElse",ae),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(38,38,"LABEL.REASON_CODE")),t.\u0275\u0275property("showTooltip",!1)("control",B.positionChangeFacade.reasonCode)("value","")("options",B.reasonCodes)("required",!0)("editing",!B.readonly),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!B.readonly)("ngIfElse",he)}},dependencies:[J.O5,J.tP,y.\u0275NgNoValidate,y.NgControlStatusGroup,y.FormGroupDirective,ge.Oz,Ce.i,J.uU,S.X$],styles:["[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.detail-container[_ngcontent-%COMP%]{padding-top:15px}.detail-container[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.2em;font-weight:400}.detail-container[_ngcontent-%COMP%]   .py-2[_ngcontent-%COMP%]{padding-left:0;padding-top:0!important;padding-bottom:0!important}"]}),D})();var f=a(79583);function k(D,z){if(1&D&&t.\u0275\u0275element(0,"phr-information-message",6),2&D){const E=z.ngIf;t.\u0275\u0275property("iconType","exclamation-triangle")("alertType","warning")("title",E)}}function o(D,z){if(1&D&&t.\u0275\u0275element(0,"phr-information-message",6),2&D){const E=t.\u0275\u0275nextContext();t.\u0275\u0275property("iconType","exclamation-triangle")("alertType","warning")("title",E.translateService.instant("MESSAGE.STATUS_TYPE_CHANGE.IS_ONBOARDING"))}}function Q(D,z){if(1&D&&(t.\u0275\u0275element(0,"phr-position-change-detail",14),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275pipe(3,"async")),2&D){const E=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("reasonCodes",t.\u0275\u0275pipeBind1(1,6,E.positionStore.reasonCodes$))("jobCodes",t.\u0275\u0275pipeBind1(2,8,E.positionStore.jobCodes$))("pendingChange",t.\u0275\u0275pipeBind1(3,10,E.positionStore.pendingChange$))("employee",E.employee)("readonly",E.readonly)("minPositionStartDate",E.minPositionStartDate)}}function fe(D,z){if(1&D&&(t.\u0275\u0275element(0,"phr-hr-actions-history",15),t.\u0275\u0275pipe(1,"async")),2&D){const E=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("loading",t.\u0275\u0275pipeBind1(1,3,E.positionStore.loading$))("columns",E.positionChangeFacade.historyColumns)("initialRecords",E.positionChangeFacade.historyData)}}function Le(D,z){if(1&D){const E=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"ul",8,9),t.\u0275\u0275listener("activeIdChange",function(ae){t.\u0275\u0275restoreView(E);const he=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(he.activeId=ae)}),t.\u0275\u0275elementStart(3,"li",10)(4,"a",11),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"uppercase"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Q,4,12,"ng-template",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"li",10)(10,"a",11),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"uppercase"),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,fe,2,5,"ng-template",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(15,"div",13),t.\u0275\u0275elementEnd()}if(2&D){const E=t.\u0275\u0275reference(2),B=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("activeId",B.activeId)("animation",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngbNavItem",B.tabIds.detail),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,7,t.\u0275\u0275pipeBind1(7,9,"LABEL.DETAIL"))),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngbNavItem",B.tabIds.history),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,11,t.\u0275\u0275pipeBind1(13,13,"LABEL.HISTORY"))),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngbNavOutlet",E)}}function Ue(D,z){1&D&&t.\u0275\u0275element(0,"phr-block-loader",16)}let Ne=(()=>{class D{constructor(E,B,ae){this.positionChangeFacade=E,this.positionStore=B,this.translateService=ae,this.readonly=!1,this.onSave=new t.EventEmitter,this.onCancel=new t.EventEmitter,this.minPositionStartDate=null,this.tabIds={detail:"detail",history:"history"},this.activeId=this.tabIds.detail}ngOnChanges(E){(0,v.t$)(E.employee?.currentValue)&&(this.positionChangeFacade.employee=this.employee,this.positionChangeFacade.setValidationMessage(),this.minPositionStartDate=new Date(this.employee?.lastHireDate)),(0,v.t$)(E.clientId?.currentValue)&&(this.positionChangeFacade.clientId=this.clientId),(0,v.t$)(E.clientId?.currentValue)&&(0,v.t$)(E.employee?.currentValue)&&this.positionChangeFacade.fetchData()}save(){this.positionChangeFacade.save(()=>this.onSave.emit())}cancel(){this.positionChangeFacade.form.dirty?this.positionChangeFacade.showLeaveWithoutSaveWarning().then(E=>{E&&this.onCancel.emit()}):this.onCancel.emit()}}return D.\u0275fac=function(E){return new(E||D)(t.\u0275\u0275directiveInject(q),t.\u0275\u0275directiveInject(x.j),t.\u0275\u0275directiveInject(S.sK))},D.\u0275cmp=t.\u0275\u0275defineComponent({type:D,selectors:[["phr-position-change"]],inputs:{employee:"employee",clientId:"clientId",new:"new",readonly:"readonly",isProxyUser:"isProxyUser"},outputs:{onSave:"onSave",onCancel:"onCancel"},features:[t.\u0275\u0275ProvidersFeature([q]),t.\u0275\u0275NgOnChangesFeature],decls:14,vars:14,consts:[[1,"py-2","hyphenate"],[1,"col-12","pl-0","mt-3","mb-3"],[3,"iconType","alertType","title",4,"ngIf"],["class","col-12 mb-4 px-0",4,"ngIf","ngIfElse"],[3,"disabled","save","cancel"],["loader",""],[3,"iconType","alertType","title"],[1,"col-12","mb-4","px-0"],["ngbNav","",1,"nav-pills","prismhr-nav-pills-underline",3,"activeId","animation","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"reasonCodes","jobCodes","pendingChange","employee","readonly","minPositionStartDate"],[3,"loading","columns","initialRecords"],["id","loader",1,"col-12"]],template:function(E,B){if(1&E&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h5"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,k,1,3,"phr-information-message",2),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275template(7,o,1,3,"phr-information-message",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Le,16,15,"div",3),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275elementStart(10,"phr-hr-actions-footer-buttons",4),t.\u0275\u0275listener("save",function(){return B.save()})("cancel",function(){return B.cancel()}),t.\u0275\u0275pipe(11,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(12,Ue,1,0,"ng-template",null,5,t.\u0275\u0275templateRefExtractor)),2&E){const ae=t.\u0275\u0275reference(13);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,6,"TITLE.POSITION_CHANGE")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(6,8,!B.employee.isOnboarding&&B.positionStore.validationMessage$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",B.employee.isOnboarding),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(9,10,B.positionStore.loading$))("ngIfElse",ae),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",B.employee.isOnboarding||!B.positionChangeFacade.form.valid||!t.\u0275\u0275pipeBind1(11,12,B.positionStore.allowChangePosition$)||B.isProxyUser)}},dependencies:[I.uN,I.Pz,I.nv,I.Vx,I.tO,J.O5,le.E,Ie.B,Pe.u,ve,f.D,J.Ov,J.gd,S.X$],styles:["[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.button-wrapper[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1);padding-top:15px;padding-bottom:15px}"],changeDetection:0}),D})()},90214:(ne,V,a)=>{"use strict";a.d(V,{L:()=>$});var t=a(94650),e=a(24006),y=a(6860),u=a(36895),i=a(42466);function _(H,W){if(1&H&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"p"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",9),t.\u0275\u0275element(5,"input",10),t.\u0275\u0275elementStart(6,"label",11),t.\u0275\u0275element(7,"span",12),t.\u0275\u0275elementStart(8,"span"),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(11,"div",13),t.\u0275\u0275element(12,"input",14),t.\u0275\u0275elementStart(13,"label",15),t.\u0275\u0275element(14,"span",12),t.\u0275\u0275elementStart(15,"span"),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(18,"span",16),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&H){const S=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,10,"MESSAGE.MANAGER_RESET_PASS.LINK"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",S.control)("value",S.method.email),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(10,12,"MESSAGE.MANAGER_RESET_PASS.SEND_MAIL"),": ",S.email,""),t.\u0275\u0275advance(3),t.\u0275\u0275property("formControl",S.control)("value",S.method.sms),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(17,14,"MESSAGE.MANAGER_RESET_PASS.SEND_SMS"),": ",S.cellPhone,""),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(20,16,"MESSAGE.MANAGER_RESET_PASS.SMS_HINT"))}}function v(H,W){if(1&H&&(t.\u0275\u0275elementStart(0,"strong"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&H){const S=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1("Email: ",S.email,"")}}function p(H,W){if(1&H&&(t.\u0275\u0275elementStart(0,"strong"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&H){const S=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",t.\u0275\u0275pipeBind1(2,2,"MESSAGE.MANAGER_RESET_PASS.SMS"),": ",S.cellPhone,"")}}function C(H,W){if(1&H&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"p"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"br"),t.\u0275\u0275template(5,v,2,1,"strong",2),t.\u0275\u0275template(6,p,3,4,"ng-template",null,17,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&H){const S=t.\u0275\u0275reference(7),M=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,3,"MESSAGE.MANAGER_RESET_PASS.SEND_TO"),":"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",M.email)("ngIfElse",S)}}function O(H,W){1&H&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"p"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&H&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"MESSAGE.MANAGER_RESET_PASS.NOT_AVAILABLE")))}function N(H,W){if(1&H&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,_,21,18,"ng-container",8),t.\u0275\u0275template(2,C,8,5,"ng-container",8),t.\u0275\u0275template(3,O,4,3,"ng-container",8),t.\u0275\u0275elementEnd()),2&H){const S=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",S.email&&S.cellPhone&&S.userId),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",S.email&&!S.cellPhone||S.cellPhone&&!S.email&&S.userId),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!S.email&&!S.cellPhone||!S.userId)}}function P(H,W){1&H&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&H&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"MESSAGE.MANAGER_RESET_PASS.OKTA_MESSAGE")))}function d(H,W){if(1&H){const S=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(S);const I=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(I.resetPass())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}if(2&H){const S=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",S.isProxyUser),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,"ACTION.RESET_PASSWORD")," ")}}function L(H,W){1&H&&(t.\u0275\u0275elementStart(0,"button",19),t.\u0275\u0275element(1,"i",20),t.\u0275\u0275elementEnd()),2&H&&t.\u0275\u0275property("disabled",!0)}let $=(()=>{class H{constructor(){this.onReset=new t.EventEmitter,this.onCancel=new t.EventEmitter,this.method={email:"email",sms:"sms"},this.control=new e.FormControl(this.method.email,e.Validators.required)}resetPass(){(0,y.t$)(this.email)&&!(0,y.t$)(this.cellPhone)&&this.control.patchValue(this.method.email),(0,y.t$)(this.cellPhone)&&!(0,y.t$)(this.email)&&this.control.patchValue(this.method.sms),this.onReset.emit(this.control.value)}}return H.\u0275fac=function(S){return new(S||H)},H.\u0275cmp=t.\u0275\u0275defineComponent({type:H,selectors:[["phr-reset-password"]],inputs:{email:"email",cellPhone:"cellPhone",userId:"userId",oktaEnabled:"oktaEnabled",buttonSpinner:"buttonSpinner",isProxyUser:"isProxyUser"},outputs:{onReset:"onReset",onCancel:"onCancel"},decls:13,vars:10,consts:[[1,"content-wrapper"],[1,"mt-4","mb-4"],[4,"ngIf","ngIfElse"],["okta",""],[1,"button-wrapper","pt-4","pb-5"],["class","btn btn-primary mr-4",3,"disabled","click",4,"ngIf"],["class","btn btn-primary mr-4",3,"disabled",4,"ngIf"],[1,"btn","btn-outline-primary",3,"click"],[4,"ngIf"],[1,"radio-input-group","mb-3"],["type","radio","id","personal-email-radio-button",3,"formControl","value"],["for","personal-email-radio-button"],[1,"radio-check"],[1,"radio-input-group"],["type","radio","id","personal-phone-radio-button",3,"formControl","value"],["for","personal-phone-radio-button"],[1,"hint"],["phone",""],[1,"btn","btn-primary","mr-4",3,"disabled","click"],[1,"btn","btn-primary","mr-4",3,"disabled"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(S,M){if(1&S&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,N,4,3,"div",2),t.\u0275\u0275template(5,P,3,3,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",4),t.\u0275\u0275template(8,d,3,4,"button",5),t.\u0275\u0275template(9,L,2,1,"button",6),t.\u0275\u0275elementStart(10,"button",7),t.\u0275\u0275listener("click",function(){return M.onCancel.emit()}),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()()),2&S){const I=t.\u0275\u0275reference(6);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,6,"ACTION.RESET_PASSWORD")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!M.oktaEnabled)("ngIfElse",I),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",((M.email||M.cellPhone)&&M.userId||M.oktaEnabled)&&!M.buttonSpinner),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",M.buttonSpinner),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(12,8,"ACTION.CANCEL")," ")}},dependencies:[u.O5,e.DefaultValueAccessor,e.RadioControlValueAccessor,e.NgControlStatus,e.FormControlDirective,i.X$],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}[_nghost-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}[_nghost-%COMP%]   span.hint[_ngcontent-%COMP%]{padding-left:3rem;margin-top:.5rem;display:inline-block;color:gray;font-weight:600;font-size:.8rem}@media screen and (max-width: 768px){[_nghost-%COMP%]   span.hint[_ngcontent-%COMP%]{padding-left:1.8rem}}[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]:before{border-color:#008aad;background-color:#008aad}[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;box-sizing:border-box;padding:0;width:16px;height:16px;border:1px solid darkgray;border-radius:50%;outline:none;margin-right:15px}[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]:before{content:"";display:block;width:8px;height:8px;border-radius:50%}[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:1rem;margin-bottom:0;display:flex;align-items:center}@media screen and (max-width: 768px){[_nghost-%COMP%]   .radio-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:0}}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin-bottom:30px}@media screen and (max-width: 768px){[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 470px);height:100%}}[_nghost-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{padding:1.5rem 0;border-top:1px solid grey}[_nghost-%COMP%]   .button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px}']}),H})()},83823:(ne,V,a)=>{"use strict";a.d(V,{a:()=>i});var t=a(591),e=a(24850),y=a(32244),u=a(94650);let i=(()=>{class _{constructor(){this._payDataState={payRate:null,payPeriod:null,annualPay:null},this._reasonCodes$=new t.X([]),this._initialHistoryRecords$=new t.X([]),this._pendingChange$=new t.X(null),this._fieldPermissions$=new t.X([]),this._validationState$=new t.X(this.initValidationState),this._payData$=new t.X(this._payDataState),this._loading$=new t.X(!1),this._saving$=new t.X(!1)}set reasonCodes(p){this._reasonCodes$.next(p)}get reasonCodes$(){return this._reasonCodes$.asObservable()}get reasonCodesVal(){return this._reasonCodes$.getValue()}set initialHistoryRecords(p){this._initialHistoryRecords$.next(p)}get initialHistoryRecords$(){return this._initialHistoryRecords$.asObservable()}set pendingChange(p){this._pendingChange$.next(p)}get pendingChange$(){return this._pendingChange$.asObservable()}set payData(p){this._payData$.next({...this._payData$.getValue(),...p})}get payRate$(){return this._payData$.asObservable().pipe((0,e.U)(({payRate:p})=>p))}get payPeriod$(){return this._payData$.asObservable().pipe((0,e.U)(({payPeriod:p})=>p))}get annualPay$(){return this._payData$.asObservable().pipe((0,e.U)(({annualPay:p})=>p))}get fieldPermissions$(){return this._fieldPermissions$.asObservable()}set fieldPermissions(p){this._fieldPermissions$.next(p)}get loading$(){return this._loading$.asObservable()}set loading(p){this._loading$.next(p)}get saving$(){return this._saving$.asObservable()}set saving(p){this._saving$.next(p)}get payRateVal(){return this._payData$.getValue().payRate}set validationState(p){this._validationState$.next({...this._validationState$.getValue(),...p})}get validationMessage$(){return this._validationState$.asObservable().pipe((0,e.U)(({validationMessage:p})=>p))}get allowChangePayRate$(){return this._validationState$.asObservable().pipe((0,e.U)(({allowChanges:p})=>p))}get initValidationState(){return y.e}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},12183:(ne,V,a)=>{"use strict";a.d(V,{j:()=>i});var t=a(591),e=a(24850),y=a(32244),u=a(94650);let i=(()=>{class _{constructor(){this._loading$=new t.X(!1),this._jobCodes$=new t.X([]),this._reasonCodes$=new t.X([]),this._pendingChange$=new t.X(null),this._validationState$=new t.X(this.initValidationState)}set reasonCodes(p){this._reasonCodes$.next(p)}get reasonCodes$(){return this._reasonCodes$.asObservable()}set jobCodes(p){this._jobCodes$.next(p)}get jobCodes$(){return this._jobCodes$.asObservable()}get jobCodesValue(){return this._jobCodes$.getValue()}set pendingChange(p){this._pendingChange$.next(p)}get pendingChange$(){return this._pendingChange$.asObservable()}set loading(p){this._loading$.next(p)}get loading$(){return this._loading$.asObservable()}set validationState(p){this._validationState$.next({...this._validationState$.getValue(),...p})}get validationMessage$(){return this._validationState$.asObservable().pipe((0,e.U)(({validationMessage:p})=>p))}get allowChangePosition$(){return this._validationState$.asObservable().pipe((0,e.U)(({allowChanges:p})=>p))}get initValidationState(){return y.e}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},79855:(ne,V,a)=>{"use strict";a.d(V,{$:()=>i});var t=a(591),e=a(24850),y=a(32244),u=a(94650);let i=(()=>{class _{constructor(){this._initialLoaderState={codes:!1,statuses:!1,types:!1,history:!1,permissions:!1},this._benefitMsgState={enroll:null,term:null},this._benefitMsg$=new t.X(this._benefitMsgState),this._employmentStatusTypes$=new t.X([]),this._employmentTypeTypes$=new t.X([]),this._reasonCodes$=new t.X([]),this._loading=new t.X(this._initialLoaderState),this._initialHistoryRecords$=new t.X([]),this._pendingChange$=new t.X(null),this._validationState$=new t.X(this.initValidationState),this._fieldPermissions$=new t.X([])}set employmentStatuses(p){this._employmentStatusTypes$.next(p)}get employmentStatuses$(){return this._employmentStatusTypes$.asObservable()}get employmentStatusesValue(){return this._employmentStatusTypes$.getValue()}set employmentTypes(p){this._employmentTypeTypes$.next(p)}get employmentTypes$(){return this._employmentTypeTypes$.asObservable()}get employmentTypesValue(){return this._employmentTypeTypes$.getValue()}set reasonCodes(p){this._reasonCodes$.next(p)}get reasonCodes$(){return this._reasonCodes$.asObservable()}set loading(p){this._loading.next({...this._loading.getValue(),...p})}get loading$(){return this._loading.asObservable().pipe((0,e.U)(p=>Object.values(p).some(C=>!!C)))}set benefitMsg(p){this._benefitMsg$.next({...this._benefitMsg$.getValue(),...p})}get termBenefitMsg$(){return this._benefitMsg$.asObservable().pipe((0,e.U)(({term:p})=>p))}get enrollBenefitMsg$(){return this._benefitMsg$.asObservable().pipe((0,e.U)(({enroll:p})=>p))}set initialHistoryRecords(p){this._initialHistoryRecords$.next(p)}get initialHistoryRecords$(){return this._initialHistoryRecords$.asObservable()}get initialHistoryRecordsValue(){return this._initialHistoryRecords$.getValue()}set pendingChange(p){this._pendingChange$.next(p)}get pendingChange$(){return this._pendingChange$.asObservable()}set validationState(p){this._validationState$.next({...this._validationState$.getValue(),...p})}get validationMessage$(){return this._validationState$.asObservable().pipe((0,e.U)(({validationMessage:p})=>p))}get allowChangeStatusType$(){return this._validationState$.asObservable().pipe((0,e.U)(({allowChanges:p})=>p))}get initValidationState(){return y.e}get fieldPermissions$(){return this._fieldPermissions$.asObservable()}set fieldPermissions(p){this._fieldPermissions$.next(p)}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},32244:(ne,V,a)=>{"use strict";a.d(V,{e:()=>t});const t={validationMessage:null,allowChanges:!0}},23478:(ne,V,a)=>{"use strict";a.d(V,{b:()=>ee});var t=a(94650),e=a(99981),y=a(24006),u=a(15439),i=a.n(u),_=a(6860),v=a(41184),p=a(36053),C=a(27111),O=a(42466),N=a(51818),P=a(79193),d=a(36895),L=a(88452),$=a(8606),H=a(34928),W=a(56703);function S(A,Z){if(1&A){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(l);const oe=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(oe.toggleEditMode())}),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()}2&A&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"ACTION.EDIT")))}function M(A,Z){1&A&&t.\u0275\u0275element(0,"phr-block-loader",9)}const I=function(A,Z){return{"col-6":A,"col-12":Z}};function T(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-date-control",15),t.\u0275\u0275pipe(2,"date"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(14,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("value",t.\u0275\u0275pipeBind2(2,9,l.getDate(l.employee.birthDate),"MM/dd/yyyy")||"-"),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(3,12,"LABEL.BIRTHDATE")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.birthDate)("disabled",l.saving)("minDate",l.minDate)("maxDate",l.maxDate)("required",l.getPermission("birthDate").required)("editing",l.isEditingField("birthDate"))}}function x(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14)(1,"div",16)(2,"strong"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(5,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,3,"LABEL.AGE")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(l.age||"-")}}function j(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",17),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(15,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,11,"LABEL.GENDER")),t.\u0275\u0275property("showTooltip",!0)("tooltipText",t.\u0275\u0275pipeBind1(3,13,"MESSAGE.GENDER"))("tooltipPlacement",l.genderTooltipPlacement)("disabled",l.saving)("options",l.genderOptions)("control",l.personalInfoForm.controls.gender)("value",l.genderVal)("required",l.getPermission("gender").required)("editing",l.isEditingField("gender"))}}function q(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",18),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(15,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(3,13,"LABEL.GENDER_DESIGNATION")),t.\u0275\u0275property("showTooltip",!0)("tooltipText",t.\u0275\u0275pipeBind1(2,11,"MESSAGE.GENDER_DESIGNATION"))("tooltipPlacement","top")("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.genderDesignation)("value",l.genderDesignationVal)("options",l.genderDesignationOpts)("disabled",l.saving)("required",l.getPermission("genderDesignation").required)("editing",l.isEditingField("genderDesignation")&&l.genderDesignationOpts.length>1)}}function J(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(10,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,8,"LABEL.PRONOUN")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.preferredPronoun)("value",l.pronounVal)("options",l.pronounOpts)("disabled",l.saving)("required",l.getPermission("preferredPronoun").required)("editing",l.isEditingField("preferredPronoun")&&l.pronounOpts.length>1)}}function le(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(10,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,8,"LABEL.ETHNICITY")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.ethnicCode)("value",l.employee.ethnicity)("options",l.ethnicOpts)("disabled",l.saving)("required",l.getPermission("ethnicCode").required)("editing",l.isEditingField("ethnicCode")&&l.ethnicOpts.length>1)}}function Ie(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-control",20),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(9,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,7,"LABEL.NICKNAME")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.nickname)("value",l.employee.nickname)("disabled",l.saving)("required",l.getPermission("nickname").required)("editing",l.isEditingField("nickname"))}}function Pe(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(10,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,8,"LABEL.MARITAL_STATUS")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.maritalStatus)("value",l.maritalVal)("options",l.maritalOpts)("disabled",l.saving)("required",l.getPermission("maritalStatus").required)("editing",l.isEditingField("maritalStatus")&&l.maritalOpts.length>1)}}function Ee(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14)(1,"div")(2,"strong"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div"),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"date"),t.\u0275\u0275elementEnd()()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(8,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,3,"LABEL.DATE_MARRIED")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(7,5,l.getDate(l.employee.dateMarried),"MM/dd/yyyy")||"-"," ")}}function ge(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(10,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,8,"LABEL.TOBACCO_USER")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.tobaccoUser)("value",l.tobaccoVal)("options",l.tobaccoOptions)("disabled",l.saving)("required",l.getPermission("tobaccoUser").required)("editing",l.isEditingField("tobaccoUser")&&l.tobaccoOptions.length>1)}}function Ce(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(10,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,8,"LABEL.BLIND")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.blind)("value",l.blindVal)("options",l.blindOptions)("disabled",l.saving)("required",l.getPermission("blind").required)("editing",l.isEditingField("blind")&&l.blindOptions.length>1)}}function ye(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275element(1,"phr-read-write-dropdown-control",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(10,I,!l.isEditing,l.isEditing)),t.\u0275\u0275advance(1),t.\u0275\u0275propertyInterpolate("label",t.\u0275\u0275pipeBind1(2,8,"LABEL.HANDICAPPED")),t.\u0275\u0275property("control",l.personalInfoForm&&l.personalInfoForm.controls&&l.personalInfoForm.controls.handicapped)("value",l.disabledVal)("options",l.handicappedOptions)("disabled",l.saving)("required",l.getPermission("handicapped").required)("editing",l.isEditingField("handicapped")&&l.handicappedOptions.length>1)}}function Oe(A,Z){1&A&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&A&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"ACTION.SAVE")))}function be(A,Z){1&A&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275element(1,"i",26),t.\u0275\u0275elementEnd())}function G(A,Z){if(1&A){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",21)(1,"div",22)(2,"div",23)(3,"button",24),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(l);const oe=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(oe.save())}),t.\u0275\u0275template(4,Oe,3,3,"span",5),t.\u0275\u0275template(5,be,2,0,"span",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",25),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(l);const oe=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(oe.toggleEditMode())}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&A){const l=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",!l.personalInfoForm.valid||l.saving||l.isProxyUser),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!l.saving),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.saving),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,4,"ACTION.CANCEL")," ")}}function X(A,Z){if(1&A){const l=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",10),t.\u0275\u0275listener("submit",function(){t.\u0275\u0275restoreView(l);const oe=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(oe.save())}),t.\u0275\u0275elementStart(1,"div",11),t.\u0275\u0275template(2,T,4,17,"div",12),t.\u0275\u0275template(3,x,7,8,"div",12),t.\u0275\u0275template(4,j,4,18,"div",12),t.\u0275\u0275template(5,q,4,18,"div",12),t.\u0275\u0275template(6,J,3,13,"div",12),t.\u0275\u0275template(7,le,3,13,"div",12),t.\u0275\u0275template(8,Ie,3,12,"div",12),t.\u0275\u0275template(9,Pe,3,13,"div",12),t.\u0275\u0275template(10,Ee,8,11,"div",12),t.\u0275\u0275template(11,ge,3,13,"div",12),t.\u0275\u0275template(12,Ce,3,13,"div",12),t.\u0275\u0275template(13,ye,3,13,"div",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(14,G,9,6,"div",13),t.\u0275\u0275elementEnd()}if(2&A){const l=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("formGroup",l.personalInfoForm),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",l.hasPermission("birthDate",l.PERMISSION_ACTIONS.READ)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.hasField("age")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!l.hideGender&&l.hasPermission("gender",l.PERMISSION_ACTIONS.READ)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.hasPermission("genderDesignation",l.PERMISSION_ACTIONS.READ)||!l.hideGenderDesignation),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.hasPermission("preferredPronoun",l.PERMISSION_ACTIONS.READ)||!l.hidePronoun),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.hasPermission("ethnicCode",l.PERMISSION_ACTIONS.READ)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.hasPermission("nickname",l.PERMISSION_ACTIONS.READ)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.hasPermission("maritalStatus",l.PERMISSION_ACTIONS.READ)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.hasPermission("dateMarried",l.PERMISSION_ACTIONS.READ)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!l.hideTobacco&&l.hasPermission("tobaccoUser",l.PERMISSION_ACTIONS.READ)||l.hasPermission("tobaccoUser",l.PERMISSION_ACTIONS.WRITE)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!l.hideBlind&&l.hasPermission("blind",l.PERMISSION_ACTIONS.READ)||l.hasPermission("blind",l.PERMISSION_ACTIONS.WRITE)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!l.hideDisabled&&l.hasPermission("handicapped",l.PERMISSION_ACTIONS.READ)||l.hasPermission("handicapped",l.PERMISSION_ACTIONS.WRITE)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.isEditing)}}function c(A,Z){if(1&A&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,M,1,0,"phr-block-loader",7),t.\u0275\u0275template(2,X,15,14,"form",8),t.\u0275\u0275elementEnd()),2&A){const l=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",l.loading&&l.isEditing||l.codesLoading),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!(l.loading&&l.isEditing||l.codesLoading))}}let ee=(()=>{class A{constructor(l,K,oe,me,Re){this.configService=l,this.translateService=K,this.employeesService=oe,this.employeeDropdownService=me,this.fb=Re,this.saving=!1,this.onEmployeeUpdate=new t.EventEmitter,this.codesLoading=!1,this.isEditing=!1,this.loading=!1,this.hideGender=!1,this.hideTobacco=!1,this.hideDisabled=!1,this.hideBlind=!1,this.hideGenderDesignation=!1,this.hidePronoun=!1,this.maxDate=i()().format("MM/DD/YYYY"),this.minDate=i()().subtract(117,"years").format("MM/DD/YYYY"),this.defaultVal={value:null,display:this.translateService.instant("LABEL.SELECT_ONE")},this.tobaccoOptions=[],this.handicappedOptions=[],this.blindOptions=[],this.genderOptions=(0,e.so)(this.translateService.instant.bind(this.translateService)),this.personalInfoForm=this.fb.group({}),this.PERMISSION_ACTIONS=e.pg,this.hasField=ve=>ve in this.employee,this.getDate=ve=>this.isEditing?ve:ve&&ve.replace(/Z$/,""),this.getPermission=ve=>this.employeesService.getPermission(ve),this.hasPermission=(ve,f=e.pg.WRITE)=>(0,e.Fs)(this.employeesService.permissions,[ve],f),this.canEdit=()=>(0,e.Fs)(this.employeesService.permissions,e.dL,e.pg.WRITE),this.isEditingField=ve=>this.isEditing&&this.hasPermission(ve,e.pg.WRITE)&&!this.loading}get age(){return this.employee&&this.employee.birthDate?i()().get("year")-i()(this.employee.birthDate).get("year"):null}get genderDesignationVal(){return this.employee?this.getVal(this.genderDesignationOpts,this.employee.genderDesignation):null}get genderVal(){return this.employee?this.getVal(this.genderOptions,this.employee.gender):null}get pronounVal(){return this.employee?this.getVal(this.pronounOpts,this.employee.preferredPronoun):null}get maritalVal(){return this.employee?this.getVal(this.maritalOpts,this.employee.maritalStatus):null}get tobaccoVal(){return this.employee?this.getVal(this.tobaccoOptions,this.employee.tobaccoUser):null}get blindVal(){return this.employee?this.getVal(this.blindOptions,this.employee.blind):null}get disabledVal(){return this.employee?this.getVal(this.handicappedOptions,this.employee.handicapped):null}get genderTooltipPlacement(){return window.innerWidth<=v.a.bootstrapSM?"top":"right"}ngOnChanges(l){l.saving&&!1===l.saving.currentValue&&(this.isEditing=!1)}ngOnInit(){const{hideGenderDesignation:l,hidePronoun:K,hideBlind:oe,hideDisabled:me,hideTobacco:Re,hideGender:ve}=this.configService.config;this.initForm(),this.loadCodes(),this.getPersonalInfoCodes(),this.hideGender=ve,this.hideTobacco=Re,this.hideDisabled=me,this.hideBlind=oe,this.hideGenderDesignation=l,this.hidePronoun=K}toggleEditMode(){this.isEditing=!this.isEditing}loadCodes(){this.tobaccoOptions=this.employeesService.yesNoOptions,this.handicappedOptions=this.employeesService.handicappedOptions,this.blindOptions=this.employeesService.yesNoOptions}save(){this.personalInfoForm.valid&&this.onEmployeeUpdate.emit({...this.personalInfoForm.value,birthDate:this.personalInfoForm.controls.birthDate.value,employeeId:this.employee.employeeId})}getVal(l,K){if(!(0,_.Of)(l)||!(0,_.t$)(K))return null;const oe=l.find(me=>me.value===K);return(0,_.t$)(oe)?oe.display:null}initForm(){e.dL.forEach(l=>{if(this.hasPermission(l,e.pg.WRITE)){const K=new RegExp("date","i").test(l)?i()(new Date(this.employee[l])).add(1,"day"):this.employee[l],oe=!!this.employeesService.permissions.find(me=>me.property===l).required;this.personalInfoForm.addControl(l,new y.FormControl(K,{validators:oe?y.Validators.required:null}))}})}getPersonalInfoCodes(){this.codesLoading=!0,(0,p.aj)([this.employeeDropdownService.getGenderDesignationOpts(),this.employeeDropdownService.getPronounOpts(),this.employeeDropdownService.getEthnicCodes(),this.employeeDropdownService.getMaritalCodes()]).subscribe(([l,K,oe,me])=>{this.genderDesignationOpts=l,this.pronounOpts=K,this.ethnicOpts=oe,this.maritalOpts=me,this.codesLoading=!1})}}return A.\u0275fac=function(l){return new(l||A)(t.\u0275\u0275directiveInject(C.oV),t.\u0275\u0275directiveInject(O.sK),t.\u0275\u0275directiveInject(N.M),t.\u0275\u0275directiveInject(P.I),t.\u0275\u0275directiveInject(y.FormBuilder))},A.\u0275cmp=t.\u0275\u0275defineComponent({type:A,selectors:[["phr-details-personalinfo"]],inputs:{employee:"employee",saving:"saving",isProxyUser:"isProxyUser"},outputs:{onEmployeeUpdate:"onEmployeeUpdate"},features:[t.\u0275\u0275NgOnChangesFeature],decls:9,vars:5,consts:[[1,"py-3","hyphenate"],[1,"pl-0","mb-1"],[1,"d-flex","align-content-center"],[1,""],["class","btn btn-link text-primary cursor-pointer",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-link","text-primary","cursor-pointer",3,"click"],["class","col-12","id","loader",4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],["id","loader",1,"col-12"],[3,"formGroup","submit"],[1,"row","py-2","px-0","col-md-12","col-lg-10","col-xl-7"],["class","py-2",3,"ngClass",4,"ngIf"],["class","col-12 pr-2",4,"ngIf"],[1,"py-2",3,"ngClass"],[3,"control","value","label","disabled","minDate","maxDate","required","editing"],[1,"mb-2"],[3,"label","showTooltip","tooltipText","tooltipPlacement","disabled","options","control","value","required","editing"],[3,"showTooltip","tooltipText","tooltipPlacement","control","value","label","options","disabled","required","editing"],[3,"control","value","label","options","disabled","required","editing"],[3,"control","value","label","disabled","required","editing"],[1,"col-12","pr-2"],[1,"row","pl-0"],[1,"col-6","pl-0"],[1,"btn","btn-primary","mr-3",3,"disabled","click"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(l,K){1&l&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3)(4,"strong"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,S,3,3,"a",4),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(8,c,3,2,"div",5),t.\u0275\u0275elementEnd()),2&l&&(t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,3,"TITLE.PERSONAL_INFO")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",K.canEdit()&&!K.isEditing),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",K.personalInfoForm&&K.personalInfoForm.controls))},dependencies:[d.mk,d.O5,y.\u0275NgNoValidate,y.NgControlStatusGroup,L.E,y.FormGroupDirective,$.s,H.i,W.w,d.uU,O.X$],encapsulation:2}),A})()},66779:(ne,V,a)=>{"use strict";a.r(V),a.d(V,{EmployeesModule:()=>je});var t=a(36895),e=a(34793),y=a(42466),u=a(24006),i=a(29415),_=a(70944),v=a(52885),p=a(10986),C=a(98474),O=a(22260),N=a(8929),P=a(7625),d=a(94650),L=a(51818),$=a(54843),H=a(43242),W=a(17018),S=a(34623),M=a(88452),I=a(48967);function T(U,ie){1&U&&d.\u0275\u0275element(0,"phr-block-loader",3)}function x(U,ie){if(1&U&&d.\u0275\u0275element(0,"phr-user-avatar",11),2&U){const b=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275property("firstName",b.data.firstName)("lastName",b.data.lastName)}}function j(U,ie){}function q(U,ie){}function J(U,ie){if(1&U){const b=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275template(1,x,1,2,"ng-template",null,7,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275elementStart(3,"div",8),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(b);const _e=d.\u0275\u0275nextContext().$implicit,Se=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(Se.setEmployeeId(_e.data))}),d.\u0275\u0275template(4,j,0,0,"ng-template",9),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"div",10),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(b);const _e=d.\u0275\u0275nextContext().$implicit,Se=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(Se.setEmployeeId(_e.data))}),d.\u0275\u0275template(6,q,0,0,"ng-template",9),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainerEnd()}if(2&U){const b=d.\u0275\u0275reference(2);d.\u0275\u0275advance(4),d.\u0275\u0275property("ngTemplateOutlet",b),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",b)}}function le(U,ie){if(1&U&&d.\u0275\u0275text(0),2&U){const b=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275textInterpolate2("",b.data.reportsToFirstName," ",b.data.reportsToLastName,"")}}function Ie(U,ie){1&U&&d.\u0275\u0275text(0,"-")}function Pe(U,ie){}function Ee(U,ie){if(1&U&&d.\u0275\u0275template(0,Pe,0,0,"ng-template",9),2&U){d.\u0275\u0275nextContext();const b=d.\u0275\u0275reference(2);d.\u0275\u0275property("ngTemplateOutlet",b)}}function ge(U,ie){}function Ce(U,ie){if(1&U&&d.\u0275\u0275template(0,ge,0,0,"ng-template",9),2&U){d.\u0275\u0275nextContext();const b=d.\u0275\u0275reference(4);d.\u0275\u0275property("ngTemplateOutlet",b)}}function ye(U,ie){if(1&U&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275template(1,le,1,2,"ng-template",null,12,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(3,Ie,1,0,"ng-template",null,13,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275elementStart(5,"div"),d.\u0275\u0275template(6,Ee,1,1,null,2),d.\u0275\u0275template(7,Ce,1,1,null,2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainerEnd()),2&U){const b=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(6),d.\u0275\u0275property("ngIf",b.data.reportsToLastName),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!b.data.reportsToLastName)}}function Oe(U,ie){if(1&U&&(d.\u0275\u0275template(0,J,7,2,"ng-container",2),d.\u0275\u0275template(1,ye,8,2,"ng-container",2)),2&U){const b=ie.$implicit;d.\u0275\u0275property("ngIf","lastName"===(null==b?null:b.property)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","reportsToLastName"===(null==b?null:b.property))}}const be=function(){return["lastName","reportsToLastName"]};function G(U,ie){if(1&U){const b=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div")(1,"phr-table-controls-component",4),d.\u0275\u0275listener("onColumnSelectionChange",function(_e){d.\u0275\u0275restoreView(b);const Se=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(Se.handleColumnVisibilityChange(_e))})("onFilterSelect",function(_e){d.\u0275\u0275restoreView(b);const Se=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(Se.handleFilterChanged(_e))})("onSearchStringChange",function(_e){d.\u0275\u0275restoreView(b);const Se=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(Se.handleSearchStringChange(_e))})("onFiltersChange",function(_e){d.\u0275\u0275restoreView(b);const Se=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(Se.handleFiltersChanged(_e))}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(2,"phr-table-component",5),d.\u0275\u0275listener("onSort",function(_e){d.\u0275\u0275restoreView(b);const Se=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(Se.handleSortChange(_e))}),d.\u0275\u0275template(3,Oe,2,2,"ng-template",null,6,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275elementEnd()()}if(2&U){const b=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("messages",b.tableTranslationsService.controlsMessages)("filters",b.filters)("tableColumns",b.employeesService.tableColumnsConfigs)("tableColumnsState",b.employeesService.tableColumnsState)("searchString",b.searchString),d.\u0275\u0275advance(1),d.\u0275\u0275property("data",b.employees)("tableColumns",b.employeesService.tableColumns)("templates",d.\u0275\u0275pureFunction0(15,be))("filters",b.filters)("searchString",b.searchString)("mobileColCount",2)("itemsPerPage",10)("_searchFields",b.searchFields)("paginationMessages",b.tableTranslationsService.paginationMessages)("noRowsMessage",b.noRowsMessage)}}const ee=[{path:"",component:(()=>{class U{constructor(b,te,_e,Se,Ye,Ke,ke,ze){this.employeesService=b,this.translateService=te,this.tableTranslationsService=_e,this.breadcrumbService=Se,this.authService=Ye,this.route=Ke,this.router=ke,this.modalService=ze,this.loading=!0,this.employees=[],this.filters=[],this.searchString="",this.detailsModalOpened=!1,this.tableStateKey="my-employees",this.destroy$=new N.xQ}setBreadcrumbs(){this.breadcrumbService.setBreadcrumbItems([{url:"/ess/home"},{url:"/ess/manager/employees"}])}ngOnInit(){this.setBreadcrumbs(),this.applyColumns(),this.loadEmployees(),this.translateService.onLangChange.pipe((0,P.R)(this.destroy$)).subscribe(()=>this.setBreadcrumbs()),this.authService.loadUser().subscribe(b=>{this.employee=b,this.tableStateKey+=":"+b.id}),this.route.queryParamMap.pipe((0,P.R)(this.destroy$)).subscribe(b=>{const te=b.params.employeeId;te&&!this.detailsModalOpened&&this.openEmployeeDetails(te)})}get searchFields(){const b=this.employeesService.tableColumns.filter(te=>te.visible).map(te=>te.property);return b.includes("lastName")&&b.push("firstName"),b}get noRowsMessage(){return this.searchString&&this.searchString.length>0||this.filters&&this.filters.some(b=>!C.iZ.allFieldsSelected(b))?this.translateService.instant("ERROR.NO_ROWS_FILTERS"):this.translateService.instant("ERROR.NO_ROWS")}get activeSort(){return this.employeesService.tableColumns.find(b=>null!==b.direction)}handleSearchStringChange(b){this.searchString=b}handleFilterChanged(b){const te=this.filters.findIndex(_e=>_e.attribute.property===b.attribute.property);this.filters[te]=b}handleFiltersChanged(b){this.filters=b}handleEmployeeUpdated(b){this.employees=this.employees.map(te=>te.employeeId===b.employeeId?b:te)}openEmployeeDetails(b){const te=new N.xQ,_e=this.modalService.open(O.v,{size:"lg",windowClass:"full employee-details"});this.detailsModalOpened=!0,_e.componentInstance.clientId=this.authService.getActiveClientId(),_e.componentInstance.employeeId=b,_e.componentInstance.onEmployeeUpdated.pipe((0,P.R)(te)).subscribe(Se=>this.handleEmployeeUpdated(Se)),_e.result.then(()=>{this.onModalClose(),te.next(),te.complete()}).catch(()=>{this.onModalClose(),te.next(),te.complete()})}setEmployeeId(b){this.router.navigate(["/ess/manager/employees"],{queryParams:{employeeId:b.employeeId},queryParamsHandling:"merge"})}initFilters(){this.filters=C.iZ.buildFilters(this.employeesService.tableColumns,this.employees)}loadEmployees(){this.loading=!0,this.employeesService.getEmployees().subscribe(b=>{this.employees=b,this.clientId=this.employeesService.clientId,this.employeesService.initState(),this.employeesService.localize(),this.initFilters(),this.loading=!1},()=>this.loading=!1)}handleSortChange(b){return this.employeesService.tableColumns.map(te=>(te.direction=te.property===b.property?b.direction:null,te))}handleColumnVisibilityChange(){this.applyColumns(),this.initFilters()}applyColumns(){this.employeesService.tableColumns=this.employeesService.tableColumnsConfigs.map(b=>({...b})),this.employeesService.saveState()}onModalClose(){this.router.navigate(["/ess/manager/employees"],{queryParams:{}}),this.detailsModalOpened=!1}}return U.\u0275fac=function(b){return new(b||U)(d.\u0275\u0275directiveInject(L.M),d.\u0275\u0275directiveInject(y.sK),d.\u0275\u0275directiveInject($.L),d.\u0275\u0275directiveInject(H.Vn),d.\u0275\u0275directiveInject(W.e),d.\u0275\u0275directiveInject(e.gz),d.\u0275\u0275directiveInject(e.F0),d.\u0275\u0275directiveInject(v.FF))},U.\u0275cmp=d.\u0275\u0275defineComponent({type:U,selectors:[["ng-component"]],decls:4,vars:2,consts:[[1,"container-fluid"],["id","loader",4,"ngIf"],[4,"ngIf"],["id","loader"],[3,"messages","filters","tableColumns","tableColumnsState","searchString","onColumnSelectionChange","onFilterSelect","onSearchStringChange","onFiltersChange"],[3,"data","tableColumns","templates","filters","searchString","mobileColCount","itemsPerPage","_searchFields","paginationMessages","noRowsMessage","onSort"],["cell",""],["employeeName",""],[1,"d-none","d-md-flex","cursor-pointer","text-primary",3,"click"],[3,"ngTemplateOutlet"],[1,"cursor-pointer","d-flex","d-md-none","col-12","pb-2","pt-0","mb-3","border","border-top-0","border-left-0","border-right-0","border-bottom-dark","text-primary",3,"click"],[3,"firstName","lastName"],["reportsToLastName",""],["reportsToLastNameDoesNotExist",""]],template:function(b,te){1&b&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275element(1,"phr-page-heading"),d.\u0275\u0275template(2,T,1,0,"phr-block-loader",1),d.\u0275\u0275template(3,G,5,16,"div",2),d.\u0275\u0275elementEnd()),2&b&&(d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",te.loading),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!te.loading))},dependencies:[t.O5,t.tP,S.F,M.E,I.k,C.RT,C.y],encapsulation:2}),U})()},{path:"request",outlet:"pto-router",component:a(66402)._}];let A=(()=>{class U{}return U.\u0275fac=function(b){return new(b||U)},U.\u0275mod=d.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=d.\u0275\u0275defineInjector({imports:[e.Bz.forChild(ee),e.Bz]}),U})();var Z=a(61354),l=a(64105),f=(a(39017),a(3724),a(92841),a(23478),a(69768),a(43411)),k=a(17150),o=a(78376),Q=a(21985),D=(a(70635),a(90214),a(73763),a(79239),a(24846)),E=(a(18029),a(46761));let B=(()=>{class U{}return U.\u0275fac=function(b){return new(b||U)},U.\u0275mod=d.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=d.\u0275\u0275defineInjector({imports:[t.ez,v.lQ]}),U})(),ae=(()=>{class U{}return U.\u0275fac=function(b){return new(b||U)},U.\u0275mod=d.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=d.\u0275\u0275defineInjector({imports:[t.ez]}),U})();var he=a(31609),De=a(72731),Be=a(68973),Fe=a(73012),Me=a(83823),Ae=a(12183),xe=a(79855);let He=(()=>{class U{}return U.\u0275fac=function(b){return new(b||U)},U.\u0275mod=d.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=d.\u0275\u0275defineInjector({providers:[Me.a,Ae.j,xe.$]}),U})(),je=(()=>{class U{}return U.\u0275fac=function(b){return new(b||U)},U.\u0275mod=d.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=d.\u0275\u0275defineInjector({providers:[p.e,De.o,Be.Z,he.m,Fe.A],imports:[e.Bz,v.IJ,t.ez,u.FormsModule,_.p,A,i.j,Z.R,o.EmergencyContactsModule,y.aw,C.JT,f.PtoModule,u.ReactiveFormsModule,k.LK,l.e,Q.z,D.ForgotPasswordModule,E.EssModule,B,ae,He]}),U})()},51976:(ne,V,a)=>{"use strict";a.d(V,{Ij:()=>e,Q4:()=>y,i1:()=>t});var t=(()=>{return(u=t||(t={})).HIDDEN="HIDDEN",u.READONLY="READONLY",u.FULL="FULL",t;var u})();const e=(u,i,_)=>u.findIndex(v=>v.dict===i&&v.visibility===_)>-1,y=(u,i,_)=>{const v=new Map;return Object.values(i).forEach(p=>v.set(p,1)),u.filter(p=>v.has(p.dict)).every(p=>p.visibility===_)}},81554:(ne,V,a)=>{"use strict";a.d(V,{Z:()=>e,n:()=>t});const t=[{label:"ACTION.RESET_PASSWORD",id:"resetpassword",shouldHaveAccess:!1},{label:"TITLE.POSITION_CHANGE",id:"positionchange",shouldHaveAccess:!0},{label:"TITLE.PAY_RATE_CHANGE",id:"payratechange",shouldHaveAccess:!0},{label:"TITLE.STATUS_TYPE_CHANGE",id:"statustypechange",shouldHaveAccess:!0}];var e=(()=>{return(y=e||(e={})).CHANGE_POSITION="EMPLOYEE.ACTION.FORMS*JOB.CHANGE",y.PAY_CHANGE="EMPLOYEE.ACTION.FORMS*PAY.CHANGE",y.STATUS_CHANGE="EMPLOYEE.ACTION.FORMS*STATUS.CHANGE.ENTRY",y.TERMINATION="EMPLOYEE.ACTION.FORMS*TERM.ENTRY",e;var y})()},36962:(ne,V,a)=>{"use strict";a.d(V,{G:()=>t});var t=(()=>{return(e=t||(t={})).Job="J",e.PayRate="P",e.StatusType="S",e.Termination="T",t;var e})()},73012:(ne,V,a)=>{"use strict";a.d(V,{A:()=>_});var t=a(87224),e=a(24850),y=a(94650),u=a(80529),i=a(27111);let _=(()=>{class v{constructor(C,O){this.http=C,this.domainService=O,this._apiUrl=this.domainService.getEssApiPath()}getReasonCodes(C){return this.http.get(`${this._apiUrl}/system/reason-codes/${C}`,{withCredentials:!0}).pipe((0,t.P)())}getJobCodes(C){return this.http.get(`${this._apiUrl}/clients/${C}/job-codes`,{withCredentials:!0}).pipe((0,t.P)())}getStatuses(C){return this.http.get(`${this._apiUrl}/system/employee-statuses/${C}`).pipe((0,t.P)())}getTypes(C){return this.http.get(`${this._apiUrl}/clients/${C}/employee-types`).pipe((0,t.P)())}getFieldPermissions(C){return this.http.get(`${this._apiUrl}/user/${C}/permissions`).pipe((0,t.P)(),(0,e.U)(({data:O})=>O??[]))}}return v.\u0275fac=function(C){return new(C||v)(y.\u0275\u0275inject(u.eN),y.\u0275\u0275inject(i.NF))},v.\u0275prov=y.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})()},31609:(ne,V,a)=>{"use strict";a.d(V,{m:()=>v});var t=a(37623),e=(()=>{return(p=e||(e={}))[p.OK=0]="OK",p[p.CobraParticipant=1]="CobraParticipant",p[p.CobraActiveStatus=2]="CobraActiveStatus",e;var p})(),y=a(68757),u=a(94650),i=a(52885),_=a(42466);let v=(()=>{class p{constructor(O,N){this.modalService=O,this.translateService=N}showWarning(O,N,P,d){const L=this.modalService.open(O,{backdrop:"static",centered:!0});return L.componentInstance.title=N,L.componentInstance.message=P,L.componentInstance.okButtonText=d,L.result.catch($=>console.log($))}formSaveString(O,N,P,d,L){let $;return $=this.translateService.instant(`MESSAGE.${O}`),$=$.replace("<EMPLOYEE_NAME>",N),$=$.replace("<EMPLOYEE_CURRENT>",P),$=$.replace("<EMPLOYEE_NEXT>",d),$=$.replace("<EMPLOYEE_DATE>",L),$}calcPendingHistoryChange(O){const N=new Date,P=[];return O.forEach(d=>{const L=new Date(d.effectiveDate);(0,t.Z)(L,N)>1&&P.push(d)}),P.sort((d,L)=>(0,t.Z)(new Date(L.effectiveDate),new Date(d.effectiveDate)))[0]}cobraCheck(O){let N=null;switch(O){case e.CobraParticipant:N="MESSAGE.POSITION_CHANGE_MESSAGES.COBRA_PARTICIPANT_ERROR";break;case e.CobraActiveStatus:N="MESSAGE.POSITION_CHANGE_MESSAGES.COBRA_ACTIVE_STATUS"}return(0,y.HH)(N)?this.translateService.instant(N):null}}return p.\u0275fac=function(O){return new(O||p)(u.\u0275\u0275inject(i.FF),u.\u0275\u0275inject(_.sK))},p.\u0275prov=u.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},72731:(ne,V,a)=>{"use strict";a.d(V,{o:()=>i});var t=a(87224),e=a(94650),y=a(80529),u=a(27111);let i=(()=>{class _{constructor(p,C){this.http=p,this.domainService=C,this._baseUrl=this.domainService.getEssApiPath()}getPayRateHistory(p,C){return this.http.get(`${this._baseUrl}/clients/${p}/employees/${C}/paychange/history`,{withCredentials:!0}).pipe((0,t.P)())}savePayRate(p,C,O){return this.http.post(`${this._baseUrl}/clients/${p}/employees/${C}/payrate`,O).pipe((0,t.P)())}validateEffectiveDate(p,C,O){return this.http.post(`${this._baseUrl}/clients/${p}/employees/${C}/validate/pay-rate-effective-date`,{effectiveDate:O}).pipe((0,t.P)())}}return _.\u0275fac=function(p){return new(p||_)(e.\u0275\u0275inject(y.eN),e.\u0275\u0275inject(u.NF))},_.\u0275prov=e.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},10986:(ne,V,a)=>{"use strict";a.d(V,{e:()=>i});var t=a(87224),e=a(94650),y=a(80529),u=a(27111);let i=(()=>{class _{constructor(p,C){this.http=p,this.domainService=C,this.baseUrl=this.domainService.getEssApiPath()}getPositionChangeHistory(p,C){return this.http.get(`${this.baseUrl}/clients/${p}/employees/${C}/position/history`,{withCredentials:!0}).pipe((0,t.P)())}saveNewPosition(p,C,O){return this.http.post(`${this.baseUrl}/clients/${p}/employees/${C}/position`,{...O},{responseType:"json",withCredentials:!0}).pipe((0,t.P)())}}return _.\u0275fac=function(p){return new(p||_)(e.\u0275\u0275inject(y.eN),e.\u0275\u0275inject(u.NF))},_.\u0275prov=e.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},68973:(ne,V,a)=>{"use strict";a.d(V,{Z:()=>i});var t=a(87224),e=a(94650),y=a(80529),u=a(27111);let i=(()=>{class _{constructor(p,C){this.http=p,this.domainService=C,this._apiUrl=this.domainService.getEssApiPath()}getHistory(p,C){return this.http.get(`${this._apiUrl}/clients/${p}/employees/${C}/status-type/history`).pipe((0,t.P)())}saveStatusType(p,C,O){return this.http.post(`${this._apiUrl}/clients/${p}/employees/${C}/status-type`,O).pipe((0,t.P)())}}return _.\u0275fac=function(p){return new(p||_)(e.\u0275\u0275inject(y.eN),e.\u0275\u0275inject(u.NF))},_.\u0275prov=e.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})()},72860:(ne,V,a)=>{"use strict";a.d(V,{r:()=>t});const t=e=>e&&!Number.isNaN(+e)&&/^(\d{4}\d{3}\d{3})$/.test(e)?e.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):e},88341:(ne,V,a)=>{"use strict";a.d(V,{O:()=>t});class t{constructor(y){this.active=!1,this.level=0,this.children=null,this.parent=null,this.path=null,this.shouldHaveAccess=!1,Object.assign(this,y)}}},64105:(ne,V,a)=>{"use strict";a.d(V,{e:()=>y});var t=a(36895),e=a(94650);let y=(()=>{class u{}return u.\u0275fac=function(_){return new(_||u)},u.\u0275mod=e.\u0275\u0275defineNgModule({type:u}),u.\u0275inj=e.\u0275\u0275defineInjector({imports:[t.ez]}),u})()},37623:(ne,V,a)=>{"use strict";a.d(V,{Z:()=>i});var t=a(9868),e=a(28115),y=a(40833),u=864e5;function i(_,v){(0,y.Z)(2,arguments);var p=(0,e.Z)(_),C=(0,e.Z)(v),O=p.getTime()-(0,t.Z)(p),N=C.getTime()-(0,t.Z)(C);return Math.round((O-N)/u)}},53065:function(ne){ne.exports=function(V){function a(e){if(t[e])return t[e].exports;var y=t[e]={exports:{},id:e,loaded:!1};return V[e].call(y.exports,y,y.exports,a),y.loaded=!0,y.exports}var t={};return a.m=V,a.c=t,a.p="",a(0)}([function(V,a,t){"use strict";function e(_){return _&&_.__esModule?_:{default:_}}Object.defineProperty(a,"__esModule",{value:!0});var y=t(1);Object.defineProperty(a,"createAutoCorrectedDatePipe",{enumerable:!0,get:function(){return e(y).default}});var u=t(2);Object.defineProperty(a,"createNumberMask",{enumerable:!0,get:function(){return e(u).default}});var i=t(3);Object.defineProperty(a,"emailMask",{enumerable:!0,get:function(){return e(i).default}})},function(V,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm dd yyyy";return function(y){var u=[],i=e.split(/[^dmy]+/),_={dd:31,mm:12,yy:99,yyyy:9999},v={dd:1,mm:1,yy:0,yyyy:1},p=y.split("");return i.forEach(function(O){var N=e.indexOf(O),P=parseInt(_[O].toString().substr(0,1),10);parseInt(p[N],10)>P&&(p[N+1]=p[N],p[N]=0,u.push(N))}),!i.some(function(O){var N=e.indexOf(O),P=O.length,d=y.substr(N,P).replace(/\D/g,""),L=parseInt(d,10);return L>_[O]||d.length===P&&L<v[O]})&&{value:p.join(""),indexesOfPipedChars:u}}}},function(V,a){"use strict";function e($){return $.split(_).map(function(H){return d.test(H)?d:H})}function y($,H){return $.replace(/\B(?=(\d{3})+(?!\d))/g,H)}Object.defineProperty(a,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $};a.default=function t(){function $(){var K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,oe=K.length;if(K===_||K[0]===S[0]&&1===oe)return S.split(_).concat([d]).concat(I.split(_));var me=K.lastIndexOf(Pe),Re=-1!==me,ve=K[0]===C&&be,f=void 0,k=void 0,o=void 0;if(K.slice(-1*Z)===I&&(K=K.slice(0,-1*Z)),Re&&(le||ye)?(f=K.slice(K.slice(0,A)===S?A:0,me),k=e((k=K.slice(me+1,oe)).replace(N,_))):f=K.slice(0,A)===S?K.slice(A):K,ee&&(typeof ee>"u"?"undefined":u(ee))===P){var fe=(f.match(new RegExp("."===q?"[.]":""+q,"g"))||[]).length;f=f.slice(0,ee+fe*l)}return f=f.replace(N,_),X||(f=String(Number(f))),o=e(f=x?y(f,q):f),(Re&&le||!0===ye)&&(K[me-1]!==Pe&&o.push(L),o.push(Pe,L),k&&((typeof ge>"u"?"undefined":u(ge))===P&&(k=k.slice(0,ge)),o=o.concat(k)),!0===ye&&K[me-1]===Pe&&o.push(d)),A>0&&(o=S.split(_).concat(o)),ve&&(o.length===A&&o.push(d),o=[O].concat(o)),I.length>0&&(o=o.concat(I.split(_))),o}var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},W=H.prefix,S=void 0===W?i:W,M=H.suffix,I=void 0===M?_:M,T=H.includeThousandsSeparator,x=void 0===T||T,j=H.thousandsSeparatorSymbol,q=void 0===j?v:j,J=H.allowDecimal,le=void 0!==J&&J,Ie=H.decimalSymbol,Pe=void 0===Ie?p:Ie,Ee=H.decimalLimit,ge=void 0===Ee?2:Ee,Ce=H.requireDecimal,ye=void 0!==Ce&&Ce,Oe=H.allowNegative,be=void 0!==Oe&&Oe,G=H.allowLeadingZeroes,X=void 0!==G&&G,c=H.integerLimit,ee=void 0===c?null:c,A=S&&S.length||0,Z=I&&I.length||0,l=q&&q.length||0;return $.instanceOf="createNumberMask",$};var i="$",_="",v=",",p=".",C="-",O=/-/,N=/\D+/g,P="number",d=/\d/,L="[]"},function(V,a,t){"use strict";function u(T,x,j){var q=[];return T[x]===j?q.push(j):q.push($,j),q.push($),q}function p(T,x){return T.split(d).map(function(j){return j===H?j:x?M:S})}Object.defineProperty(a,"__esModule",{value:!0});var O=function e(T){return T&&T.__esModule?T:{default:T}}(t(4)),N="*",P=".",d="",L="@",$="[]",H=" ",W="g",S=/[^\s]/,M=/[^.\s]/,I=/\s/g;a.default={mask:function y(T,x){T=T.replace(I,d);var j=x.placeholderChar,q=x.currentCaretPosition,J=T.indexOf(L),le=T.lastIndexOf(P),Ie=le<J?-1:le,Pe=u(T,J+1,L),Ee=u(T,Ie-1,P),ge=function i(T,x){return-1===x?T:T.slice(0,x)}(T,J),Ce=function _(T,x,j,q){var J=d;return-1!==x&&(J=T.slice(x+1,-1===j?T.length:j)),(J=J.replace(new RegExp("[\\s"+q+"]",W),d))===L?N:J.length<1?H:J[J.length-1]===P?J.slice(0,J.length-1):J}(T,J,Ie,j),ye=function v(T,x,j,q){var J=d;return-1!==x&&(J=T.slice(x+1,T.length)),0===(J=J.replace(new RegExp("[\\s"+j+".]",W),d)).length?T[x-1]===P&&q!==T.length?N:d:J}(T,Ie,j,q);return ge=p(ge),Ce=p(Ce),ye=p(ye,!0),ge.concat(Pe).concat(Ce).concat(Ee).concat(ye)},pipe:O.default}},function(V,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function t(N,P){var d=P.currentCaretPosition,L=P.rawValue,$=P.previousConformedValue,H=P.placeholderChar,W=N,S=(W=function e(N){var P=0;return N.replace(u,function(){return 1==++P?y:i})}(W)).indexOf(_);if(null===L.match(new RegExp("[^@\\s."+H+"]")))return i;if(-1!==W.indexOf(p)||-1!==S&&d!==S+1||-1===L.indexOf(y)&&$!==i&&-1!==L.indexOf(v))return!1;var I=W.indexOf(y);return(W.slice(I+1,W.length).match(O)||C).length>1&&W.substr(-1)===v&&d!==L.length&&(W=W.slice(0,W.length-1)),W};var y="@",u=/@/g,i="",_="@.",v=".",p="..",C=[],O=/\./g}])}}]);