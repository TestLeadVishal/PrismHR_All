"use strict";(self.webpackChunkprismhr_ess=self.webpackChunkprismhr_ess||[]).push([[3098],{13098:(D,b,o)=>{o.r(b),o.d(b,{ApprovalsModule:()=>O});var d=o(36895),y=o(34793),A=o(42466),e=o(24006),g=o(29415),v=o(43242),E=o(52885),C=o(98474),L=o(61354),h=o(64105),f=o(49954),p=o(94650);const c=[{path:"",component:f.s}];let x=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=p.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=p.\u0275\u0275defineInjector({imports:[y.Bz.forChild(c),y.Bz]}),_})();var S=o(66779),B=o(35830);o(37738);let O=(()=>{class _{}return _.\u0275fac=function(R){return new(R||_)},_.\u0275mod=p.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=p.\u0275\u0275defineInjector({providers:[B.G],imports:[y.Bz,E.IJ,d.ez,e.FormsModule,v.pk,x,g.j,L.R,A.aw,C.JT,S.EmployeesModule,h.e]}),_})()},37738:(D,b,o)=>{o.d(b,{p:()=>A});var d=o(94650),y=o(52885);let A=(()=>{class e{constructor(v){this.activeModal=v,this.iframeUrl=""}ngOnInit(){}}return e.\u0275fac=function(v){return new(v||e)(d.\u0275\u0275directiveInject(y.Kz))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["phr-i9-review-modal"]],inputs:{iframeUrl:"iframeUrl"},decls:5,vars:1,consts:[[1,"container-fluid","landscape-view"],[1,"row","mb-5"],["id","i9IframeModalCloseButton",1,"d-none","d-block","fas","fa-times","fa-lg","pull-right","cursor-pointer","mb-5",2,"right","10px","top","10px","position","absolute",3,"click"],[1,"row"],["frameborder","0",2,"width","100%","border","none",3,"src"]],template:function(v,E){1&v&&(d.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"i",2),d.\u0275\u0275listener("click",function(){return E.activeModal.close()}),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(3,"div",3),d.\u0275\u0275element(4,"iframe",4),d.\u0275\u0275elementEnd()()),2&v&&(d.\u0275\u0275advance(4),d.\u0275\u0275property("src",E.iframeUrl,d.\u0275\u0275sanitizeResourceUrl))},styles:[".modal-open .modal.i9-review.full{z-index:999999999}.modal-open .modal.i9-review.full .modal-dialog{max-width:900px!important}.landscape-view{height:80vh}.landscape-view div:nth-child(1){height:1%}.landscape-view div:nth-child(2){height:93%}\n"],encapsulation:2}),e})()},49954:(D,b,o)=>{o.d(b,{L:()=>P,s:()=>we});var d=o(15439),y=o.n(d),A=o(87224),e=o(94650),g=o(35830),v=o(34793),E=o(42466),C=o(52885),L=o(14811),h=o(90525),f=o(36895),p=o(24006),c=o(88452),x=o(48967);function S(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"b",21),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate4(" ",e.\u0275\u0275pipeBind1(2,4,"LABEL.REVIEW"),": ",t.approval.employee.firstName," ",t.approval.employee.lastName,"'s ",e.\u0275\u0275pipeBind1(3,6,"LABEL.LEAVE_REQUEST"),"")}}function B(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"b",21),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate4(" ",e.\u0275\u0275pipeBind1(2,4,"LABEL.REVIEW"),": ",t.approval.employee.firstName," ",t.approval.employee.lastName,"'s ",e.\u0275\u0275pipeBind1(3,6,"LABEL.I9_LEAVE_REQUEST"),"")}}function M(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",10)(1,"b",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,2,"LABEL.EMPLOYEE_TYPE"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.approval.employee.type)}}function w(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",10)(1,"b",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",12),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,2,"LABEL.STATUS"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.approval.employee.employeeStatusCode&&t.approval.employee.employeeStatusCode.fullDescription||"-"," ")}}function O(a,l){1&a&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275element(1,"phr-block-loader",23),e.\u0275\u0275elementEnd())}function _(a,l){1&a&&e.\u0275\u0275elementContainer(0)}function T(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div")(1,"div",8),e.\u0275\u0275template(2,_,1,0,"ng-container",24),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext(),n=e.\u0275\u0275reference(25),r=e.\u0275\u0275reference(27);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","LR"===t.approval.type)("ngIfThen",n)("ngIfElse",r)}}function R(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",25),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.closeModal())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"ACTION.CLOSE_WINDOW")," "))}const V=function(a,l,t,n){return{"fa-check":a,"text-success":l,"fa-times":t,"text-danger":n}};function U(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",34)(1,"b"),e.\u0275\u0275element(2,"i",35),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(4,V,t.approval.approved,t.approval.approved,t.approval.denied,t.approval.denied)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,2,t.approval.approved?"LABEL.APPROVED":"LABEL.DENIED"),"")}}function F(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ACTION.APPROVE")))}function k(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",40),e.\u0275\u0275elementEnd())}function j(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.approveApproval())}),e.\u0275\u0275template(1,F,3,3,"span",16),e.\u0275\u0275template(2,k,2,0,"span",16),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",t.saving||t.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.saving||t.saving&&t.approval.denied),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.saving&&t.approval.approved)}}function $(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ACTION.DENY")))}function K(a,l){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",40),e.\u0275\u0275elementEnd())}function Y(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",41),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.toggleDenialForm(r.approval))}),e.\u0275\u0275template(1,$,3,3,"span",16),e.\u0275\u0275template(2,K,2,0,"span",16),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("disabled",t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.saving||t.saving&&t.approval.approved),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.saving&&t.approval.denied)}}function z(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",36),e.\u0275\u0275template(1,j,3,3,"button",37),e.\u0275\u0275template(2,Y,3,3,"button",38),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","LR"===t.approval.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","LR"===t.approval.type)}}function H(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",28)(1,"div",27)(2,"div",42)(3,"label")(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"textarea",43),e.\u0275\u0275listener("ngModelChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.approval.denialReason=r)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"div",44)(9,"div",45)(10,"button",39),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.denyApproval())}),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",46),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.toggleDenialForm(r.approval))}),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,5,"LABEL.PROVIDE_DENY_REASON")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.approval.denialReason),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!t.approval.denialReason||t.approval.denialReason.length<3||t.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,7,"ACTION.SUBMIT")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,9,"ACTION.CANCEL")," ")}}function Q(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",26)(1,"div",27)(2,"div",28),e.\u0275\u0275element(3,"div",29),e.\u0275\u0275elementStart(4,"div",30),e.\u0275\u0275template(5,U,5,9,"div",31),e.\u0275\u0275template(6,z,3,2,"div",32),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,H,16,11,"div",33),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",t.approval.approved||t.approval.denied),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.approval.isDenying&&!t.approval.approved&&!t.approval.denied),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.approval.isDenying&&!t.approval.denied&&!t.approval.approved)}}function G(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",57)(1,"div",51)(2,"div",48)(3,"b"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",48)(9,"b"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"p"),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",48)(15,"b"),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p"),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",48)(21,"b"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"p"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"div",52)(27,"b"),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"p")(31,"b"),e.\u0275\u0275text(32),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"div",53)(36,"div",54)(37,"b"),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"h2",55)(41,"strong"),e.\u0275\u0275text(42),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"p"),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"translate"),e.\u0275\u0275elementEnd()()()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,14,"LABEL.CARRYOVER_HOURS")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.ptoType.carryover||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,16,"LABEL.YTD_ACCRUED")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.ptoType.accrued||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,18,"LABEL.YTD_TAKEN")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.ptoType.taken||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,20,"LABEL.PENDING_TIME_OFF")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.ptoType.planned||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,22,"LABEL.YTD_AVAILABLE")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.ptoService.calculateAvailableHours(t.ptoType)||"-"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,24,"LABEL.HOURS")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,26,"LABEL.YTD_AVAILABLE")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.ptoService.calculateAvailableHours(t.ptoType)||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(45,28,"LABEL.HOURS"))}}function W(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",28)(1,"div",47)(2,"div",48)(3,"b"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",48)(10,"b"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"p"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",48)(16,"b"),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"p"),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",48)(22,"b"),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"p"),e.\u0275\u0275text(26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div",48)(28,"b"),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"p"),e.\u0275\u0275text(32),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div",49)(34,"div",50)(35,"div",51)(36,"div",48)(37,"b"),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"p"),e.\u0275\u0275text(41),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",48)(43,"b"),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"p"),e.\u0275\u0275text(47),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(48,"div",52)(49,"b"),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"p")(53,"b"),e.\u0275\u0275text(54),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(55),e.\u0275\u0275pipe(56,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(57,"div",53)(58,"div",54)(59,"b"),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"h2",55)(63,"strong"),e.\u0275\u0275text(64),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(65,"p"),e.\u0275\u0275text(66),e.\u0275\u0275pipe(67,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(68,G,46,30,"div",56),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,22,"LABEL.APPROVAL_TYPE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,24,"LABEL.LEAVE_REQUEST")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,26,"LABEL.GENERATED_BY")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",t.approval.employee.firstName," ",t.approval.employee.lastName,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,28,"LABEL.GENERATED_ON")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.formatDate(t.approval.generatedOn)||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,30,"LABEL.LEAVE_TYPE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.approval.leaveRequest.absenceTypeCode),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(30,32,"LABEL.COMMENT")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.approval.leaveRequest.comments||"-"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(39,34,"LABEL.START_DATE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.formatDate(t.approval.leaveRequest.startDate)||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(45,36,"LABEL.END_DATE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.formatDate(t.approval.leaveRequest.endDate)||"-"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(51,38,"LABEL.REQUESTED")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.approval.leaveRequest.hours||"-"),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(56,40,"LABEL.HOURS")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(61,42,"LABEL.REQUESTED")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.approval.leaveRequest.hours||"-"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(67,44,"LABEL.HOURS")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.ptoType)}}function Z(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",58)(1,"b",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",28)(5,"div",59)(6,"div",48)(7,"b"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"p"),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",48)(14,"b"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"p"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",48)(20,"b"),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"p"),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(25,"div",49)(26,"div",28)(27,"div",51)(28,"div",48)(29,"b"),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"p"),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",48)(35,"b"),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"p"),e.\u0275\u0275text(39),e.\u0275\u0275elementEnd()()()()()()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,12,"LABEL.APPROVAL_DETAILS")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,14,"LABEL.APPROVAL_TYPE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,16,"LABEL.I9_LEAVE_REQUEST")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,18,"LABEL.DUE_DATE")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.formatDate(t.approval.dueDate)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,20,"LABEL.COMMENT")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate((null==t.approval.leaveRequest?null:t.approval.leaveRequest.comments)||"-"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(31,22,"LABEL.GENERATED_BY")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",t.approval.employee.firstName," ",t.approval.employee.lastName,""),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(37,24,"LABEL.GENERATED_ON")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(t.formatDate(t.approval.generatedOn)||"-")}}let P=(()=>{class a{constructor(t,n,r,i,m,u){this.approvalsService=t,this.router=n,this.translateService=r,this.activeModal=i,this.ptoService=m,this.userStateService=u,this.loaded=!1,this.saving=!1,this.routeRedirect=!0,this.approvalSummary={},this.ptoType=null,this.onApprovalUpdate=function(N){}}ngOnInit(){this.userStateService.session$.pipe((0,A.P)()).subscribe(t=>{this.isProxyUser=!!t?.proxyInfo}),"LR"===this.approval.type?this.loadPtoTypes():this.loaded=!0}hasEmployeeField(t){return t in this.approval.employee}formatDate(t){if(t){const n=y().utc(t);return n.locale(this.translateService.currentLang),n.format("ddd MM/DD/YYYY").replace(/^\w/,r=>r.toUpperCase())}}toggleDenialForm(t){this.approval.isDenying=!t.isDenying}closeModal(){const{approval:t}=this;this.activeModal.close({approved:t.approved,denied:t.denied})}denyApproval(){this.approval.denied=!0,this.approval.isDenying=!1,this.updateApproval(this.approval)}updateApproval(t){this.saving=!0,this.approvalsService.updateStatus(t).subscribe(n=>{this.saving=!1,this.closeModal()},n=>{this.saving=!1,403===n.status?(this.errMessage="An action has already been taken on this approval.",this.closeModal()):401===n.status&&this.activeModal.close(n)})}loadPtoTypes(){this.approval.leaveRequest.ptoTypes?(this.ptoType=this.approval.leaveRequest.ptoTypes.find(t=>t.id===this.approval.leaveRequest.absenceTypeCode),this.loaded=!0):(this.approvalsService.getPtoTypes(this.approval.employeeId).subscribe((t=[])=>{this.approval.leaveRequest.ptoTypes=t,this.ptoType=this.approval.leaveRequest.ptoTypes.find(n=>n.id===this.approval.leaveRequest.absenceTypeCode)},t=>{this.approval.leaveRequest.ptoTypes=[],this.ptoType=null}),this.onApprovalUpdate(this.approval),this.loaded=!0)}approveApproval(){this.approval.approved=!0,this.updateApproval(this.approval)}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(g.G),e.\u0275\u0275directiveInject(v.F0),e.\u0275\u0275directiveInject(E.sK),e.\u0275\u0275directiveInject(C.Kz),e.\u0275\u0275directiveInject(L.M),e.\u0275\u0275directiveInject(h.P))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["phr-approval-details-modal"]],inputs:{approval:"approval",routeRedirect:"routeRedirect",approvalSummary:"approvalSummary",onApprovalUpdate:"onApprovalUpdate"},decls:28,vars:19,consts:[[1,"container-fluid"],[1,"row","border","border-left-0","border-top-0","border-right-0"],[1,"col-12","text-center","border","border-left-0","border-top-0","border-right-0","py-3"],[1,"d-md-none","fas","fa-times","fa-lg","pull-right","cursor-pointer",2,"right","10px","top","10px","position","absolute",3,"click"],["class","text-center hyphenate",4,"ngIf"],[1,"col-12","col-md-4","p-0","border","border-left-0","border-top-0","border-bottom-0","my-2"],[1,"p-3"],[3,"firstName","lastName","avatarUrl","showSubTitle","subTitle","useToolTip","toolTipPlacement"],[1,"col-12","col-md-8"],[1,"d-flex","flex-row","py-3"],[1,"col","col-md-3"],[1,"mt-2"],[1,"mt-2","mb-1"],["class","col col-md-3",4,"ngIf"],[1,"d-none","d-md-block","fas","fa-times","fa-lg","pull-right","cursor-pointer",2,"right","10px","top","10px","position","absolute",3,"click"],["style","height: 500px",4,"ngIf"],[4,"ngIf"],["style","margin: 0 auto; display: block; margin-top: 75px","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],["class","row border border-bottom-0 border-right-0 border-left-0 py-2 mx-0 px-0","style","margin-right: -5px; margin-left: -5px",4,"ngIf"],["leaveRequest",""],["i9leaveRequest",""],[1,"text-center","hyphenate"],[2,"height","500px"],["id","loader",1,"col-12"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"btn","btn-sm","btn-primary",2,"margin","0 auto","display","block","margin-top","75px",3,"click"],[1,"row","border","border-bottom-0","border-right-0","border-left-0","py-2","mx-0","px-0",2,"margin-right","-5px","margin-left","-5px"],[1,"col-12"],[1,"row"],[1,"col-6"],[1,"col-12","col-md-6","text-right"],["class","py-2",4,"ngIf"],["class","btn-group",4,"ngIf"],["class","row",4,"ngIf"],[1,"py-2"],[1,"fas",3,"ngClass"],[1,"btn-group"],["class","btn btn-primary mr-2",3,"disabled","click",4,"ngIf"],["class","btn btn-outline-primary",3,"disabled","click",4,"ngIf"],[1,"btn","btn-primary","mr-2",3,"disabled","click"],[1,"fas","fa-circle-notch","fa-spin"],[1,"btn","btn-outline-primary",3,"disabled","click"],[1,"form-group"],["rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","border","border-bottom-0","border-right-0","border-left-0","py-2"],[1,"btn-group","pull-right"],[1,"btn","btn-outline-primary",3,"click"],[1,"col-6","col-md-4","border","my-3","border-left-0","border-top-0","border-bottom-0"],[1,"py-2","hyphenate"],[1,"col-6","col-md-7","my-3","ml-md-3"],[1,"row","border","border-top-0","border-right-0","border-left-0"],[1,"col-12","col-md-6"],[1,"col-12","d-md-none","border","border-bottom-0","border-right-0","border-left-0","pt-2"],[1,"col-4","d-none","d-md-block","border","border-top-0","border-bottom-0","border-right-0","mb-3","text-center"],[1,"border","border-top-0","border-right-0","border-left-0","pb-1"],[1,"pt-2"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3"],[2,"margin-top","15px"],[1,"col-6","col-md-4","my-3"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),e.\u0275\u0275listener("click",function(){return n.closeModal()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,S,4,8,"b",4),e.\u0275\u0275template(5,B,4,8,"b",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5)(7,"div",6),e.\u0275\u0275element(8,"phr-user-avatar",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",8)(10,"div",9)(11,"div",10)(12,"b",11),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"p",12),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(17,M,6,4,"div",13),e.\u0275\u0275template(18,w,6,4,"div",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"i",14),e.\u0275\u0275listener("click",function(){return n.closeModal()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(20,O,2,0,"div",15),e.\u0275\u0275template(21,T,3,3,"div",16),e.\u0275\u0275template(22,R,3,3,"button",17),e.\u0275\u0275template(23,Q,8,3,"div",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,W,69,46,"ng-template",null,19,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(26,Z,40,26,"ng-template",null,20,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf","LR"===n.approval.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","I9"===n.approval.type),e.\u0275\u0275advance(3),e.\u0275\u0275property("firstName",n.approval.employee.firstName)("lastName",n.approval.employee.lastName)("avatarUrl",n.approval.employee.avatarUrl)("showSubTitle",!0)("subTitle",n.approval.employee.department||"")("useToolTip",!0)("toolTipPlacement","bottom-left"),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(14,17,"LABEL.EMPLOYEE_ID"),":"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.approval.employee.employeeId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.hasEmployeeField("type")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.hasEmployeeField("status")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.loaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.loaded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","I9"===n.approval.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","LR"===n.approval.type))},dependencies:[f.mk,f.O5,p.DefaultValueAccessor,p.NgControlStatus,p.NgModel,c.E,x.k,E.X$],styles:["@media (max-width: 768px){.modal-header[_ngcontent-%COMP%]{margin-right:-15px}.header-avatar-block[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef;padding-bottom:10px}}@media (min-width: 769px){.header-details-block[_ngcontent-%COMP%]{border-left:1px solid #e9ecef}}"]}),a})();var I=o(98474),s=o(68757),J=o(22260),X=o(8929),q=o(37738),ee=o(80013),te=o(75778),ne=o(43242),ae=o(3270),re=o(51818),oe=o(14927),le=o(27111),ie=o(54843),pe=o(11481),se=o(56946),de=o(34623);function ce(a,l){1&a&&e.\u0275\u0275element(0,"phr-block-loader",3)}function me(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275element(1,"phr-table-no-rows",17),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("message",t.noRowsMessage)}}function ve(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"phr-desktop-card-cell",32),e.\u0275\u0275elementEnd()),2&a){const t=l.$implicit,n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("property",t.property)("column",t)("data",n)("useResponsive",!1)("mobileColCount",0)("setColBindings",!1)}}function _e(a,l){if(1&a&&e.\u0275\u0275template(0,ve,2,6,"div",37),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("ngForOf",t.ptoColumns)}}function ue(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275element(1,"phr-desktop-card-cell",32),e.\u0275\u0275elementEnd()),2&a){const t=l.$implicit,n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("property",t.property)("column",t)("data",n)("useResponsive",!1)("mobileColCount",0)("setColBindings",!1)}}function he(a,l){if(1&a&&e.\u0275\u0275template(0,ue,2,6,"div",37),2&a){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("ngForOf",t.i9ptoColumns)}}function ge(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",44),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3),i=r.$implicit,m=r.index,u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.approveApproval(i,m))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275property("disabled",t.selectedApprovals.size>1||t.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"ACTION.APPROVE")," ")}}function fe(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",45),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3).$implicit,i=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(i.onReview(r))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"ACTION.REVIEW")," "))}function xe(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",46),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(3),i=r.$implicit,m=r.index,u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.toggleDenialForm(i,m))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275property("disabled",t.selectedApprovals.size>1),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"ACTION.DENY")," ")}}function Ee(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275template(1,ge,3,4,"button",41),e.\u0275\u0275template(2,fe,3,3,"button",42),e.\u0275\u0275template(3,xe,3,4,"button",43),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","LR"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","I9"===t.type),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","LR"===t.type)}}const be=function(a,l,t,n){return{"fa-check":a,"text-success":l,"fa-times":t,"text-danger":n}};function ye(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",47)(1,"b"),e.\u0275\u0275element(2,"i",48),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()),2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(4,be,t.approved,t.approved,t.denied,t.denied)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,2,t.approved?"LABEL.APPROVED":"LABEL.DENIED")," ")}}function Ae(a,l){if(1&a&&(e.\u0275\u0275template(0,Ee,4,3,"div",38),e.\u0275\u0275template(1,ye,5,9,"div",39)),2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngIf",!t.isDenying&&!t.approved&&!t.denied),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.approved||t.denied)}}function Ce(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"label",53)(1,"input",54),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(i.handleSelect(r))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(2,"span",55)(3,"span",56),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(2).$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.approved||t.denied)("checked",n.isSelected(t))}}function Se(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275template(0,Ce,4,2,"label",49),e.\u0275\u0275elementStart(1,"div",50)(2,"div",51),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275reference(12),m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(null!=r.employee&&r.employee.isOnboarding?m.openEmployeeNotOnboarded(i,"md"):m.openEmployeeDetails(r))}),e.\u0275\u0275element(3,"phr-user-avatar",52),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("ngIf","LR"===t.type),e.\u0275\u0275advance(3),e.\u0275\u0275property("firstName",t.employee.firstName)("lastName",t.employee.lastName)("subTitle",t.employee.department)("showSubTitle",!0)("useToolTip",!1)("toolTipPlacement","bottom-left")}}function Ie(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",57)(1,"a",58),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).close;return e.\u0275\u0275resetView(i("Close click"))}),e.\u0275\u0275element(2,"i",59),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",60)(4,"div"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,1,"ACTION.NOT_ONBOARDED")))}function Le(a,l){1&a&&e.\u0275\u0275elementContainer(0)}function Te(a,l){1&a&&e.\u0275\u0275elementContainer(0)}function Re(a,l){1&a&&e.\u0275\u0275elementContainer(0)}function De(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",61)(2,"label")(3,"b"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"textarea",62),e.\u0275\u0275listener("ngModelChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext().$implicit;return e.\u0275\u0275resetView(i.denialReason=r)}),e.\u0275\u0275text(7,"                  "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",5)(9,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),i=r.$implicit,m=r.index,u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.denyApproval(i,m))}),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"button",64),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext(),i=r.$implicit,m=r.index,u=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(u.toggleDenialForm(i,m))}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd()()()}if(2&a){const t=e.\u0275\u0275nextContext().$implicit,n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,5,"LABEL.PROVIDE_DENY_REASON")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.denialReason),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!t.denialReason||t.denialReason.length<3||n.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,7,"ACTION.SUBMIT")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,9,"ACTION.CANCEL")," ")}}function Be(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",20)(2,"div",21),e.\u0275\u0275template(3,_e,1,1,"ng-template",null,22,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,he,1,1,"ng-template",null,23,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(7,Ae,2,2,"ng-template",null,24,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(9,Se,4,7,"ng-template",null,25,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(11,Ie,7,3,"ng-template",null,26,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(13,"div",27)(14,"div",28),e.\u0275\u0275template(15,Le,1,0,"ng-container",29),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",30),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView("LR"===i.type&&m.handleSelect(i))}),e.\u0275\u0275elementStart(17,"div",31),e.\u0275\u0275element(18,"phr-desktop-card-cell",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,Te,1,0,"ng-container",33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",34)(21,"span",35),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.setApprovalIdQueryParam(i))}),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",36),e.\u0275\u0275template(25,Re,1,0,"ng-container",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(26,De,15,11,"div",2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementContainerEnd()}if(2&a){const t=l.$implicit,n=e.\u0275\u0275reference(4),r=e.\u0275\u0275reference(6),i=e.\u0275\u0275reference(8),m=e.\u0275\u0275reference(10),u=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275classProp("border-primary",u.isSelected(t)),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngTemplateOutlet",m),e.\u0275\u0275advance(3),e.\u0275\u0275property("property",u.approvalTypeColumn.property)("column",u.approvalTypeColumn)("data",t)("useResponsive",!1)("mobileColCount",0)("setColBindings",!1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","LR"===t.type)("ngIfThen",n)("ngIfElse",r),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(23,15,"LABEL.MORE_DETAILS")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",i),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isDenying&&!t.denied&&!t.approved)}}function Me(a,l){if(1&a&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275template(1,Be,27,17,"ng-container",19),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.paginator.currentPage)}}function Oe(a,l){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"phr-table-controls-component",4),e.\u0275\u0275listener("onFilterSelect",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.handleFilterChanged(r))})("onFiltersChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.handleFiltersChanged(r))})("onSortsChanged",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.handleSortsChanged(r))})("onSearchStringChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.onSearchStringChange(r))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",5)(3,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.selectAll())}),e.\u0275\u0275elementStart(4,"div",7),e.\u0275\u0275element(5,"input",8),e.\u0275\u0275elementStart(6,"label",9)(7,"span",10),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(10,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.approveSelection())}),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,me,2,1,"div",12),e.\u0275\u0275elementStart(14,"div",13),e.\u0275\u0275template(15,Me,2,1,"div",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"phr-table-pagination",15),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("messages",t.tableTranslationsService.controlsMessages)("sorts",t.sorts)("filters",t.filters)("useColumnChooser",!1)("searchString",t.searchString),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!(null!=t.paginator&&null!=t.paginator.currentPage&&t.paginator.currentPage.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("checked",t.isAllSelected),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,15,"ACTION.SELECT_ALL")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.selectedApprovals.size||t.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(12,17,"ACTION.APPROVE_REQUESTS"),": ",t.selectedApprovals.size," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(null!=t.paginator&&null!=t.paginator.currentPage&&t.paginator.currentPage.length)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==t.paginator||null==t.paginator.currentPage?null:t.paginator.currentPage.length),e.\u0275\u0275advance(1),e.\u0275\u0275property("pagination",t.paginator)("messages",t.tablePaginationMessages)}}let we=(()=>{class a{constructor(t,n,r,i,m,u,N,Pe,Ne,Ve,Ue,Fe,ke,je){this.breadcrumbService=t,this.translateService=n,this.approvalsService=r,this.i18nService=i,this.modalService=m,this.employeesService=u,this.route=N,this.router=Pe,this.broadcast=Ne,this.authService=Ve,this.tableTranslationsService=Ue,this.sanitizer=Fe,this.toastService=ke,this.userStateService=je,this.loading=!0,this.approvals=[],this.filters=[],this.selectedApprovals=new Set,this.paginator=new s.tl(this.approvals||[],9),this.employeeColumns=[new s.hj({property:"employee.lastName",title:"Last Name",sort:s.ER.ALPHA}),new s.hj({property:"employee.firstName",title:"First Name",sort:s.ER.ALPHA})],this.approvalColumns=[new s.hj({property:"type",title:"",transform:this.getApprovalType.bind(this),localeKey:"LABEL.APPROVAL_TYPE",sort:s.ER.ALPHA}),new s.hj({property:"claimed",title:"",localeKey:"LABEL.CLAIMED_BY",sort:s.ER.ALPHA}),new s.hj({property:"leaveRequest.startDate",title:"",localeKey:"LABEL.DATE_REQUESTED",sort:s.ER.DATE,transform:this.transformDateToUppercase.bind(this),direction:s.Sr.DESC})],this.ptoColumns=[new s.hj({property:"leaveRequest.hours",title:"Total Hours",localeKey:"LABEL.TOTAL_HOURS",sort:s.ER.NUM}),new s.hj({property:"leaveRequest.startDate",title:"Start Date",localeKey:"LABEL.START_DATE",transform:this.transformDateToUppercase.bind(this),sort:s.ER.DATE}),new s.hj({property:"leaveRequest.endDate",title:"End Date",localeKey:"LABEL.END_DATE",transform:this.transformDateToUppercase.bind(this),sort:s.ER.DATE})],this.i9ptoColumns=[new s.hj({property:"generatedOn",title:"Generated On",localeKey:"LABEL.GENERATED_ON",transform:this.transformDateToUppercase.bind(this),sort:s.ER.DATE}),new s.hj({property:"leaveRequest.comments",title:"Comment",localeKey:"LABEL.COMMENTS",sort:s.ER.ALPHA}),new s.hj({property:"dueDate",title:"Due Date",localeKey:"LABEL.DUE_DATE",transform:this.transformDateToUppercase.bind(this),sort:s.ER.DATE})],this.sorts=[{titles:[{localeKey:"LABEL.MOST_RECENT",name:"",direction:s.Sr.DESC},{localeKey:"LABEL.OLDEST_FIRST",name:"",direction:s.Sr.ASC}],attribute:this.dateRequestedColumn}],this.searchString="",this.approvalDetailsModalOpened=!1,this.tableControlMessages={filter:this.translateService.instant("ACTION.FILTER"),search:this.translateService.instant("LABEL.SEARCH"),filterTranslations:{all:this.translateService.instant("LABEL.ALL")},mobileFilterModal:{back:this.translateService.instant("ACTION.BACK"),close:this.translateService.instant("ACTION.CLOSE"),filter:this.translateService.instant("ACTION.FILTER"),reset:this.translateService.instant("ACTION.RESET"),all:this.translateService.instant("LABEL.ALL"),applyFilters:this.translateService.instant("ACTION.APPLY_FILTERS"),ASC:"ASC",DESC:"DESC"}},this.tablePaginationMessages={of:this.translateService.instant("LABEL.OF"),view:this.translateService.instant("LABEL.VIEWING")},this.subscriptions=[],this.searchString$=new X.xQ,this.modalOpened=!1,this.broadcast.on(this.i18nService.changedEvent).subscribe(()=>{this.initFilters(),this.translateColumns()})}ngOnInit(){this.userStateService.session$.pipe((0,A.P)()).subscribe(t=>{this.isProxyUser=!!t?.proxyInfo}),this.translateService.onLangChange.subscribe(t=>{this.setBreadcrumbs()}),window.addEventListener("message",t=>{"close"===t?.data&&document.getElementById("i9IframeModalCloseButton")?.click()}),this.setBreadcrumbs(),this.getApprovals(),this.translateColumns(),this.initSearchSubscription()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}openEmployeeNotOnboarded(t,n){this.modalService.open(t,{size:n})}onReview(t){this.isProxyUser?this.toastService.info({delay:6e3,text:"Access to navigate to a third-party site is not available for a Proxy User."}):this.approvalsService.getI9IframeUrl(t).subscribe(n=>{const r=this.modalService.open(q.p,{backdrop:"static",centered:!0,windowClass:"full i9-review"});r.componentInstance.iframeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(n),r.result.finally(()=>this.getApprovals())},n=>{})}get claimedColumn(){return this.approvalColumns.find(t=>"claimed"===t.property)}get approvalTypeColumn(){return this.approvalColumns.find(t=>"type"===t.property)}get dateRequestedColumn(){return this.approvalColumns.find(t=>t.property.includes("startDate"))}get noRowsMessage(){return this.translateService.instant("ERROR.NO_ROWS"+(this.searchString.length>2?"_FILTERS":""))}handleSelect(t){this.isSelected(t)?this.removeApprovalFromSelected(t):this.selectedApprovals.add(t.id)}handleFilterChanged(t){const n=this.filters.findIndex(r=>r.attribute.property===t.attribute.property);this.filters[n]=t,this.applySortsAndSearch()}handleFiltersChanged(t){this.filters=t}initFilters(){this.filters=I.iZ.buildFilters([{localeKey:"LABEL.APPROVAL_TYPE",property:"type",title:"Approval Type",sort:s.ER.ALPHA,transform:this.getApprovalType.bind(this),enumerable:!0,visible:!0,default:!1}],this.approvals)}isSelected(t){return this.selectedApprovals.has(t.id)}setApprovalIdQueryParam(t){this.router.navigate(["/ess/manager/approvals"],{queryParams:{approvalId:t.id},queryParamsHandling:"merge"})}openEmployeeDetails({employee:t}){if(this.modalOpened)return;let n;this.modalOpened=!0,n=this.modalService.open(J.v,{size:"lg",windowClass:"full employee-details"}),n.componentInstance.clientId=this.authService.clientIdQP,n.componentInstance.employeeId=t.employeeId,n.componentInstance.routeRedirect=!1,n.componentInstance.onEmployeeUpdated.subscribe(r=>{this.setApprovalsEmployee(r)}),n.result.then(()=>this.modalOpened=!1).catch(()=>this.modalOpened=!1),this.setApprovalsEmployee(t)}toggleDenialForm(t,n){t.isDenying=!t.isDenying,this.approvals[n].isDenying=t.isDenying}approveSelection(){this.approvals.forEach((t,n)=>{this.selectedApprovals.has(t.id)&&this.approveApproval(t,n)})}onSearchStringChange(t){this.searchString$.next(t)}handleSortsChanged(t){const[n]=t;this.dateRequestedColumn.direction=n.attribute.direction,this.sorts[0].attribute=this.dateRequestedColumn,this.applySortsAndSearch()}selectAll(){if(this.isAllSelected)this.selectedApprovals.clear();else for(const{id:t,type:n}of this.paginator.currentPage)"LR"===n&&this.selectedApprovals.add(t);this.isAllSelected=!this.isAllSelected}approveApproval(t,n){t.approved=!0,this.updateApproval(t,n)}denyApproval(t,n){t.denied=!0,this.updateApproval(t,n)}updateApproval(t,n){this.approvals[n]=t,this.removeApprovalFromSelected(t),this.approvalsService.updateStatus(t).subscribe(r=>{this.removeResolvedApproval(t)},r=>{this.removeResolvedApproval(t)})}initSearchSubscription(){const t=this.searchString$.pipe((0,ee.b)(400),(0,te.x)()).subscribe(n=>{this.searchString=n,this.applySortsAndSearch()});this.subscriptions.push(t)}setBreadcrumbs(){this.breadcrumbService.setBreadcrumbItems([{url:"/ess/home"},{url:"/ess/manager/approvals"}])}getApprovals(){this.approvalsService.getApprovals().subscribe(t=>{this.approvals=t,this.initFilters(),this.translateColumns(),this.paginator.setItems(this.approvals),this.loading=!1;const n=this.route.queryParamMap.subscribe(r=>{const i=r.params.approvalId;i&&!this.approvalDetailsModalOpened&&this.openApprovalDetails(this.approvals.find(m=>m.id===i))});this.subscriptions.push(n)},t=>{this.approvals=[],this.loading=!1})}getApprovalType(t){return this.translateService.instant("I9"===t?"LABEL.I9_LEAVE_REQUEST":"LABEL.LEAVE_REQUEST")}translateColumns(){this.ptoColumns=this.ptoColumns.map(t=>(t.title=this.translateService.instant(t.localeKey),t)),this.i9ptoColumns=this.i9ptoColumns.map(t=>(t.title=this.translateService.instant(t.localeKey),t)),this.approvalColumns=this.approvalColumns.map(t=>(t.title=this.translateService.instant(t.localeKey),t)),this.sorts=[...this.sorts.map(t=>(t.titles=t.titles.map(n=>(n.name=this.translateService.instant(n.localeKey),n)),t.attribute.title=this.translateService.instant(t.attribute.localeKey),t))],this.filters=[...this.filters.map(t=>(t.fields=t.fields.map(n=>this.translateService.instant(n)),t.selected=t.selected.map(n=>this.translateService.instant(n)),t.attribute.title=this.translateService.instant(t.attribute.localeKey),t))]}openApprovalDetails(t){const n=this.modalService.open(P,{size:"lg",windowClass:"full"});n.componentInstance.approval=t,n.componentInstance.onApprovalUpdate=this.handleApprovalUpdate.bind(this),this.approvalDetailsModalOpened=!0,n.result.then(r=>{if("status"in r&&401===r.status)return this.authService.redirectToLogout(),void(this.approvalDetailsModalOpened=!1);r.approved||r.denied?(this.removeApprovalFromSelected(t),this.removeResolvedApproval(t)):this.approvals=this.approvals.map(i=>({...i,isDenying:!1,denialReason:"",approved:!1,denied:!1})),this.router.navigate(["/ess/manager/approvals"],{queryParams:{}}),this.approvalDetailsModalOpened=!1}).catch(r=>{if(r&&"status"in r&&401===r.status)return this.authService.redirectToLogout(),void(this.approvalDetailsModalOpened=!1);this.router.navigate(["/ess/manager/approvals"],{queryParams:{}}),this.approvals=this.approvals.map(i=>({...i,isDenying:!1,denialReason:""})),(t.approved||t.denied)&&(this.removeApprovalFromSelected(t),this.removeResolvedApproval(t)),this.approvalDetailsModalOpened=!1})}setApprovalsEmployee(t){this.approvals.forEach(n=>{n.employeeId===t.employeeId&&(n.employee=t,n.employeeLoaded=!0)})}removeResolvedApproval(t){this.approvals.splice(this.approvals.findIndex(n=>n.id===t.id),1),this.paginator.setItems(this.approvals)}removeApprovalFromSelected(t){this.isSelected(t)&&this.selectedApprovals.delete(t.id)}handleApprovalUpdate(t){"LR"===t.type&&(this.approvals=this.approvals.map(n=>"LR"===n.type&&n.employeeId===t.employeeId?Object.assign(n,{leaveRequest:{...n.leaveRequest,ptoTypes:t.leaveRequest.ptoTypes}}):n))}applySortsAndSearch(){const t=[this.claimedColumn,...this.ptoColumns,...this.employeeColumns,this.approvalTypeColumn,this.dateRequestedColumn,new s.hj({property:"employee.department"})];let n=this.approvals;n=I.iZ.filter(this.approvals,this.filters,this.searchString,t.map(({property:i})=>i),t);const r=I.iZ.sort(n,this.dateRequestedColumn);this.approvals.length!==r.length?this.paginator.setItems(r):this.paginator.items=r}transformDateToUppercase(t){if(t){const n=y().utc(t);return n.locale(this.translateService.currentLang),n.format("ddd MM/DD/YYYY").replace(/^\w/,r=>r.toUpperCase())}}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(ne.Vn),e.\u0275\u0275directiveInject(E.sK),e.\u0275\u0275directiveInject(g.G),e.\u0275\u0275directiveInject(ae.D),e.\u0275\u0275directiveInject(C.FF),e.\u0275\u0275directiveInject(re.M),e.\u0275\u0275directiveInject(v.gz),e.\u0275\u0275directiveInject(v.F0),e.\u0275\u0275directiveInject(oe.BroadcastEventService),e.\u0275\u0275directiveInject(le.e8),e.\u0275\u0275directiveInject(ie.L),e.\u0275\u0275directiveInject(pe.DomSanitizer),e.\u0275\u0275directiveInject(se.k),e.\u0275\u0275directiveInject(h.P))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ng-component"]],decls:4,vars:2,consts:[[1,"container-fluid","approvals-list"],["id","loader",4,"ngIf"],[4,"ngIf"],["id","loader"],[3,"messages","sorts","filters","useColumnChooser","searchString","onFilterSelect","onFiltersChange","onSortsChanged","onSearchStringChange"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-outline-primary","select-all-button",3,"disabled","click"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"checked"],[1,"custom-control-label","pl-1"],[1,"select-all-text"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","mt-4",4,"ngIf"],[1,"container-fluid","mt-2"],["class","row",4,"ngIf"],[3,"pagination","messages"],[1,"mt-4"],[3,"message"],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-4","card-wrapper","d-flex","align-items-stretch"],[1,"approval-card","componentShadow","w-100"],["leaveRequest",""],["i9leaveRequest",""],["actions",""],["employeeAvatar",""],["notOnboardedContent",""],[1,"border-bottom"],[1,"col-12","py-2","d-flex","align-items-center"],[4,"ngTemplateOutlet"],[1,"flex-wrap","d-flex","py-2",3,"click"],[1,"col-6"],[3,"property","column","data","useResponsive","mobileColCount","setColBindings"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"border-top","py-2","px-3"],[1,"text-primary","more-details","font-weight-bold",3,"click"],[1,"border-top","py-2"],["class","col-6",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["class","btn btn-sm btn-primary mr-2",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-primary mr-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-primary",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mr-2",3,"disabled","click"],[1,"btn","btn-sm","btn-primary","mr-2",3,"click"],[1,"btn","btn-sm","btn-outline-primary",3,"disabled","click"],[1,"d-flex","align-items-center"],[1,"fas",3,"ngClass"],["class","d-table-cell d-flex custom-control d-inline-block mb-0 custom-checkbox",4,"ngIf"],[1,"d-inline-block","w-sm-50"],[1,"text-primary","cursor-pointer",3,"click"],[3,"firstName","lastName","subTitle","showSubTitle","useToolTip","toolTipPlacement"],[1,"d-table-cell","d-flex","custom-control","d-inline-block","mb-0","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"disabled","checked","change"],[1,"custom-control-label"],[1,"custom-control-description"],[1,"pt-2","pr-3"],[1,"float-right","cursor-pointer",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-body","text-xs-center"],[1,"form-group"],["rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-outline-primary",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"phr-page-heading"),e.\u0275\u0275template(2,ce,1,0,"phr-block-loader",1),e.\u0275\u0275template(3,Oe,17,19,"div",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading))},dependencies:[f.mk,f.sg,f.O5,f.tP,p.DefaultValueAccessor,p.NgControlStatus,p.NgModel,de.F,c.E,x.k,I.U$,I.Wd,I.s_,I.y,E.X$],styles:[".approvals-list .card-wrapper{padding:.5rem .5rem .5rem 0}.approvals-list .card-wrapper .approval-card{padding:.5rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.approvals-list .card-wrapper .approval-card .more-details{font-size:.8rem;cursor:pointer}.approvals-list .card-wrapper:nth-child(3n){padding-right:0}.approvals-list .select-all-text{cursor:pointer}@media (max-width: 992px){.approvals-list .card-wrapper{padding-right:0}.approvals-list .select-all-button{max-width:42px}.approvals-list .select-all-button .custom-control-label:before{top:-13px}.approvals-list .select-all-button .custom-control-label:after{top:-13px}.approvals-list .select-all-button .select-all-text{display:none}}.approvals-list phr-table-controls-component .mobile-filter-button{margin-left:0!important}.approvals-list phr-sort-dropdown{margin-top:5px}.approvals-list phr-sort-dropdown .sort-dropdown-button{padding:0}\n"],encapsulation:2}),a})()},61396:(D,b,o)=>{o.d(b,{G:()=>L});var d=o(61737),y=o(34202),A=o(27221),e=o(24850),g=(()=>{return(h=g||(g={})).APPROVED="A",h.DECLINED="D",g;var h})(),v=o(94650),E=o(80529),C=o(27111);let L=(()=>{class h{constructor(p,c,x){this.http=p,this.domainService=c,this.authService=x,this.serverError={errorCode:1,errorMessage:"Server Error"}}get baseUrl(){return`${this.domainService.getEssApiPath()}/clients/${this.authService.clientIdQP}`}updateStatus(p){return this.http.put(`${this.baseUrl}/approvals/${p.id}`,{statusCode:p.approved?g.APPROVED:g.DECLINED,denialReason:p.denialReason},{withCredentials:!0})}getPtoTypes(p){return this.http.get(`${this.baseUrl}/employees/${p}/pto/types`,{withCredentials:!0}).pipe((0,A.K)(c=>(0,d._)(401===c.status?c:this.serverError)))}getI9IframeUrl(p){return new y.y(c=>{this.http.post(`${this.domainService.getEssApiPath()}/i9/sectionTwo/url`,{approval:p},{withCredentials:!0}).subscribe(x=>{c.next(x),c.complete()},x=>{try{const S=JSON.parse(x.error);c.error(S)}catch{c.error({errorCode:1,errorMessage:"Server Error"})}})})}getApprovals(){return this.http.get(`${this.baseUrl}/approvals`,{withCredentials:!0}).pipe((0,e.U)(p=>p.map(c=>(c.employee.avatarUrl=`${this.domainService.getEssApiPath()}/clients/${c.clientId}/employees/${c.employeeId}/image`,c.leaveRequest&&(c.leaveRequest.hours=c.leaveRequest.leaveHours.reduce((x,S)=>x+S)),c))),(0,A.K)(p=>(0,d._)(401===p.status?p:this.serverError)))}}return h.\u0275fac=function(p){return new(p||h)(v.\u0275\u0275inject(E.eN),v.\u0275\u0275inject(C.NF),v.\u0275\u0275inject(C.e8))},h.\u0275prov=v.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac}),h})()},35830:(D,b,o)=>{o.d(b,{G:()=>d.G});var d=o(61396)}}]);