"use strict";(self.webpackChunkprismhr_ess=self.webpackChunkprismhr_ess||[]).push([[2437],{39591:($,B,p)=>{p.d(B,{K:()=>k});var t=p(94650),A=p(52885);let k=(()=>{class y{constructor(){this.placement="top"}}return y.\u0275fac=function(C){return new(C||y)},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["phr-tooltip"]],inputs:{placement:"placement",text:"text"},decls:3,vars:2,consts:[["tabindex","0",1,"btn-link",3,"placement","ngbPopover","click"],["p","ngbPopover"],["aria-hidden","true",1,"fas","fa-question-circle","fa-lg"]],template:function(C,z){if(1&C){const W=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",0,1),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(W);const E=t.\u0275\u0275reference(1);return t.\u0275\u0275resetView(E.close())},!1,t.\u0275\u0275resolveDocument)("click",function(E){return E.stopPropagation()}),t.\u0275\u0275element(2,"i",2),t.\u0275\u0275elementEnd()}2&C&&t.\u0275\u0275property("placement",z.placement)("ngbPopover",z.text)},dependencies:[A.o8],styles:["phr-tooltip{display:inline-block}phr-tooltip .btn-link,phr-tooltip .btn-link:focus{outline:none}@media (max-width: 576px){phr-tooltip{position:relative}}@media (max-width: 576px){phr-tooltip .popover-body{min-width:145px}}\n"],encapsulation:2}),y})()},93456:($,B,p)=>{p.d(B,{E:()=>k});var t=p(24006),A=p(94650);let k=(()=>{class y{constructor(){this.width="100%",this.boldLabel=!1,this.validators=[]}ngOnChanges(C){C.disabled&&this.checkDisabled()}checkDisabled(){this.control&&(this.disabled?this.control.disable():this.control.enable())}init(){void 0!==this.required&&!1!==this.required&&(this.required=!0,this.validators.push(t.Validators.required)),this.addValidators(),this.control.valueChanges.subscribe(C=>{this.valueChange.emit(C)}),this.checkDisabled()}addValidators(){this.control.setValidators(t.Validators.compose(this.validators))}destroy(){this.control.setValidators(null)}registerTextUnMasker(C){this.control.valueChanges.subscribe(z=>{const W=z.replace(C,"");this.control.setValue(W,{emitEvent:!1,emitModelToViewChange:!1,emitViewToModelChange:!1})})}}return y.\u0275fac=function(C){return new(C||y)},y.\u0275dir=A.\u0275\u0275defineDirective({type:y,inputs:{width:"width",boldLabel:"boldLabel"},features:[A.\u0275\u0275NgOnChangesFeature]}),y})()},42437:($,B,p)=>{p.d(B,{L:()=>ee});var t=p(36895),A=p(24006),k=p(52885),y=p(42466),b=p(75985),C=p(66058),z=p(89670),W=p(57305),v=p(94650),E=p(93456),x=p(39591),f=p(88796),R=p(78126);function D(N,T){if(1&N&&v.\u0275\u0275element(0,"phr-tooltip",6),2&N){const L=v.\u0275\u0275nextContext();v.\u0275\u0275property("text",L.tooltipText)("placement",L.tooltipPlacement)}}let j=(()=>{class N extends E.E{constructor(){super(),this.tooltipPlacement="top",this.selectedOption=null,this.valueChange=new v.EventEmitter}ngOnInit(){super.init()}ngOnDestroy(){super.destroy()}ngOnChanges(L){super.ngOnChanges(L)}}return N.\u0275fac=function(L){return new(L||N)},N.\u0275cmp=v.\u0275\u0275defineComponent({type:N,selectors:[["phr-dropdown-ngselect-control"]],inputs:{control:"control",label:"label",required:"required",options:"options",disabled:"disabled",showTooltip:"showTooltip",tooltipText:"tooltipText",tooltipPlacement:"tooltipPlacement",customValidators:"customValidators"},outputs:{valueChange:"valueChange"},features:[v.\u0275\u0275InheritDefinitionFeature,v.\u0275\u0275NgOnChangesFeature],decls:7,vars:8,consts:[[1,"form-group"],[1,"label-group"],[3,"control","label","required"],[1,"mx-2"],[3,"text","placement",4,"ngIf"],["bindLabel","display","bindValue","value",3,"formControl","ngModel","items","multiple","ngModelChange"],[3,"text","placement"]],template:function(L,G){1&L&&(v.\u0275\u0275elementStart(0,"div",0)(1,"div",1),v.\u0275\u0275element(2,"phr-input-label",2),v.\u0275\u0275elementStart(3,"div",3),v.\u0275\u0275template(4,D,1,2,"phr-tooltip",4),v.\u0275\u0275elementEnd()(),v.\u0275\u0275elementStart(5,"div")(6,"ng-select",5),v.\u0275\u0275listener("ngModelChange",function(ce){return G.selectedOption=ce}),v.\u0275\u0275elementEnd()()()),2&L&&(v.\u0275\u0275advance(2),v.\u0275\u0275property("control",G.control)("label",G.label)("required",G.required),v.\u0275\u0275advance(2),v.\u0275\u0275property("ngIf",G.showTooltip),v.\u0275\u0275advance(2),v.\u0275\u0275property("formControl",G.control)("ngModel",G.selectedOption)("items",G.options)("multiple",!1))},dependencies:[t.O5,A.NgControlStatus,A.FormControlDirective,x.K,f.w9,R.D],styles:["select[_ngcontent-%COMP%]{-webkit-appearance:none!important;-o-appearance:none!important;appearance:none!important;padding-right:25px}"]}),N})();var Q=p(34928),de=p(13196),re=p(15439),le=p.n(re);class oe extends k.NG{constructor(T){super(),this.momentFormat=T}format(T){return T?le()(T.month+"/"+T.day+"/"+T.year,this.momentFormat).format(this.momentFormat):""}parse(T){if(!T)return null;const L=le()(T,this.momentFormat);return{year:L.year(),month:L.month()+1,day:L.date()}}}var ae=p(24586),ue=p(21985),he=p(38980),pe=p(98474),M=p(29415);function X(){return new oe("MM/DD/YYYY")}let ee=(()=>{class N{}return N.\u0275fac=function(L){return new(L||N)},N.\u0275mod=v.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=v.\u0275\u0275defineInjector({providers:[{provide:k.NG,useFactory:X,deps:[]}],imports:[z.Z,t.ez,A.FormsModule,A.ReactiveFormsModule,C.QA,k.IJ,y.aw,M.j,b.Ud,ae.p,ue.z,he.Cl,pe.JT,f.A0]}),N})();v.\u0275\u0275setComponentScope(Q.i,[t.O5,x.K,W.T],[]),v.\u0275\u0275setComponentScope(de.f,[t.O5,j],[])},57305:($,B,p)=>{p.d(B,{T:()=>E});var t=p(94650),A=p(93456),k=p(68757),y=p(36895),b=p(24006),C=p(39591),z=p(78126);function W(x,f){if(1&x&&t.\u0275\u0275element(0,"phr-tooltip",8),2&x){const R=t.\u0275\u0275nextContext();t.\u0275\u0275property("text",R.tooltipText)("placement",R.tooltipPlacement)}}function v(x,f){if(1&x&&(t.\u0275\u0275elementStart(0,"option",9),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&x){const R=f.$implicit;t.\u0275\u0275property("ngValue",R.value),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",R.display," ")}}let E=(()=>{class x extends A.E{constructor(){super(),this.tooltipPlacement="top",this.valueChange=new t.EventEmitter}ngOnInit(){super.init()}ngOnDestroy(){super.destroy()}ngOnChanges(R){super.ngOnChanges(R),(0,k.t$)(R.customValidators?.currentValue)&&(this.validators=[...this.validators,...this.customValidators])}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275cmp=t.\u0275\u0275defineComponent({type:x,selectors:[["phr-dropdown-control"]],inputs:{control:"control",label:"label",required:"required",options:"options",disabled:"disabled",showTooltip:"showTooltip",tooltipText:"tooltipText",tooltipPlacement:"tooltipPlacement",customValidators:"customValidators"},outputs:{valueChange:"valueChange"},features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],decls:8,vars:9,consts:[[1,"form-group"],[1,"label-group"],[3,"control","label","required"],[1,"mx-2"],[3,"text","placement",4,"ngIf"],[1,"input-group"],[1,"form-control",3,"formControl","disabled"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"text","placement"],[3,"ngValue"]],template:function(R,D){1&R&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275element(2,"phr-input-label",2),t.\u0275\u0275elementStart(3,"div",3),t.\u0275\u0275template(4,W,1,2,"phr-tooltip",4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",5)(6,"select",6),t.\u0275\u0275template(7,v,2,2,"option",7),t.\u0275\u0275elementEnd()()()),2&R&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("control",D.control)("label",D.label)("required",D.required),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",D.showTooltip),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("is-invalid",(D.control.value||D.control.touched)&&D.control.invalid),t.\u0275\u0275property("formControl",D.control)("disabled",D.disabled),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",D.options))},dependencies:[y.sg,y.O5,b.NgSelectOption,b.\u0275NgSelectMultipleOption,b.SelectControlValueAccessor,b.NgControlStatus,b.FormControlDirective,C.K,z.D],styles:['select[_ngcontent-%COMP%]{-webkit-appearance:none!important;-o-appearance:none!important;appearance:none!important;padding-right:25px}select[_ngcontent-%COMP%]::-ms-expand{display:none}.input-group[_ngcontent-%COMP%]:after{content:"";position:absolute;border:solid black;border-width:0 2px 2px 0;right:12px;top:50%;padding:3px;transform:rotate(45deg) translate(-50%,-50%);z-index:10}.label-group[_ngcontent-%COMP%]{display:flex}.label-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:1}']}),x})()},78126:($,B,p)=>{p.d(B,{D:()=>x});var t=p(94650),A=p(36895),k=p(42466),y=p(88246);function b(f,R){1&f&&(t.\u0275\u0275elementStart(0,"strong"),t.\u0275\u0275text(1,"* "),t.\u0275\u0275elementEnd())}function C(f,R){1&f&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&f&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"VALIDATION.REQUIRED"),""))}function z(f,R){1&f&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&f&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"VALIDATION.NO_MATCH_SSN"),""))}function W(f,R){1&f&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&f&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"VALIDATION.INVALID"),""))}function v(f,R){if(1&f&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&f){const D=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",D.control.errors.custom," ")}}function E(f,R){if(1&f&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275template(1,C,3,3,"span",0),t.\u0275\u0275template(2,z,3,3,"span",0),t.\u0275\u0275template(3,W,3,3,"span",0),t.\u0275\u0275template(4,v,2,1,"span",0),t.\u0275\u0275elementEnd()),2&f){const D=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.control.errors.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.control.hasError("matchSSN")&&D.control.touched),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!D.control.errors.required&&!D.control.errors.custom&&!D.control.hasError("matchSSN")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",D.control.errors.custom)}}let x=(()=>{class f{constructor(){this.boldLabel=!1}}return f.\u0275fac=function(D){return new(D||f)},f.\u0275cmp=t.\u0275\u0275defineComponent({type:f,selectors:[["phr-input-label"]],inputs:{control:"control",label:"label",required:"required",boldLabel:"boldLabel"},decls:6,vars:10,consts:[[4,"ngIf"],[3,"innerHTML"]],template:function(D,j){1&D&&(t.\u0275\u0275elementStart(0,"label")(1,"span"),t.\u0275\u0275template(2,b,2,0,"strong",0),t.\u0275\u0275element(3,"strong",1),t.\u0275\u0275pipe(4,"safe"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,E,5,4,"span",0),t.\u0275\u0275elementEnd()),2&D&&(t.\u0275\u0275classProp("text-danger",(j.control.value||j.control.touched)&&j.control.invalid&&j.required),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("font-weight-bold",j.boldLabel),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",j.required),t.\u0275\u0275advance(1),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind2(4,7,j.label,"html"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(j.control.value||j.control.touched)&&j.control.invalid&&j.required))},dependencies:[A.O5,k.X$,y.y],encapsulation:2}),f})()},13196:($,B,p)=>{p.d(B,{f:()=>k});var t=p(94650);function A(y,b){if(1&y){const C=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"phr-dropdown-ngselect-control",1),t.\u0275\u0275listener("valueChange",function(W){t.\u0275\u0275restoreView(C);const v=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(v.onChange(W))}),t.\u0275\u0275elementEnd()()}if(2&y){const C=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("control",C.control)("showTooltip",C.showTooltip)("tooltipText",C.tooltipText)("label",C.label)("required",C.required)("options",C.options)("disabled",C.disabled)}}let k=(()=>{class y{constructor(){this.required=!1,this.disabled=!1,this.readOnly=!1,this.editing=!1,this.valueChange=new t.EventEmitter}onChange(C){this.valueChange.emit(C)}}return y.\u0275fac=function(C){return new(C||y)},y.\u0275cmp=t.\u0275\u0275defineComponent({type:y,selectors:[["phr-read-write-dropdown-ngselect-control"]],inputs:{control:"control",label:"label",required:"required",disabled:"disabled",readOnly:"readOnly",options:"options",editing:"editing",value:"value",showTooltip:"showTooltip",tooltipText:"tooltipText",tooltipPlacement:"tooltipPlacement"},outputs:{valueChange:"valueChange"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"control","showTooltip","tooltipText","label","required","options","disabled","valueChange"]],template:function(C,z){1&C&&t.\u0275\u0275template(0,A,2,7,"div",0),2&C&&t.\u0275\u0275property("ngIf",z.editing)},styles:[".read-only[_ngcontent-%COMP%]{display:flex}@media (max-width: 500px){.read-only[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .read-only[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 0}}"]}),y})()},34928:($,B,p)=>{p.d(B,{i:()=>v});var t=p(94650),A=p(17489);function y(E,x){if(1&E){const f=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"phr-dropdown-control",1),t.\u0275\u0275listener("valueChange",function(D){t.\u0275\u0275restoreView(f);const j=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(j.onChange(D))}),t.\u0275\u0275elementEnd()()}if(2&E){const f=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("control",f.control)("showTooltip",f.showTooltip)("tooltipText",f.tooltipText)("label",f.label)("required",f.required)("options",f.options)("disabled",f.disabled)}}function b(E,x){if(1&E&&t.\u0275\u0275element(0,"phr-tooltip",6),2&E){const f=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("text",f.tooltipText)("placement",f.tooltipPlacement)}}function C(E,x){if(1&E&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&E){const f=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(f.value||"-")}}function z(E,x){if(1&E&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&E){const f=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",f.displayValue||"-"," ")}}function W(E,x){if(1&E&&(t.\u0275\u0275elementStart(0,"div")(1,"div",2)(2,"strong"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3),t.\u0275\u0275template(5,b,1,2,"phr-tooltip",4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,C,2,1,"div",5),t.\u0275\u0275template(7,z,2,1,"div",5),t.\u0275\u0275elementEnd()),2&E){const f=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",f.label," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",f.showTooltip),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!f.readOnly),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",f.readOnly)}}let v=(()=>{class E{constructor(){this.required=!1,this.disabled=!1,this.readOnly=!1,this.editing=!1,this.valueChange=new t.EventEmitter}onChange(f){this.valueChange.emit(f)}get displayValue(){return(0,A.find)(this.options,{value:this.value}).display}}return E.\u0275fac=function(f){return new(f||E)},E.\u0275cmp=t.\u0275\u0275defineComponent({type:E,selectors:[["phr-read-write-dropdown-control"]],inputs:{control:"control",label:"label",required:"required",disabled:"disabled",readOnly:"readOnly",options:"options",editing:"editing",value:"value",showTooltip:"showTooltip",tooltipText:"tooltipText",tooltipPlacement:"tooltipPlacement"},outputs:{valueChange:"valueChange"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"control","showTooltip","tooltipText","label","required","options","disabled","valueChange"],[1,"mb-0","read-only"],[1,"mx-2"],[3,"text","placement",4,"ngIf"],["class","readonly-label",4,"ngIf"],[3,"text","placement"],[1,"readonly-label"]],template:function(f,R){1&f&&(t.\u0275\u0275template(0,y,2,7,"div",0),t.\u0275\u0275template(1,W,8,4,"div",0)),2&f&&(t.\u0275\u0275property("ngIf",R.editing),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!R.editing))},styles:[".read-only[_ngcontent-%COMP%]{display:flex}@media (max-width: 500px){.read-only[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .read-only[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 0}}"]}),E})()},89670:($,B,p)=>{p.d(B,{Z:()=>k});var t=p(36895),A=p(94650);let k=(()=>{class y{}return y.\u0275fac=function(C){return new(C||y)},y.\u0275mod=A.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=A.\u0275\u0275defineInjector({imports:[t.ez]}),y})()},75985:($,B,p)=>{function b(l,i,n,a){var m,u=arguments.length,c=u<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(l,i,n,a);else for(var w=l.length-1;w>=0;w--)(m=l[w])&&(c=(u<3?m(c):u>3?m(i,n,c):m(i,n))||c);return u>3&&c&&Object.defineProperty(i,n,c),c}function C(l,i){return function(n,a){i(n,a,l)}}p.d(B,{g1:()=>me,Ud:()=>H});var M=p(94650),X=p(24006),ee=p(36895),N=(()=>{return(l=N||(N={}))[l.FINANCIAL=0]="FINANCIAL",l[l.NATURAL=1]="NATURAL",N;var l})();let T=new M.InjectionToken("currency.mask.config");class L{constructor(i){this.htmlInputElement=i}setCursorAt(i){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(i,i);else if(this.htmlInputElement.createTextRange){let n=this.htmlInputElement.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",i),n.select()}}updateValueAndCursor(i,n,a){this.rawValue=i,this.setCursorAt(a-=n-i.length)}get canInputMoreNumbers(){let n=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),a=this.inputSelection.selectionStart,u=this.inputSelection.selectionEnd,c=!(a==u||!this.htmlInputElement.value.substring(a,u).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),m="0"==this.htmlInputElement.value.substring(0,1);return n||c||m}get inputSelection(){let i=0,n=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)i=this.htmlInputElement.selectionStart,n=this.htmlInputElement.selectionEnd;else{let a=document.selection.createRange();if(a&&a.parentElement()==this.htmlInputElement){let u=this.htmlInputElement.value.length,c=this.htmlInputElement.value.replace(/\r\n/g,"\n"),m=this.htmlInputElement.createTextRange();m.moveToBookmark(a.getBookmark());let w=this.htmlInputElement.createTextRange();w.collapse(!1),m.compareEndPoints("StartToEnd",w)>-1?i=n=u:(i=-m.moveStart("character",-u),i+=c.slice(0,i).split("\n").length-1,m.compareEndPoints("EndToEnd",w)>-1?n=u:(n=-m.moveEnd("character",-u),n+=c.slice(0,n).split("\n").length-1))}}return{selectionStart:i,selectionEnd:n}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(i){this._storedRawValue=i,this.htmlInputElement&&(this.htmlInputElement.value=i)}get storedRawValue(){return this._storedRawValue}}class G{constructor(i,n){this.htmlInputElement=i,this.options=n,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new L(i),this.initialize()}initialize(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")}addNumber(i){const{decimal:n,precision:a,inputMode:u}=this.options;let c=String.fromCharCode(i);const m=c===this.options.decimal;if(this.rawValue){let w=this.inputSelection.selectionStart,U=this.inputSelection.selectionEnd;const g=this.rawValue.substring(0,w);let P=this.rawValue.substring(U,this.rawValue.length);const K=-1!==g.indexOf(n);u===N.NATURAL&&K&&w===U&&(P=P.substring(1));const O=g+c+P;let F=w+1;if(!m&&c!==this.options.thousands||c!==P[0]){if(!this.SINGLE_DIGIT_REGEX.test(c))return}else F++;this.rawValue=O,this.updateFieldValue(F)}else{let w;this.rawValue=this.applyMask(!1,c),u===N.NATURAL&&a>0&&(w=this.rawValue.indexOf(n),m&&w++),this.updateFieldValue(w)}}applyMask(i,n){let{allowNegative:a,decimal:u,precision:c,prefix:m,suffix:w,thousands:U,min:g,max:P,inputMode:K}=this.options,O=(n=i?new Number(n).toFixed(c):n).replace(this.ONLY_NUMBERS_REGEX,"");if(!O&&n!==u)return"";K===N.NATURAL&&!i&&(O=(n=this.padOrTrimPrecision(n)).replace(this.ONLY_NUMBERS_REGEX,""));let F=O.slice(0,O.length-c).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==F&&(F="0");let Y=parseInt(F);F=F.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,U),U&&F.startsWith(U)&&(F=F.substring(1));let q=F,se=O.slice(O.length-c),ge=parseInt(se)||0,fe=n.indexOf("-")>-1;P=this.isNullOrUndefined(P)||this.isNullOrUndefined(g)?P:Math.max(P,g);let ne=Y+ge/100;return ne=fe?-ne:ne,!this.isNullOrUndefined(P)&&ne>P?this.applyMask(!0,P+""):!this.isNullOrUndefined(g)&&ne<g?this.applyMask(!0,g+""):(c>0&&(q+="0"==q&&se.length<c?u+"0".repeat(c-1)+se:u+se),(fe&&a&&0!=ne?"-":"")+m+q+w)}padOrTrimPrecision(i){let{decimal:n,precision:a}=this.options,u=i.lastIndexOf(n);-1===u&&(u=i.length,i+=n);let c=i.substring(u).replace(this.ONLY_NUMBERS_REGEX,"");const m=c.length;if(m<a)for(let w=m;w<a;w++)c+="0";else m>a&&(c=c.substring(0,c.length+a-m));return i.substring(0,u)+n+c}clearMask(i){if(this.isNullable()&&""===i)return null;let n=(i||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(n=n.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(n=n.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((a,u)=>{const c=new RegExp(u,"g");n=n.replace(c,a)}),parseFloat(n)}changeToNegative(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))}changeToPositive(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))}removeNumber(i){if(this.isNullable()&&0==this.value)return void(this.rawValue=null);let n=this.inputSelection.selectionEnd,a=this.inputSelection.selectionStart;a>this.rawValue.length-this.options.suffix.length&&(n=this.rawValue.length-this.options.suffix.length,a=this.rawValue.length-this.options.suffix.length);let u=this.rawValue.substr(a-1,1).match(/\d/)?0:-1;8==i&&a-1==0&&!this.rawValue.substr(a,1).match(/\d/)||(46==i||63272==i)&&0===a&&!this.rawValue.substr(a+1,1).match(/\d/)?u=1:(46==i||63272==i)&&0!==a&&!this.rawValue.substr(a-1,1).match(/\d/)&&(u=0),n=46==i||63272==i?n+1:n,a=8==i?a-1:a,this.rawValue=this.rawValue.substring(0,a)+this.rawValue.substring(n,this.rawValue.length),this.updateFieldValue(a+u)}updateFieldValue(i){let n=this.applyMask(!1,this.rawValue||"");i=i??this.rawValue.length,i=Math.max(this.options.prefix.length,Math.min(i,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(n,this.rawValue.length,i)}updateOptions(i){let n=this.value;this.options=i,this.value=n}prefixLength(){return this.options.prefix.length}isNullable(){return this.options.nullable}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(i){this.inputManager.rawValue=i}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(i){this.rawValue=this.applyMask(!0,""+i)}isNullOrUndefined(i){return null==i}}class J{constructor(i,n){this.inputService=new G(i,n)}handleCut(i){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(i){let n=this.inputService.rawValue.charCodeAt(this.inputService.rawValue.length-1),a=this.inputService.rawValue.length,u=this.inputService.inputSelection.selectionEnd,c=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,a==u&&1==Math.abs(a-c)){if(a<c&&this.inputService.removeNumber(8),a>c)switch(n){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers)return;this.inputService.addNumber(n)}this.setCursorPosition(i),this.onModelChange(this.inputService.value)}else this.setCursorPosition(i)}handleKeydown(i){let n=i.which||i.charCode||i.keyCode;if(8==n||46==n||63272==n){i.preventDefault();let a=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);0==a&&(this.inputService.removeNumber(n),this.onModelChange(this.inputService.value)),a>=this.inputService.rawValue.length-this.inputService.prefixLength()&&this.clearValue()}}clearValue(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)}handleKeypress(i){let n=i.which||i.charCode||i.keyCode;if(i.preventDefault(),97!==n||!i.ctrlKey){switch(n){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(n))}this.onModelChange(this.inputService.value)}}handlePaste(i){setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(i){this.inputService.updateOptions(i)}getOnModelChange(){return this.onModelChange}setOnModelChange(i){this.onModelChange=i}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(i){this.onModelTouched=i}setValue(i){this.inputService.value=i}setCursorPosition(i){setTimeout(function(){i.target.setSelectionRange(i.target.value.length,i.target.value.length)},0)}}const ce={provide:X.NG_VALUE_ACCESSOR,useExisting:(0,M.forwardRef)(()=>me),multi:!0};let me=(()=>{let l=class{constructor(n,a,u){this.currencyMaskConfig=n,this.elementRef=a,this.keyValueDiffers=u,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1},n&&(this.optionsTemplate=n),this.keyValueDiffer=u.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new J(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(n){this.inputHandler.getOnModelTouched().apply(n)}handleCut(n){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(n)}handleInput(n){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(n)}handleKeydown(n){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(n)}handleKeypress(n){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(n)}handlePaste(n){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(n)}handleDrop(n){this.isChromeAndroid()||n.preventDefault()}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}isReadOnly(){return this.elementRef.nativeElement.hasAttribute("readonly")}registerOnChange(n){this.inputHandler.setOnModelChange(n)}registerOnTouched(n){this.inputHandler.setOnModelTouched(n)}setDisabledState(n){this.elementRef.nativeElement.disabled=n}writeValue(n){this.inputHandler.setValue(n)}};return l.\u0275fac=function(n){return new(n||l)(M.\u0275\u0275directiveInject(T,8),M.\u0275\u0275directiveInject(M.ElementRef),M.\u0275\u0275directiveInject(M.KeyValueDiffers))},l.\u0275dir=M.\u0275\u0275defineDirective({type:l,selectors:[["","currencyMask",""]],hostBindings:function(n,a){1&n&&M.\u0275\u0275listener("blur",function(c){return a.handleBlur(c)})("cut",function(c){return a.handleCut(c)})("input",function(c){return a.handleInput(c)})("keydown",function(c){return a.handleKeydown(c)})("keypress",function(c){return a.handleKeypress(c)})("paste",function(c){return a.handlePaste(c)})("drop",function(c){return a.handleDrop(c)})},inputs:{options:"options"},features:[M.\u0275\u0275ProvidersFeature([ce])]}),b([(0,M.Input)()],l.prototype,"options",void 0),b([(0,M.HostListener)("blur",["$event"])],l.prototype,"handleBlur",null),b([(0,M.HostListener)("cut",["$event"])],l.prototype,"handleCut",null),b([(0,M.HostListener)("input",["$event"])],l.prototype,"handleInput",null),b([(0,M.HostListener)("keydown",["$event"])],l.prototype,"handleKeydown",null),b([(0,M.HostListener)("keypress",["$event"])],l.prototype,"handleKeypress",null),b([(0,M.HostListener)("paste",["$event"])],l.prototype,"handlePaste",null),b([(0,M.HostListener)("drop",["$event"])],l.prototype,"handleDrop",null),l=b([C(0,(0,M.Optional)()),C(0,(0,M.Inject)(T))],l),l})();var te;let H=te=class{static forRoot(i){return{ngModule:te,providers:[{provide:T,useValue:i}]}}};H.\u0275fac=function(i){return new(i||H)},H.\u0275mod=M.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=M.\u0275\u0275defineInjector({imports:[ee.ez,X.FormsModule]})},38980:($,B,p)=>{p.d(B,{xd:()=>Pe,x0:()=>Fe,N7:()=>Ee,Cl:()=>Be});var t=p(94650);function k(r,s=0){return function y(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):s}var v=p(8929),E=p(21086),x=p(34202),f=p(23753),R=p(90352),D=p(8139),j=p(24096),Q=p(54715),de=p(75778),re=p(27568),le=p(92198),oe=p(7625),ae=p(1059),ue=p(60519),he=p(87545),pe=p(5154),M=p(36895);let X;try{X=typeof Intl<"u"&&Intl.v8BreakIterator}catch{X=!1}let te,H,ee=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,M.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!X)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(t.PLATFORM_ID))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function i(){if("object"!=typeof document||!document)return 0;if(null==te){const r=document.createElement("div"),s=r.style;r.dir="rtl",s.width="1px",s.overflow="auto",s.visibility="hidden",s.pointerEvents="none",s.position="absolute";const e=document.createElement("div"),o=e.style;o.width="2px",o.height="1px",r.appendChild(e),document.body.appendChild(r),te=0,0===r.scrollLeft&&(r.scrollLeft=1,te=0===r.scrollLeft?1:2),r.remove()}return te}const U=new t.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function g(){return(0,t.inject)(M.K0)}}),P=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let O=(()=>{class r{constructor(e){if(this.value="ltr",this.change=new t.EventEmitter,e){const d=e.documentElement?e.documentElement.dir:null;this.value=function K(r){const s=r?.toLowerCase()||"";return"auto"===s&&typeof navigator<"u"&&navigator?.language?P.test(navigator.language)?"rtl":"ltr":"rtl"===s?"rtl":"ltr"}((e.body?e.body.dir:null)||d||"ltr")}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(U,8))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Y=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=t.\u0275\u0275defineInjector({}),r})();var q=p(71762);class fe extends class se{}{constructor(s){super(),this._data=s}connect(){return(0,Q.b)(this._data)?this._data:(0,E.of)(this._data)}disconnect(){}}class _e{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(s,e,o,d,h){s.forEachOperation((_,V,S)=>{let I,Z;null==_.previousIndex?(I=this._insertView(()=>o(_,V,S),S,e,d(_)),Z=I?1:0):null==S?(this._detachAndCacheView(V,e),Z=3):(I=this._moveView(V,S,e,d(_)),Z=2),h&&h({context:I?.context,operation:Z,record:_})})}detach(){for(const s of this._viewCache)s.destroy();this._viewCache=[]}_insertView(s,e,o,d){const h=this._insertViewFromCache(e,o);if(h)return void(h.context.$implicit=d);const _=s();return o.createEmbeddedView(_.templateRef,_.context,_.index)}_detachAndCacheView(s,e){const o=e.detach(s);this._maybeCacheView(o,e)}_moveView(s,e,o,d){const h=o.get(s);return o.move(h,e),h.context.$implicit=d,h}_maybeCacheView(s,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(s);else{const o=e.indexOf(s);-1===o?s.destroy():e.remove(o)}}_insertViewFromCache(s,e){const o=this._viewCache.pop();return o&&e.insert(o,s),o||null}}const Ce=new t.InjectionToken("_ViewRepeater"),xe=["contentWrapper"],Me=["*"],we=new t.InjectionToken("VIRTUAL_SCROLL_STRATEGY");class Oe{constructor(s,e,o){this._scrolledIndexChange=new v.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,de.x)()),this._viewport=null,this._itemSize=s,this._minBufferPx=e,this._maxBufferPx=o}attach(s){this._viewport=s,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(s,e,o){this._itemSize=s,this._minBufferPx=e,this._maxBufferPx=o,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(s,e){this._viewport&&this._viewport.scrollToOffset(s*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const s=this._viewport.getRenderedRange(),e={start:s.start,end:s.end},o=this._viewport.getViewportSize(),d=this._viewport.getDataLength();let h=this._viewport.measureScrollOffset(),_=this._itemSize>0?h/this._itemSize:0;if(e.end>d){const S=Math.ceil(o/this._itemSize),I=Math.max(0,Math.min(_,d-S));_!=I&&(_=I,h=I*this._itemSize,e.start=Math.floor(_)),e.end=Math.max(0,Math.min(d,e.start+S))}const V=h-e.start*this._itemSize;if(V<this._minBufferPx&&0!=e.start){const S=Math.ceil((this._maxBufferPx-V)/this._itemSize);e.start=Math.max(0,e.start-S),e.end=Math.min(d,Math.ceil(_+(o+this._minBufferPx)/this._itemSize))}else{const S=e.end*this._itemSize-(h+o);if(S<this._minBufferPx&&e.end!=d){const I=Math.ceil((this._maxBufferPx-S)/this._itemSize);I>0&&(e.end=Math.min(d,e.end+I),e.start=Math.max(0,Math.floor(_-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(_))}}function Ie(r){return r._scrollStrategy}let Pe=(()=>{class r{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Oe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=k(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=k(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=k(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=t.\u0275\u0275defineDirective({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[t.\u0275\u0275ProvidersFeature([{provide:we,useFactory:Ie,deps:[(0,t.forwardRef)(()=>r)]}]),t.\u0275\u0275NgOnChangesFeature]}),r})(),ve=(()=>{class r{constructor(e,o,d){this._ngZone=e,this._platform=o,this._scrolled=new v.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=d}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new x.y(o=>{this._globalSubscription||this._addGlobalListener();const d=e>0?this._scrolled.pipe((0,re.e)(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{d.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,E.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const d=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe((0,le.h)(h=>!h||d.indexOf(h)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((d,h)=>{this._scrollableContainsElement(h,e)&&o.push(h)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let d=function z(r){return r instanceof t.ElementRef?r.nativeElement:r}(o),h=e.getElementRef().nativeElement;do{if(d==h)return!0}while(d=d.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,f.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(ee),t.\u0275\u0275inject(M.K0,8))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ye=(()=>{class r{constructor(e,o,d,h){this.elementRef=e,this.scrollDispatcher=o,this.ngZone=d,this.dir=h,this._destroyed=new v.xQ,this._elementScrolled=new x.y(_=>this.ngZone.runOutsideAngular(()=>(0,f.R)(this.elementRef.nativeElement,"scroll").pipe((0,oe.R)(this._destroyed)).subscribe(_)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const o=this.elementRef.nativeElement,d=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=d?e.end:e.start),null==e.right&&(e.right=d?e.start:e.end),null!=e.bottom&&(e.top=o.scrollHeight-o.clientHeight-e.bottom),d&&0!=i()?(null!=e.left&&(e.right=o.scrollWidth-o.clientWidth-e.left),2==i()?e.left=e.right:1==i()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=o.scrollWidth-o.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const o=this.elementRef.nativeElement;!function l(){if(null==H){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return H=!1,H;if("scrollBehavior"in document.documentElement.style)H=!0;else{const r=Element.prototype.scrollTo;H=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return H}()?(null!=e.top&&(o.scrollTop=e.top),null!=e.left&&(o.scrollLeft=e.left)):o.scrollTo(e)}measureScrollOffset(e){const o="left",d="right",h=this.elementRef.nativeElement;if("top"==e)return h.scrollTop;if("bottom"==e)return h.scrollHeight-h.clientHeight-h.scrollTop;const _=this.dir&&"rtl"==this.dir.value;return"start"==e?e=_?d:o:"end"==e&&(e=_?o:d),_&&2==i()?e==o?h.scrollWidth-h.clientWidth-h.scrollLeft:h.scrollLeft:_&&1==i()?e==o?h.scrollLeft+h.scrollWidth-h.clientWidth:-h.scrollLeft:e==o?h.scrollLeft:h.scrollWidth-h.clientWidth-h.scrollLeft}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(ve),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(O,8))},r.\u0275dir=t.\u0275\u0275defineDirective({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),Ae=(()=>{class r{constructor(e,o,d){this._platform=e,this._change=new v.xQ,this._changeListener=h=>{this._change.next(h)},this._document=d,o.runOutsideAngular(()=>{if(e.isBrowser){const h=this._getWindow();h.addEventListener("resize",this._changeListener),h.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:d}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+d,right:e.left+o,height:d,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),d=e.documentElement,h=d.getBoundingClientRect();return{top:-h.top||e.body.scrollTop||o.scrollY||d.scrollTop||0,left:-h.left||e.body.scrollLeft||o.scrollX||d.scrollLeft||0}}change(e=20){return e>0?this._change.pipe((0,re.e)(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(ee),t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(M.K0,8))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Se=new t.InjectionToken("VIRTUAL_SCROLLABLE");let ke=(()=>{class r extends ye{constructor(e,o,d,h){super(e,o,d,h)}measureViewportSize(e){const o=this.elementRef.nativeElement;return"horizontal"===e?o.clientWidth:o.clientHeight}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(ve),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(O,8))},r.\u0275dir=t.\u0275\u0275defineDirective({type:r,features:[t.\u0275\u0275InheritDefinitionFeature]}),r})();const Le=typeof requestAnimationFrame<"u"?R.r:D.e;let Ee=(()=>{class r extends ke{constructor(e,o,d,h,_,V,S,I){super(e,V,d,_),this.elementRef=e,this._changeDetectorRef=o,this._scrollStrategy=h,this.scrollable=I,this._platform=(0,t.inject)(ee),this._detachedSubject=new v.xQ,this._renderedRangeSubject=new v.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new x.y(Z=>this._scrollStrategy.scrolledIndexChange.subscribe(ie=>Promise.resolve().then(()=>this.ngZone.run(()=>Z.next(ie))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=j.w.EMPTY,this._viewportChanges=S.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function A(r){return null!=r&&"false"!=`${r}`}(e)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,ae.O)(null),(0,re.e)(0,Le)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe((0,oe.R)(this._detachedSubject)).subscribe(o=>{const d=o.length;d!==this._dataLength&&(this._dataLength=d,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function Ne(r,s){return r.start==s.start&&r.end==s.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,o="to-start"){e=this.appendOnly&&"to-start"===o?0:e;const h="horizontal"==this.orientation,_=h?"X":"Y";let S=`translate${_}(${Number((h&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===o&&(S+=` translate${_}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=S&&(this._renderedContentTransform=S,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,o="auto"){const d={behavior:o};"horizontal"===this.orientation?d.start=e:d.top=e,this.scrollable.scrollTo(d)}scrollToIndex(e,o="auto"){this._scrollStrategy.scrollToIndex(e,o)}measureScrollOffset(e){let o;return o=this.scrollable==this?d=>super.measureScrollOffset(d):d=>this.scrollable.measureScrollOffset(d),Math.max(0,o(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let o;const d="left",h="right",_="rtl"==this.dir?.value;o="start"==e?_?h:d:"end"==e?_?d:h:e||("horizontal"===this.orientation?"left":"top");const V=this.scrollable.measureBoundingClientRectWithScrollOffset(o);return this.elementRef.nativeElement.getBoundingClientRect()[o]-V}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const o of e)o()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(we,8),t.\u0275\u0275directiveInject(O,8),t.\u0275\u0275directiveInject(ve),t.\u0275\u0275directiveInject(Ae),t.\u0275\u0275directiveInject(Se,8))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,o){if(1&e&&t.\u0275\u0275viewQuery(xe,7),2&e){let d;t.\u0275\u0275queryRefresh(d=t.\u0275\u0275loadQuery())&&(o._contentWrapper=d.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,o){2&e&&t.\u0275\u0275classProp("cdk-virtual-scroll-orientation-horizontal","horizontal"===o.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==o.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[t.\u0275\u0275ProvidersFeature([{provide:ye,useFactory:(s,e)=>s||e,deps:[[new t.Optional,new t.Inject(Se)],r]}]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Me,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,o){1&e&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0,1),t.\u0275\u0275projection(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"div",2)),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("width",o._totalContentWidth)("height",o._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),r})();function be(r,s,e){if(!e.getBoundingClientRect)return 0;const d=e.getBoundingClientRect();return"horizontal"===r?"start"===s?d.left:d.right:"start"===s?d.top:d.bottom}let Fe=(()=>{class r{constructor(e,o,d,h,_,V){this._viewContainerRef=e,this._template=o,this._differs=d,this._viewRepeater=h,this._viewport=_,this.viewChange=new v.xQ,this._dataSourceChanges=new v.xQ,this.dataStream=this._dataSourceChanges.pipe((0,ae.O)(null),(0,ue.G)(),(0,he.w)(([S,I])=>this._changeDataSource(S,I)),(0,pe.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new v.xQ,this.dataStream.subscribe(S=>{this._data=S,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,oe.R)(this._destroyed)).subscribe(S=>{this._renderedRange=S,this.viewChange.observers.length&&V.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function ge(r){return r&&"function"==typeof r.connect&&!(r instanceof q.c)}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new fe((0,Q.b)(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(o,d)=>e(o+(this._renderedRange?this._renderedRange.start:0),d):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=k(e)}measureRangeSize(e,o){if(e.start>=e.end)return 0;const d=e.start-this._renderedRange.start,h=e.end-e.start;let _,V;for(let S=0;S<h;S++){const I=this._viewContainerRef.get(S+d);if(I&&I.rootNodes.length){_=V=I.rootNodes[0];break}}for(let S=h-1;S>-1;S--){const I=this._viewContainerRef.get(S+d);if(I&&I.rootNodes.length){V=I.rootNodes[I.rootNodes.length-1];break}}return _&&V?be(o,"end",V)-be(o,"start",_):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,o)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,o):o)),this._needsUpdate=!0)}_changeDataSource(e,o){return e&&e.disconnect(this),this._needsUpdate=!0,o?o.connect(this):(0,E.of)()}_updateContext(){const e=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const d=this._viewContainerRef.get(o);d.context.index=this._renderedRange.start+o,d.context.count=e,this._updateComputedContextProperties(d.context),d.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(h,_,V)=>this._getEmbeddedViewArgs(h,V),h=>h.item),e.forEachIdentityChange(h=>{this._viewContainerRef.get(h.currentIndex).context.$implicit=h.item});const o=this._data.length;let d=this._viewContainerRef.length;for(;d--;){const h=this._viewContainerRef.get(d);h.context.index=this._renderedRange.start+d,h.context.count=o,this._updateComputedContextProperties(h.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,o){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:o}}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.TemplateRef),t.\u0275\u0275directiveInject(t.IterableDiffers),t.\u0275\u0275directiveInject(Ce),t.\u0275\u0275directiveInject(Ee,4),t.\u0275\u0275directiveInject(t.NgZone))},r.\u0275dir=t.\u0275\u0275defineDirective({type:r,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[t.\u0275\u0275ProvidersFeature([{provide:Ce,useClass:_e}])]}),r})(),Re=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=t.\u0275\u0275defineInjector({}),r})(),Be=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=t.\u0275\u0275defineInjector({imports:[Y,Re,Y,Re]}),r})()}}]);