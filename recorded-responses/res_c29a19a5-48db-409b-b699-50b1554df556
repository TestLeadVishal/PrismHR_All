"use strict";(self.webpackChunkprismhr_ess=self.webpackChunkprismhr_ess||[]).push([[4004],{89626:(O,S,a)=>{a.d(S,{O:()=>y});var h=a(15439),b=a.n(h),c=a(94650),D=a(3270),v=a(24006),f=a(36895),_=a(57305),T=a(29785),x=a(42466);function g(d,E){if(1&d&&(c.\u0275\u0275elementStart(0,"div",4),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),2&d){const p=c.\u0275\u0275nextContext();c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",p.errMsg," ")}}let y=(()=>{class d{constructor(p,l){this.i18nService=p,this.fb=l,this.lifeEventCodes=[],this.lifeEventForm=this.fb.group({lifeEvent:this.fb.nonNullable.control("",null),eventDate:this.fb.nonNullable.control("",null)}),this.activeLifeEvent={code:null,display:null,eventDate:null},this.lifeEventOptions=[],this.resetForm()}resetForm(){this.activeLifeEvent={code:null,display:null,eventDate:null},this.lifeEventForm.reset()}save(){return this.activeLifeEvent.code=this.lifeEventForm.value.lifeEvent,this.activeLifeEvent.eventDate=this.lifeEventForm.value.eventDate,this.activeLifeEvent.display=this.lifeEventCodes.find(p=>p.code===this.activeLifeEvent.code).name,this.activeLifeEvent}isEventDateInRange(){const p=this.lifeEventCodes.find(I=>I.code===this.lifeEventForm.controls.lifeEvent.value).notifyWindow,l=b()().subtract(p+1,"days");return b()(this.lifeEventForm.controls.eventDate.value,"MM/DD/YYYY").isAfter(l)}getActiveLifeEvent(){return this.save()}initializelifeEventCodes(){this.lifeEventOptions=[{value:"",display:this.i18nService.getTranslateService().instant("LABEL.SELECT_ONE")}],this.lifeEventCodes.map(p=>{this.lifeEventOptions.push({value:p.code,display:p.name})})}ngOnInit(){this.initializelifeEventCodes()}ngOnChanges(p){p.lifeEventCodes&&this.initializelifeEventCodes()}}return d.\u0275fac=function(p){return new(p||d)(c.\u0275\u0275directiveInject(D.D),c.\u0275\u0275directiveInject(v.FormBuilder))},d.\u0275cmp=c.\u0275\u0275defineComponent({type:d,selectors:[["phr-life-events-creation-form"]],inputs:{lifeEventCodes:"lifeEventCodes"},features:[c.\u0275\u0275NgOnChangesFeature],decls:9,vars:12,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],["class","text-danger mb-3 pl-3 error-border-left",4,"ngIf"],["required","",3,"label","options","control"],["required","",3,"label","disabled","control"],[1,"text-danger","mb-3","pl-3","error-border-left"]],template:function(p,l){1&p&&(c.\u0275\u0275elementStart(0,"div")(1,"form",0),c.\u0275\u0275listener("ngSubmit",function(){return l.save()}),c.\u0275\u0275template(2,g,2,1,"div",1),c.\u0275\u0275elementStart(3,"div"),c.\u0275\u0275element(4,"phr-dropdown-control",2),c.\u0275\u0275pipe(5,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(6,"div"),c.\u0275\u0275element(7,"phr-date-control",3),c.\u0275\u0275pipe(8,"translate"),c.\u0275\u0275elementEnd()()()),2&p&&(c.\u0275\u0275advance(1),c.\u0275\u0275property("formGroup",l.lifeEventForm),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",l.errMsg),c.\u0275\u0275advance(2),c.\u0275\u0275propertyInterpolate("label",c.\u0275\u0275pipeBind1(5,8,"LABEL.LIFE_EVENTS")),c.\u0275\u0275property("options",l.lifeEventOptions)("control",l.lifeEventForm.controls.lifeEvent),c.\u0275\u0275advance(3),c.\u0275\u0275propertyInterpolate("label",c.\u0275\u0275pipeBind1(8,10,"LABEL.DATE_OCCURRED")),c.\u0275\u0275property("disabled",!l.lifeEventForm.controls.lifeEvent.value)("control",l.lifeEventForm.controls.eventDate))},dependencies:[f.O5,v.\u0275NgNoValidate,v.NgControlStatusGroup,v.FormGroupDirective,_.T,T.Oz,x.X$],encapsulation:2}),d})()},72093:(O,S,a)=>{a.d(S,{N:()=>h});const h={1:"ERROR.SERVER_ERROR",2:"ERROR.LIFE_EVENTS.BE_NOT_CONFIGURED",3:"VALIDATION.LIFE_EVENT_DATE_RANGE",4:"ERROR.LIFE_EVENTS.WORKFLOW_EXISTS",5:"ERROR.LIFE_EVENTS.BE_NOT_CONFIGURED"}},94004:(O,S,a)=>{a.r(S),a.d(S,{LifeEventsModule:()=>Ot});var h=a(34793),b=a(24006),c=a(29415),D=a(42437),v=a(42466),f=a(52885),_=a(36895),T=a(43242),x=a(15861),g=a(30567),y=a(34202),d=a(87224),E=a(15439),p=a.n(E),l=(()=>{return(i=l||(l={})).PERSONAL_INFO="personal-info",i.CONTACT_INFO="contact-info",i.EMERGENCY_CONTACTS="emergency-contacts",i.ADDRESS="address",i.TAX_WITHHOLDING="tax-withholding",i.DIRECT_DEPOSIT="direct-deposit",i.BE="benefits-enrollment",l;var i})(),I=a(72093),L=a(2994),e=a(94650),U=a(74078),H=a(79193),B=a(44228),M=a(80068),F=a(46936),w=a(27111),W=a(90525),j=a(12427),G=a(34623),P=a(88452),K=a(11220),Q=a(13895),N=a(92807),Y=a(33922);const z=["addressInfoForm"];function $(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.goBackStep())}),e.\u0275\u0275element(1,"i",9),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"ACTION.BACK")," "))}function X(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",10),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"VALIDATION.INVALID_INPUT")," "))}let Z=(()=>{class i{constructor(t){this.configService=t,this.employee={},this.onDataUpdate=new e.EventEmitter,this.onBackBtn=new e.EventEmitter,this.onSave=new e.EventEmitter,this.addressPartsReviewed=[{form:N.d.RESIDENT,reviewed:!1},{form:N.d.MAILING,reviewed:!1},{form:N.d.W2,reviewed:!1}],this.hasErr=!1}getActiveTabIndex(){const t=this.addressInfoForm.tabSet.activeId;return this.addressPartsReviewed.findIndex(n=>n.form===t)}goBackStep(){document.getElementById("formTop").scrollIntoView(),0===this.getActiveTabIndex()?this.onBackBtn.emit():this.addressInfoForm.selectTab(this.addressPartsReviewed[this.getActiveTabIndex()-1].form)}isFormValid(){return!this.addressInfoForm||this.addressInfoForm.isFormValid()}getEmployeeData(){return this.addressInfoForm.getEmployeeData()}handleSave(){if(document.getElementById("formTop").scrollIntoView(),this.isFormValid){this.employee=this.addressInfoForm.getEmployeeData();const t=this.addressInfoForm.tabSet.activeId;this.addressPartsReviewed=this.addressPartsReviewed.map(n=>n.form===t?{...n,reviewed:!0}:n),2===this.getActiveTabIndex()?this.onSave.emit(this.employee):this.addressInfoForm.selectTab(this.addressPartsReviewed[this.getActiveTabIndex()+1].form)}else this.hasErr=!0}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(w.oV))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["phr-life-events-address"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(z,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.addressInfoForm=o.first)}},inputs:{employee:"employee",activeStepNumber:"activeStepNumber"},outputs:{onDataUpdate:"onDataUpdate",onBackBtn:"onBackBtn",onSave:"onSave"},decls:10,vars:8,consts:[[3,"hideSaveBtn","employee"],["addressInfoForm",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"col-12","col-sm-6","col-md-6","pt-2","pb-2","lifeEventBackBtn","px-0"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],[1,"col-12","col-sm-6","col-md-6","pt-2","pb-2","lifeEventSaveBtn","px-0"],[1,"btn","btn-primary",3,"disabled","click"],["class","text-danger float-right",4,"ngIf"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-chevron-left","mr-2"],[1,"text-danger","float-right"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"phr-address-form",0,1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,$,4,3,"button",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5)(6,"button",6),e.\u0275\u0275listener("click",function(){return n.handleSave()}),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,X,3,3,"p",7),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275property("hideSaveBtn",!0)("employee",n.employee),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0!==n.activeStepNumber),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.isFormValid()),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,6,"ACTION.SAVE_CONTINUE")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.hasErr))},dependencies:[_.O5,Y.C,v.X$],styles:[".lifeEventHeader[_ngcontent-%COMP%]{border-right:solid 1px #e9ecef}.lifeEventSaveBtn[_ngcontent-%COMP%]{text-align:right}.phr-popover-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;text-align:end}.phr-popover-wrapper[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%]{top:100%;left:unset;right:0}@media screen and (max-width: 960px){.lifeEventHeaderLast[_ngcontent-%COMP%]{border-right:0}.progressBar[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (max-width: 640px){.lifeEventSaveBtn[_ngcontent-%COMP%], .lifeEventBackBtn[_ngcontent-%COMP%]{text-align:center}.lifeEventSaveBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .lifeEventBackBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 480px){.lifeEventHeader[_ngcontent-%COMP%]{border-right:0}}"]}),i})();var J=a(2279),q=a(94445),ee=a(70500);function te(i,r){1&i&&e.\u0275\u0275element(0,"phr-block-loader")}function ne(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"div",4),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",4)(6,"a",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.closeInfo())}),e.\u0275\u0275element(7,"i",6),e.\u0275\u0275elementEnd()()()()}2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"MESSAGE.TAX_WITHHOLDING.ERROR_LOADING")," "))}function ie(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onUpdateForm())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",t.connectingSymmetry),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"ACTION.UPDATE_FORMS")," ")}}function oe(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",7),e.\u0275\u0275template(2,ie,3,4,"button",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3)(4,"div",9),e.\u0275\u0275element(5,"phr-w4-federal",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",9),e.\u0275\u0275element(7,"phr-w4-home-state",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(8,"phr-w4-work-states",12),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.enableSymmetry&&t.updateTaxFormsAvailable),e.\u0275\u0275advance(3),e.\u0275\u0275property("templateConfig",t.configService.config)("w4federal",t.w4TaxSettings.federal),e.\u0275\u0275advance(2),e.\u0275\u0275property("templateConfig",t.configService.config)("w4homeState",t.w4TaxSettings.homeState),e.\u0275\u0275advance(1),e.\u0275\u0275property("templateConfig",t.configService.config)("w4workStates",t.w4TaxSettings.workStates)}}let re=(()=>{class i{constructor(t,n,o){this.router=t,this.configService=n,this.taxWithholdingService=o,this.w4TaxSettings=null,this.updateTaxFormsAvailable=!1,this.connectingSymmetry=!1,this.symmetryLoadError=!1,this.loading=!0,this.perPaycheckAddon=" (per paycheck)",this.alertTimeout=1e4}getTaxSettings(){return this.w4TaxSettings}get config(){return this.configService.config}get enableSymmetry(){return this.config.enableSymmetry}loadTaxSettings(){return new y.y(t=>{this.taxWithholdingService.getW4Settings().subscribe(n=>{this.w4TaxSettings=n,this.updateTaxFormsAvailable=!(n.federal.locked||n.homeState.locked||n.workStates.some(o=>o.locked)||this.config?.taxWithholdingReadOnly),this.adjustLabels(),t.next(n),t.complete()},n=>{})})}ngOnInit(){this.loadTaxSettings().subscribe(t=>{this.loading=!1},t=>{})}onUpdateForm(){this.connectingSymmetry=!0,this.taxWithholdingService.callSymmetry().subscribe(t=>{this.connectingSymmetry=!1,this.router.navigate(["/ess/tax-withholding/symmetry"],{queryParams:{path:t.symmetryURI,lifeEvents:!0}})},t=>{this.connectingSymmetry=!1,this.symmetryLoadError=!0,this.closeInfoInterval()})}closeInfo(){this.symmetryLoadError=!1}closeInfoInterval(){const t=this;clearTimeout(this.tOut),this.tOut=setTimeout(function(){t.closeInfo()},this.alertTimeout)}adjustLabels(){const t=this;this.w4TaxSettings&&["federal","homeState","workStates"].forEach(s=>function(s){Array.isArray(s)?s.forEach(m=>{m.additionalAmount&&(m.additionalAmount.label+=t.perPaycheckAddon)}):s.additionalAmount&&(s.additionalAmount.label+=t.perPaycheckAddon)}(this.w4TaxSettings[s]))}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(h.F0),e.\u0275\u0275directiveInject(w.oV),e.\u0275\u0275directiveInject(M.n))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["phr-life-event-tax-withholding"]],decls:3,vars:3,consts:[[4,"ngIf"],["class","alert alert-danger fade show","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","fade","show"],[1,"row"],[1,"col"],[1,"pull-right",3,"click"],[1,"fas","fa-times"],[1,"d-flex","justify-content-end","pb-3"],["class","btn btn-primary float-right",3,"disabled","click",4,"ngIf"],[1,"col-xs-12","col-md-6"],[3,"templateConfig","w4federal"],[3,"templateConfig","w4homeState"],[3,"templateConfig","w4workStates"],[1,"btn","btn-primary","float-right",3,"disabled","click"]],template:function(t,n){1&t&&(e.\u0275\u0275template(0,te,1,0,"phr-block-loader",0),e.\u0275\u0275template(1,ne,8,3,"div",1),e.\u0275\u0275template(2,oe,9,7,"div",0)),2&t&&(e.\u0275\u0275property("ngIf",n.loading||n.connectingSymmetry),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.symmetryLoadError),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.loading))},dependencies:[_.O5,P.E,J.Z,q.k,ee.x,v.X$],encapsulation:2}),i})();var ae=a(89626),se=a(14139);const le=["form"];let ce=(()=>{class i{constructor(t,n){this.activeModal=t,this.translateService=n,this.contact=null,this.isNew=!0,this.viewRendered=!1,this.form=null}ngAfterViewChecked(){this.form&&this.form.emergencyContactForm&&(this.viewRendered=!0)}get title(){return this.translateService.instant("LABEL."+(this.isNew?"ADD_CONTACT":"EDIT_CONTACT"))}isValid(){return this.form&&this.form.emergencyContactForm&&this.form.emergencyContactForm.valid}handleSave(){this.activeModal.close(this.form.getFormData())}handleClose(){this.activeModal.dismiss()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.Kz),e.\u0275\u0275directiveInject(v.sK))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["phr-life-events-edit-emergency-contact"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(le,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.form=o.first)}},inputs:{contact:"contact",isNew:"isNew"},decls:16,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"emergencyContact"],["form",""],[1,"modal-footer","justify-content-start","d-flex"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return n.handleClose()}),e.\u0275\u0275elementStart(5,"span",3),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275element(8,"phr-emergency-contact-form",5,6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",7)(11,"button",8),e.\u0275\u0275listener("click",function(){return n.handleSave()}),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"button",9),e.\u0275\u0275listener("click",function(){return n.handleClose()}),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(3,6,"TITLE.EMERGENCY_CONTACTS"),": ",n.title," "),e.\u0275\u0275advance(6),e.\u0275\u0275property("emergencyContact",n.contact),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",n.viewRendered?!n.isValid():n.isNew),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.title," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,8,"ACTION.CANCEL")," "))},dependencies:[se.h,v.X$],encapsulation:2}),i})();var pe=a(51060);let de=(()=>{class i{constructor(t){this.ngbModalService=t,this.employee=null}handleEditContact(t){const{emergencyContact:n,index:o}=t;this.openEmergencyContactFormModal(n,!1).then(s=>{this.employee.emergencyContacts[o]=s},s=>{})}handleAddContact(){return this.openEmergencyContactFormModal({name:"",relationship:"",type:"",info:""}).then(t=>{this.employee.emergencyContacts?this.employee.emergencyContacts.push(t):this.employee.emergencyContacts=[t]},t=>{})}openEmergencyContactFormModal(t,n=!0){const o=this.ngbModalService.open(ce,{backdrop:"static",centered:!0,size:"lg"});return o.componentInstance.contact=t,o.componentInstance.isNew=n,o.result}handleRemoveContact(){}getUpdatedEmployeeData(){return this.employee}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.FF))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["phr-life-events-emergency-contacts"]],inputs:{employee:"employee"},decls:1,vars:1,consts:[[3,"employee","onViewDetails","onInitAddContact","onRemoveContact"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"phr-emergency-contacts-list",0),e.\u0275\u0275listener("onViewDetails",function(s){return n.handleEditContact(s)})("onInitAddContact",function(){return n.handleAddContact()})("onRemoveContact",function(){return n.handleRemoveContact()}),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("employee",n.employee)},dependencies:[pe.z],encapsulation:2}),i})();var me=a(18547);const ve=["form"];function fe(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"h4",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleClose())}),e.\u0275\u0275elementStart(5,"span",6),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",7)(8,"phr-direct-deposit-account-form",8,9),e.\u0275\u0275listener("onDeleteAccount",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleOpenDeleteConfirmation())})("onAddAccount",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleAddAccount(o))})("onUpdateAccount",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleUpdateAccount(o))})("onCancel",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleClose())}),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(3,4,"TITLE.DIRECT_DEPOSIT"),": ",t.title," "),e.\u0275\u0275advance(6),e.\u0275\u0275property("account",t.account)("editing",!t.isNew)}}function _e(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"h4",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",5),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleCloseDeleteConfirmation())}),e.\u0275\u0275elementStart(5,"span",6),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",7)(8,"p"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",10)(12,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleCloseDeleteConfirmation())}),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleDeleteConfirmed())}),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"MESSAGE.ARE_YOU_SURE")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,6,"MESSAGE.DIRECT_DEPOSIT.ARE_YOU_SURE_REMOVE")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,8,"ACTION.CANCEL")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,10,"ACTION.REMOVE")," "))}function ue(i,r){if(1&i&&e.\u0275\u0275elementContainer(0,13),2&i){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(3);e.\u0275\u0275property("ngTemplateOutlet",t)}}function Ee(i,r){if(1&i&&e.\u0275\u0275elementContainer(0,13),2&i){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(1);e.\u0275\u0275property("ngTemplateOutlet",t)}}let he=(()=>{class i{constructor(t,n,o){this.activeModal=t,this.translateService=n,this.directDepositService=o,this.account=null,this.isNew=!0,this.id=null,this._account=null,this.confirmationModalVisible=!1}get title(){return this.translateService.instant("TITLE."+(this.isNew?"ADD":"EDIT")+"_ACCOUNT")}handleClose(){this.activeModal.dismiss(!1)}handleOpenDeleteConfirmation(){this._account=this.form.saveForm(),this.confirmationModalVisible=!0}handleCloseDeleteConfirmation(){this.confirmationModalVisible=!1,this.account=this._account,this._account=null}handleUpdateAccount(t){this.account=t,this.directDepositService.updateAccount(this.id,this.account),this.activeModal.close(!0)}handleAddAccount(t){this.account=t,this.account.depositMethodDescription=this.account.depositMethod,this.directDepositService.addAccount(this.account),this.activeModal.close(!0)}handleDeleteConfirmed(){this.directDepositService.removeAccount(this.id),this.activeModal.close(),this.account=this._account,this._account=null,this.confirmationModalVisible=!1}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.Kz),e.\u0275\u0275directiveInject(v.sK),e.\u0275\u0275directiveInject(B.A))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(ve,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.form=o.first)}},inputs:{account:"account",isNew:"isNew",id:"id"},decls:6,vars:2,consts:[["ddForm",""],["confirmationModal",""],[3,"ngTemplateOutlet",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"account","editing","onDeleteAccount","onAddAccount","onUpdateAccount","onCancel"],["form",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[3,"ngTemplateOutlet"]],template:function(t,n){1&t&&(e.\u0275\u0275template(0,fe,10,6,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(2,_e,18,12,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(4,ue,1,1,"ng-container",2),e.\u0275\u0275template(5,Ee,1,1,"ng-container",2)),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.confirmationModalVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.confirmationModalVisible))},dependencies:[_.O5,_.tP,me.O,v.X$],encapsulation:2}),i})();var ge=a(6081);let Ce=(()=>{class i{constructor(t){this.activeModal=t}handleClose(){this.activeModal.dismiss(!0)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(f.Kz))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ng-component"]],decls:9,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"showHeader","onCancel"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275listener("click",function(){return n.handleClose()}),e.\u0275\u0275elementStart(5,"span",3),e.\u0275\u0275text(6,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",4)(8,"phr-direct-deposit-test-calculator",5),e.\u0275\u0275listener("onCancel",function(){return n.handleClose()}),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"LABEL.TEST_CALCULATOR")),e.\u0275\u0275advance(6),e.\u0275\u0275property("showHeader",!1))},dependencies:[ge.B,v.X$],encapsulation:2}),i})();var ye=a(75255);function Se(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-direct-deposit-table",8),e.\u0275\u0275listener("onAddAccountClicked",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleAddNewAccount())})("onViewTestCalculator",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleViewTestCalculator())})("onRowClicked",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.handleEditAccount(o))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("accounts",t.accountsData)("directDepositEnabled",t.directDepositEnabled)("savedChangesLabel","MESSAGE.DIRECT_DEPOSIT.UNSAVED_CHANGES_LE")("readonly",t.configService.config.directDepositReadOnly)("forceBalance",t.forceBalance)}}function xe(i,r){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",9),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"STATUS.SAVING"),"... "))}function Ie(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleBackStep())}),e.\u0275\u0275element(1,"i",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"ACTION.BACK")," "))}function be(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",12),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"VALIDATION.INVALID_INPUT")," "))}let Te=(()=>{class i{constructor(t,n,o,s,m){this.configService=t,this.ngbModalService=n,this.directDepositService=o,this.translateService=s,this.cdr=m,this.accounts=[],this.activeStepNumber=0,this.onSaveAccounts=new e.EventEmitter,this.onBackStep=new e.EventEmitter,this.hasErr=!1,this.saving=!1,this.readonly=!1,this.accountsData=[],this.translateService.onLangChange.subscribe(()=>{this.localize(this.accounts)})}ngOnChanges(t){t.accounts&&this.localize(t.accounts.currentValue)}ngOnInit(){this.localize(this.accounts),this.refreshDirectDepositAccounts(),this.readonly=this.configService.config.directDepositReadOnly}localize(t){this.accounts=this.directDepositService.translateColumns(t),this.accountsData=this.accounts,this.directDepositService.accounts=this.accounts}handleEditAccount(t){const n=this.directDepositService.getAccountId(t);n>-1&&this.openDirectDepositFormModal(t,!1,n).then(()=>{this.refreshDirectDepositAccounts()},()=>{})}handleViewTestCalculator(){return this.ngbModalService.open(Ce,{backdrop:"static",centered:!0,size:"lg"}).result}handleBackStep(){this.directDepositService.changed?this.directDepositService.showSaveDialog().then(t=>{t&&(this.directDepositService.rejectLocalChanges(),this.accounts=[],this.onBackStep.emit())},t=>{}):this.onBackStep.emit()}handleAddNewAccount(){this.openDirectDepositFormModal({type:"",accountNumber:"",transitNumber:"",depositMethod:"",depositMethodDescription:"",amount:null,maximum:null,status:"",bankName:"",branchName:"",voucherType:""}).then(()=>{this.refreshDirectDepositAccounts()},()=>{})}openDirectDepositFormModal(t,n=!0,o=null){const s=this.ngbModalService.open(he,{backdrop:"static",centered:!0,size:"lg"});return s.componentInstance.account=t,s.componentInstance.isNew=n,s.componentInstance.id=o,s.result}saveAccounts(){this.readonly?this.onSaveAccounts.emit():!0===this.directDepositEnabled?this.directDepositService.openTermsAndConditionsModal().then(t=>{!0===t&&(this.saving=!0,this.directDepositService.postDirectDepositAccounts().subscribe(n=>{this.onSaveAccounts.emit(),this.saving=!1},n=>{}))},t=>console.error(t)):(this.onSaveAccounts.emit(),this.saving=!1)}isSaveButtonDisabled(){let t=!this.directDepositService.changed&&this.saving;if(this.forceBalance){const n=this.directDepositService.percentageAmount()<100&&!this.directDepositService.isRemainder();t=this.directDepositService.percentageAmount()>100||n}else t=this.directDepositService.percentageAmount()>100;return t}refreshDirectDepositAccounts(){this.directDepositService.getDirectDepositAccounts().pipe((0,d.P)()).subscribe(t=>{this.localize(t),this.cdr.detectChanges()})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(w.oV),e.\u0275\u0275directiveInject(f.FF),e.\u0275\u0275directiveInject(B.A),e.\u0275\u0275directiveInject(v.sK),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["phr-life-events-direct-deposit"]],inputs:{accounts:"accounts",activeStepNumber:"activeStepNumber",directDepositEnabled:"directDepositEnabled",forceBalance:"forceBalance"},outputs:{onSaveAccounts:"onSaveAccounts",onBackStep:"onBackStep"},features:[e.\u0275\u0275NgOnChangesFeature],decls:10,vars:8,consts:[[3,"accounts","directDepositEnabled","savedChangesLabel","readonly","forceBalance","onAddAccountClicked","onViewTestCalculator","onRowClicked",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"col-12","col-sm-6","col-md-6","pt-2","pb-2","lifeEventBackBtn","px-0"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],[1,"col-12","col-sm-6","col-md-6","pt-2","pb-2","lifeEventSaveBtn","px-0"],[1,"btn","btn-primary",3,"disabled","click"],["class","text-danger",4,"ngIf"],[3,"accounts","directDepositEnabled","savedChangesLabel","readonly","forceBalance","onAddAccountClicked","onViewTestCalculator","onRowClicked"],[1,"fas","fa-circle-notch","fa-spin"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-chevron-left","mr-2"],[1,"text-danger"]],template:function(t,n){1&t&&(e.\u0275\u0275template(0,Se,1,5,"phr-direct-deposit-table",0),e.\u0275\u0275template(1,xe,4,3,"span",1),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,Ie,4,3,"button",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",5)(6,"button",6),e.\u0275\u0275listener("click",function(){return n.saveAccounts()}),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,be,3,3,"p",7),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275property("ngIf",!n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.saving),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",0!==n.activeStepNumber),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.isSaveButtonDisabled()),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,6,"ACTION.SAVE_CONTINUE")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.hasErr))},dependencies:[_.O5,ye.$,v.X$],styles:[".lifeEventHeader[_ngcontent-%COMP%]{border-right:solid 1px #e9ecef}.lifeEventSaveBtn[_ngcontent-%COMP%]{text-align:right}.phr-popover-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;text-align:end}.phr-popover-wrapper[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%]{top:100%;left:unset;right:0}@media screen and (max-width: 960px){.lifeEventHeaderLast[_ngcontent-%COMP%]{border-right:0}.progressBar[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (max-width: 640px){.lifeEventSaveBtn[_ngcontent-%COMP%], .lifeEventBackBtn[_ngcontent-%COMP%]{text-align:center}.lifeEventSaveBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .lifeEventBackBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 480px){.lifeEventHeader[_ngcontent-%COMP%]{border-right:0}}"]}),i})();const De=["lifeEventPop"],Le=["directDepositForm"],Ae=["personalInfoForm"],we=["contactInfoForm"],Oe=["addressInfoForm"],Be=["taxWithholdingForm"],Ne=["emergencyContactsForm"],Re=["lifeEventCreationForm"];function Me(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.togglePopover())}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",!0===t.loading||t.hasActiveEvent()||t.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,2,"ACTION.REPORT_LIFE_EVENT")," ")}}function Fe(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.errMsg," ")}}function Pe(i,r){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ACTION.SAVE")))}function Ve(i,r){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",21),e.\u0275\u0275elementEnd())}function ke(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"MESSAGE.DIRECT_DEPOSIT.ENTRIES_NOT_SUPPORTED")," "))}function Ue(i,r){if(1&i&&e.\u0275\u0275elementContainer(0,30),2&i){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(23);e.\u0275\u0275property("ngTemplateOutlet",t)}}function He(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",23)(2,"ul",24,25),e.\u0275\u0275listener("activeIdChange",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.activeId=o)}),e.\u0275\u0275elementStart(4,"li",26)(5,"a",27)(6,"b"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"uppercase"),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(10,Ue,1,1,"ng-template",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(11,"div",29),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275reference(3),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("activeId",n.activeId)("animation",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbNavItem",n.tabIds.active),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,5,e.\u0275\u0275pipeBind1(9,7,"LABEL.ACTIVE"))),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngbNavOutlet",t)}}function We(i,r){1&i&&e.\u0275\u0275element(0,"phr-block-loader")}function je(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275element(2,"br"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getCompleteBy()," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate2(" (",t.getDaysLeft()," ",e.\u0275\u0275pipeBind1(4,3,"LABEL.DAYS_LEFT"),") ")}}function Ge(i,r){1&i&&e.\u0275\u0275text(0,"-")}const V=function(i,r){return{component:i,reviewed:r}},k=function(i){return{$implicit:i}};function Ke(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",49),e.\u0275\u0275elementContainer(1,50),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275nextContext(4);const n=e.\u0275\u0275reference(27);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(5,k,e.\u0275\u0275pureFunction2(2,V,t.component,t.reviewed)))}}function Qe(i,r){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275element(3,"i",21),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(2,1,"STATUS.SAVING"),"... "))}function Ye(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-personal-info-form",64,65),e.\u0275\u0275listener("onSave",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.onEmployeeDataSave(o))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275property("employee",t.employee)("genderDesignationOpts",t.genderDesignationOpts)("pronounOpts",t.pronounOpts)}}function ze(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-contact-info-form",66,67),e.\u0275\u0275listener("onSave",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(s.onEmployeeDataSave(o))}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275property("employee",t.employee)}}function $e(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-life-events-address",68,69),e.\u0275\u0275listener("onSave",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(o.handleSave())})("onBackBtn",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(o.goBackStep())}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275property("employee",t.employee)("activeStepNumber",t.getComponentStepNumber())}}function Xe(i,r){1&i&&e.\u0275\u0275element(0,"phr-life-event-tax-withholding",null,70)}function Ze(i,r){if(1&i&&e.\u0275\u0275element(0,"phr-life-events-emergency-contacts",71,72),2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275property("employee",t.employee)}}function Je(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"phr-life-events-direct-deposit",73,74),e.\u0275\u0275listener("onBackStep",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(o.goBackStep())})("onSaveAccounts",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(o.handleSave())}),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275property("activeStepNumber",t.getComponentStepNumber())("directDepositEnabled",t.directDepositEnabled)("forceBalance",t.forceBalance)("accounts",t.accounts)}}function qe(i,r){if(1&i&&e.\u0275\u0275elementContainer(0,30),2&i){e.\u0275\u0275nextContext(5);const t=e.\u0275\u0275reference(25);e.\u0275\u0275property("ngTemplateOutlet",t)}}function et(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",81),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(6);return e.\u0275\u0275resetView(o.goBackStep())}),e.\u0275\u0275element(1,"i",82),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(6);e.\u0275\u0275property("disabled",t.isProxyUser),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"ACTION.BACK")," ")}}function tt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"p",83),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"VALIDATION.INVALID_INPUT")," "))}function nt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",75)(1,"div",76),e.\u0275\u0275template(2,et,4,4,"button",77),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",78)(4,"button",79),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(5);return e.\u0275\u0275resetView(o.handleSave())}),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,tt,3,3,"p",80),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",0!==t.getComponentStepNumber()),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.isFormValid()||t.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,4,"ACTION.SAVE_CONTINUE")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.hasErr)}}function it(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",51)(1,"div",52)(2,"div",53),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(4);return e.\u0275\u0275resetView(o.closeComponentDetails())}),e.\u0275\u0275elementStart(3,"div",54)(4,"b"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",55)(7,"a",56),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(10,Qe,4,3,"span",12),e.\u0275\u0275template(11,Ye,2,3,"phr-personal-info-form",57),e.\u0275\u0275template(12,ze,2,1,"phr-contact-info-form",58),e.\u0275\u0275template(13,$e,2,2,"phr-life-events-address",59),e.\u0275\u0275template(14,Xe,2,0,"phr-life-event-tax-withholding",12),e.\u0275\u0275template(15,Ze,2,1,"phr-life-events-emergency-contacts",60),e.\u0275\u0275template(16,Je,2,4,"phr-life-events-direct-deposit",61),e.\u0275\u0275template(17,qe,1,1,"ng-container",62),e.\u0275\u0275template(18,nt,8,6,"div",63),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.getComponentTitle(t.componentUnderReview)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,11,"LABEL.HIDE_SECTION")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview===t.LifeEventComponentCodes.PERSONAL_INFO&&!t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview===t.LifeEventComponentCodes.CONTACT_INFO&&!t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview===t.LifeEventComponentCodes.ADDRESS&&!t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview===t.LifeEventComponentCodes.TAX_WITHHOLDING&&!t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview===t.LifeEventComponentCodes.EMERGENCY_CONTACTS&&!t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview===t.LifeEventComponentCodes.DIRECT_DEPOSIT&&!t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview===t.LifeEventComponentCodes.BE),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.componentUnderReview!==t.LifeEventComponentCodes.ADDRESS&&t.componentUnderReview!==t.LifeEventComponentCodes.BE&&t.componentUnderReview!==t.LifeEventComponentCodes.DIRECT_DEPOSIT)}}function ot(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",49),e.\u0275\u0275elementContainer(1,50),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275nextContext(5);const n=e.\u0275\u0275reference(27);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(5,k,e.\u0275\u0275pureFunction2(2,V,t.component,t.reviewed)))}}function rt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",84),e.\u0275\u0275template(1,ot,2,7,"div",46),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.bottomComponentList)}}const at=function(i){return{width:i}};function st(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div")(1,"div",34),e.\u0275\u0275element(2,"i",35),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",36)(6,"div",37)(7,"div",31)(8,"div",38)(9,"b"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"div",38)(12,"div",39)(13,"b"),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"br"),e.\u0275\u0275elementStart(17,"span"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"date"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",38)(21,"div",39)(22,"b"),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"br"),e.\u0275\u0275template(26,je,5,5,"span",40),e.\u0275\u0275template(27,Ge,1,0,"ng-template",null,41,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",42)(30,"div",39)(31,"b"),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(34,"br"),e.\u0275\u0275elementStart(35,"span"),e.\u0275\u0275text(36),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(37,"div",43)(38,"span")(39,"b"),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(42),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"div",39)(44,"div",44),e.\u0275\u0275element(45,"div",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"span"),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"translate"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(49,Ke,2,7,"div",46),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,it,19,13,"div",47),e.\u0275\u0275template(51,rt,2,1,"div",48),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275reference(28),n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,18,"MESSAGE.LIFE_EVENT.REVIEW_ACTIVE")," "),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(n.lifeEvent.title),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(15,20,"LABEL.DATE_OCCURRED")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind3(19,22,n.lifeEvent.dateReported,"MMM d, yyy","UTC")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,26,"LABEL.COMPLETE_BY")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",n.lifeEvent.completeBy)("ngIfElse",t),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,28,"LABEL.INITIATED_BY")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(n.lifeEvent.initiatedBy?n.lifeEvent.initiatedBy:n.self),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(41,30,"LABEL.PROGRESS"),": "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.componentUnderReview&&n.componentUnderReview.length>1?n.getComponentTitle(n.componentUnderReview):"",""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngStyle",e.\u0275\u0275pureFunction1(34,at,n.getCompletionPercentage()+"%")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate3(" ",n.getReviewedSections().length,"/",n.lifeEvent.progress.length," ",e.\u0275\u0275pipeBind1(48,32,"MESSAGE.REVIEWED"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.topComponentList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.componentUnderReview&&n.componentUnderReview.length>1),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.bottomComponentList.length>0)}}function lt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"phr-table-no-data",85),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(2,1,"MESSAGE.NO_LIFE_EVENTS")))}function ct(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",32),e.\u0275\u0275template(1,st,52,36,"div",12),e.\u0275\u0275template(2,lt,3,3,"div",12),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.hasActiveEvent()),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.hasActiveEvent())}}function pt(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"div",23)(1,"div",31)(2,"div",32),e.\u0275\u0275template(3,We,1,0,"phr-block-loader",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,ct,3,2,"div",33),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loading)}}function dt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",81),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.goBackStep())}),e.\u0275\u0275element(1,"i",82),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("disabled",t.isProxyUser),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,2,"ACTION.BACK")," ")}}function mt(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",86)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",87)(5,"div",88),e.\u0275\u0275template(6,dt,4,4,"button",77),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",78)(8,"button",79),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.handleSave())}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"MESSAGE.BENEFIT_ENROLLMENT_MESSAGE")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0!==t.getComponentStepNumber),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.isProxyUser),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"LABEL.LAUNCH_BENEFIT_ENROLLMENT")," ")}}function vt(i,r){1&i&&(e.\u0275\u0275elementStart(0,"a",96),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"LABEL.VIEW_SECTION")," "))}const ft=function(i,r){return{"cursor-pointer":i,"cursor-disabled":r}},_t=function(i,r){return{"col-8":i,"col-4":r}},ut=function(i,r,t,n){return{"text-success":i,"fa-check":r,"fa-exclamation-triangle":t,"text-warning":n}};function Et(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",89),e.\u0275\u0275listener("click",function(){const s=e.\u0275\u0275restoreView(t).$implicit,m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.viewComponentDetails(s.component))}),e.\u0275\u0275elementStart(1,"div",90)(2,"b"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",91),e.\u0275\u0275element(5,"i",92),e.\u0275\u0275elementStart(6,"div",93),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",94),e.\u0275\u0275template(9,vt,3,3,"a",95),e.\u0275\u0275elementEnd()()}if(2&i){const t=r.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(6,ft,n.canReviewComponent(t.component),!n.canReviewComponent(t.component))),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.getComponentTitle(t.component)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(9,_t,!t.reviewed,t.reviewed)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction4(12,ut,t.reviewed,t.reviewed,!t.reviewed,!t.reviewed)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.translateLifeEventStatus(t.reviewed)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.reviewed)}}let ht=(()=>{class i{constructor(t,n,o,s,m,u,A,Bt,Nt){this.breadcrumbService=t,this.employeeService=n,this.employeeDropdownService=o,this.directDepositService=s,this.taxWithholdingService=m,this.lifeEventService=u,this.translateService=A,this.authService=Bt,this.userStateService=Nt,this.loading=!0,this.saving=!1,this.lifeEvent=null,this.taxSettings=null,this.employee={},this.lifeEventCodes=[],this.LifeEventComponentCodes=l,this.accounts=[],this.lifeEventsHistory=[],this.errMsg=null,this.configDDError=!1,this.genderDesignationOpts=[],this.pronounOpts=[],this.forceBalance=!1,this.popoverHidden=!0,this.hasErr=!1,this.tabIds={active:"active",history:"history"},this.activeId=this.tabIds.active}togglePopover(){this.errMsg=!1,this.popoverHidden=!this.popoverHidden}localize(){this.breadcrumbService.setBreadcrumbItems([{url:"/ess/home"},{url:"/ess/life-events"}])}getCompleteBy(){const t=p().utc(this.lifeEvent.completeBy);return t.locale(this.translateService.currentLang),t.format("MMM D, YYYY").replace(/^\w/,n=>n.toUpperCase())}getDaysLeft(){const t=p()(new Date);t.locale(this.translateService.currentLang);const n=p()(this.lifeEvent.completeBy);return n.locale(this.translateService.currentLang),n.diff(t,"d")}ngOnInit(){var t=this;return(0,x.Z)(function*(){t.userStateService.session$.pipe((0,d.P)()).subscribe(n=>{t.isProxyUser=!!n?.proxyInfo}),t.translateService.onLangChange.subscribe(t.localize.bind(t)),t.localize(),t.loadLifeEventHistory().subscribe(),t.employeeDropdownService.getGenderDesignationOpts().subscribe(n=>t.genderDesignationOpts=n),t.employeeDropdownService.getPronounOpts().subscribe(n=>t.pronounOpts=n);try{yield t.loadActiveLifeEvent(),t.hasActiveEvent()?t.loadLifeEventFormData():t.loading=!1}catch{t.loading=!1}})()}get self(){return this.translateService.instant("LABEL.SELF")}loadLifeEventFormData(){this.loading=!0;const t=[this.loadEmployee(),this.loadForceBalance()];this.lifeEvent&&this.lifeEvent.progress.some(n=>n.component===l.DIRECT_DEPOSIT)&&t.push(this.loadDirectDepositAccounts()),(0,g.D)(t).subscribe(n=>{this.loading=!1},n=>{this.loading=!1})}hasActiveEvent(){return this.lifeEvent&&this.lifeEvent.id}get topComponentList(){const t=this.getComponentStepNumber();return-1===t?this.lifeEvent.progress:this.lifeEvent.progress.slice(0,t)}get bottomComponentList(){const t=this.getComponentStepNumber();return-1===t?[]:this.lifeEvent.progress.slice(t+1)}translateLifeEventStatus(t){return this.translateService.instant(t?"LABEL.REVIEWED":"LABEL.NEEDS_REVIEW")}closeComponentDetails(){this.componentUnderReview=null}viewComponentDetails(t){if(this.canReviewComponent(t)){this.componentUnderReview===l.DIRECT_DEPOSIT&&this.loadDirectDepositAccounts().subscribe(),t!==l.BE&&this.lifeEventService.updateLifeEventComponent(t,"P").then(o=>{},o=>{}),this.componentUnderReview=t;const n=document.getElementById("formTop");n&&n.scrollIntoView()}}canReviewComponent(t){const n=this.getComponentStepNumber(t);return!(!this.lifeEvent.progress[n].reviewed&&0!==n&&!this.lifeEvent.progress[n-1].reviewed)}getComponentStepNumber(t=this.componentUnderReview){return this.lifeEvent.progress.findIndex(n=>n.component===t)}goBackStep(){this.getComponentStepNumber()>0&&this.viewComponentDetails(this.lifeEvent.progress[this.getComponentStepNumber()-1].component)}isFormValid(){let t=!0;switch(this.componentUnderReview){case l.PERSONAL_INFO:t=!this.personalInfoForm||this.personalInfoForm.isValid();break;case l.CONTACT_INFO:t=!this.contactInfoForm||this.contactInfoForm.isValid();break;default:t=!0}return t}handleSave(){var t=this;if(this.isProxyUser)return;const n=function(){var o=(0,x.Z)(function*(){if(document.getElementById("formTop").scrollIntoView(),t.componentUnderReview!==l.BE)try{yield t.lifeEventService.updateLifeEventComponent(t.componentUnderReview,"C"),t.lifeEvent.progress[t.getComponentStepNumber()].reviewed=!0,t.viewComponentDetails(t.lifeEvent.progress[t.getComponentStepNumber()+1].component),t.saving=!1,t.hasErr=!1}catch{t.hasErr=!0,t.saving=!1}else t.componentUnderReview===l.BE&&t.lifeEventService.ssoBe().subscribe(()=>{t.hasErr=!1,t.saving=!1})});return function(){return o.apply(this,arguments)}}();if(this.isFormValid())switch(this.componentUnderReview){case l.PERSONAL_INFO:case l.CONTACT_INFO:case l.ADDRESS:case l.EMERGENCY_CONTACTS:this.handleEmployeeSaveClick().subscribe(n,o=>{});break;case l.TAX_WITHHOLDING:this.handleSaveTaxWitholding().subscribe(n,o=>{});break;case l.DIRECT_DEPOSIT:this.saving=!0,this.loadDirectDepositAccounts().subscribe(n,o=>{});break;default:n()}else this.hasErr=!0}handleSaveTaxWitholding(){return this.saving=!0,new y.y(t=>{this.taxSettings=this.taxWithholdingForm.getTaxSettings(),this.taxWithholdingService.postW4Settings(this.taxSettings).subscribe(n=>{this.taxSettings.checksum=n.checksum,t.next(),t.complete()},n=>{t.error(n)})})}getComponentTitle(t){switch(t){case l.PERSONAL_INFO:return this.translateService.instant("TITLE.PERSONAL_INFO");case l.CONTACT_INFO:return this.translateService.instant("TITLE.CONTACT_INFO");case l.EMERGENCY_CONTACTS:return this.translateService.instant("TITLE.EMERGENCY_CONTACTS");case l.ADDRESS:return this.translateService.instant("LABEL.ADDRESS");case l.TAX_WITHHOLDING:return this.translateService.instant("LABEL.TAX_WITHHOLDING");case l.DIRECT_DEPOSIT:return this.translateService.instant("TITLE.DIRECT_DEPOSIT");case l.BE:return this.translateService.instant("LABEL.BENEFIT_ENROLLMENT")}}loadEmployee(){return new y.y(t=>{this.employeeService.getEmployee(!0).subscribe(n=>{this.employee=n,t.next(n),t.complete()},n=>{t.error(n)})})}loadForceBalance(){return new y.y(t=>{this.authService.loadEmployee().pipe((0,d.P)()).subscribe(n=>{this.forceBalance=n?.forceBalance,t.next(this.forceBalance),t.complete()})})}loadDirectDepositAccounts(){const t=[this.directDepositService.getDirectDepositAccounts(!0),this.directDepositService.getTermsAndConditions()];return new y.y(n=>{this.authService.loadSession().subscribe(o=>{this.directDepositService.getEmployeeAchSettings(o.user.employeeId,o.clientId).subscribe(u=>{this.achSettings=u,!0===this.directDepositService.directDepositEnabled(u)?(0,g.D)(t).subscribe(A=>{this.accounts=A[0],this.directDepositEnabled=!0,n.next(this.accounts),n.complete()},A=>{console.error(A),this.configDDError=!0}):(n.next(),n.complete())})})})}handleEmployeeSaveClick(){let t;switch(this.componentUnderReview){case l.PERSONAL_INFO:t=this.personalInfoForm.getUpdatedEmployee();break;case l.CONTACT_INFO:t=this.contactInfoForm.getUpdatedEmployee();break;case l.ADDRESS:t=this.addressInfoForm.getEmployeeData();break;case l.EMERGENCY_CONTACTS:t=this.emergencyContactsForm.getUpdatedEmployeeData();break;default:t=this.employee}return this.saveEmployeeData(t)}getCompletionPercentage(){return this.getReviewedSections().length/this.lifeEvent.progress.length*100}getReviewedSections(){return this.lifeEvent.progress.filter(t=>t.reviewed)}onEmployeeDataSave(t){this.isProxyUser||this.saveEmployeeData(t).subscribe(()=>this.saving=!1,()=>this.saving=!1)}saveEmployeeData(t){return this.saving=!0,this.employeeService.postEmployee({...this.employee,...t}).pipe((0,L.b)(n=>this.employee=n))}loadActiveLifeEvent(){var t=this;return new Promise(function(){var n=(0,x.Z)(function*(o,s){try{const m=yield t.lifeEventService.getActiveLifeEventWorkflow();t.lifeEvent=m,t.componentUnderReview=t.lifeEvent.progress.some(u=>!u.reviewed)?t.lifeEvent.progress.find(u=>!u.reviewed).component:t.lifeEvent.progress[t.lifeEvent.progress.length-1].component,o()}catch(m){if(m.error&&2===m.error.errorCode)try{const u=yield t.lifeEventService.getLifeEventCodes();t.lifeEventCodes=u,o()}catch(u){s(u)}return s(m)}});return function(o,s){return n.apply(this,arguments)}}())}isCreateEventFormValid(){return this.lifeEventCreationForm&&this.lifeEventCreationForm.lifeEventForm&&""!==this.lifeEventCreationForm.lifeEventForm.controls.eventDate.value&&this.lifeEventCreationForm.lifeEventForm.valid}reportLifeEvent(){var t=this;return(0,x.Z)(function*(){if(t.lifeEventCreationForm.isEventDateInRange())try{const n=t.lifeEventCreationForm.getActiveLifeEvent();t.loading=!0,t.saving=!0,t.lifeEvent=yield t.lifeEventService.reportLifeEvent(n.code,n.eventDate),t.lifeEventCreationForm.resetForm(),t.popoverHidden||t.togglePopover(),t.loading=!1,t.saving=!1,t.componentUnderReview=t.lifeEvent.progress.some(o=>!o.reviewed)?t.lifeEvent.progress.find(o=>!o.reviewed).component:t.lifeEvent.progress[t.lifeEvent.progress.length-1].component,t.loadLifeEventFormData()}catch(n){if(t.saving=!1,t.loading=!1,n.error&&n.error.errorCode)return 3===Number(n.error.errorCode)?void(t.lifeEventCreationForm.errMsg=t.translateService.instant("VALIDATION.LIFE_EVENT_DATE_RANGE")):void(t.errMsg=t.translateService.instant(I.N[String(n.error.errorCode)]));t.errMsg=t.translateService.instant(I.N[1])}else t.lifeEventCreationForm.errMsg=t.translateService.instant("VALIDATION.LIFE_EVENT_DATE_RANGE")})()}loadLifeEventHistory(){return new y.y(t=>{const n=[];this.lifeEventsHistory=n,t.next(n)})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(T.Vn),e.\u0275\u0275directiveInject(U.GP),e.\u0275\u0275directiveInject(H.I),e.\u0275\u0275directiveInject(B.A),e.\u0275\u0275directiveInject(M.n),e.\u0275\u0275directiveInject(F.Q),e.\u0275\u0275directiveInject(v.sK),e.\u0275\u0275directiveInject(w.e8),e.\u0275\u0275directiveInject(W.P))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(De,5),e.\u0275\u0275viewQuery(Le,5),e.\u0275\u0275viewQuery(Ae,5),e.\u0275\u0275viewQuery(we,5),e.\u0275\u0275viewQuery(Oe,5),e.\u0275\u0275viewQuery(Be,5),e.\u0275\u0275viewQuery(Ne,5),e.\u0275\u0275viewQuery(Re,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.lifeEventPop=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.directDepositForm=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.personalInfoForm=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.contactInfoForm=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.addressInfoForm=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.taxWithholdingForm=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.emergencyContactsForm=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.lifeEventCreationForm=o.first)}},decls:28,vars:12,consts:[[1,"container-fluid"],[1,"border","border-top-0","border-left-0","border-right-0","mb-2"],[1,"phr-popover-wrapper"],["class","btn btn-primary pull-right",3,"disabled","click",4,"ngIf"],[1,"popover","customHeaderPopoverAlt","bs-popover-bottom",3,"hidden"],[1,"arrow"],[1,"popover-body"],[3,"lifeEventCodes","onSave"],["lifeEventCreationForm",""],["class","text-danger mb-1",4,"ngIf"],[1,"d-flex","justify-content-start","flex-wrap"],["id","saveButton","type","button",1,"btn","btn-primary","mr-3","mb-2",3,"disabled","click"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary","mr-3","mb-2",3,"click"],["class","alert alert-warning mx-2 my-3 p-2",4,"ngIf"],[1,"pb-3"],["activeLifeEvent",""],["benefitEnrollmentSection",""],["componentListItem",""],[1,"btn","btn-primary","pull-right",3,"disabled","click"],[1,"text-danger","mb-1"],[1,"fas","fa-circle-notch","fa-spin"],[1,"alert","alert-warning","mx-2","my-3","p-2"],[1,"mt-3"],["ngbNav","",1,"nav-pills","prismhr-nav-pills-underline",3,"activeId","animation","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngTemplateOutlet"],[1,"row"],[1,"col-12"],["class","col-12",4,"ngIf"],[1,"alert","alert-info"],["aria-hidden","true",1,"fas","fa-exclamation-triangle"],[1,"card","mb-3","componentShadow"],[1,"card-body","border","border-top-0","border-left-0","border-right-0","border-bottom-1"],[1,"col-12","col-sm-4","col-md-3","col-lg-2","d-flex","lifeEventHeader"],[1,""],[4,"ngIf","ngIfElse"],["emptyComplete",""],[1,"col-12","col-sm-4","col-md-3","col-lg-2","d-flex","lifeEventHeader","lifeEventHeaderLast"],[1,"col-12","col-sm-12","col-md-12","col-lg-4","w-100","progressBar"],[1,"progress",2,"margin","10px 0"],[1,"progress-bar",3,"ngStyle"],["class","card-body border border-top-0 border-left-0 border-right-0 py-0",4,"ngFor","ngForOf"],["class","card mt-3 componentShadow","id","formTop",4,"ngIf"],["class","card mt-3",4,"ngIf"],[1,"card-body","border","border-top-0","border-left-0","border-right-0","py-0"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["id","formTop",1,"card","mt-3","componentShadow"],[1,"card-body"],[1,"d-flex","row","pb-2","cursor-pointer",3,"click"],[1,"d-flex","flex-fill","col-12","col-sm-6"],[1,"d-flex","col-12","col-sm-6","lifeEventHideBtn","justify-content-sm-end"],[1,"btn-link","btn","px-0","text-primary","pt-0"],[3,"employee","genderDesignationOpts","pronounOpts","onSave",4,"ngIf"],[3,"employee","onSave",4,"ngIf"],[3,"employee","activeStepNumber","onSave","onBackBtn",4,"ngIf"],[3,"employee",4,"ngIf"],[3,"activeStepNumber","directDepositEnabled","forceBalance","accounts","onBackStep","onSaveAccounts",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["class","d-flex justify-content-between flex-wrap",4,"ngIf"],[3,"employee","genderDesignationOpts","pronounOpts","onSave"],["personalInfoForm",""],[3,"employee","onSave"],["contactInfoForm",""],[3,"employee","activeStepNumber","onSave","onBackBtn"],["addressInfoForm",""],["taxWithholdingForm",""],[3,"employee"],["emergencyContactsForm",""],[3,"activeStepNumber","directDepositEnabled","forceBalance","accounts","onBackStep","onSaveAccounts"],["directDepositFor",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"col-12","col-sm-6","col-md-6","pt-2","pb-2","px-0","lifeEventBackBtn"],["class","btn btn-outline-primary",3,"disabled","click",4,"ngIf"],[1,"col-12","col-sm-6","col-md-6","pt-2","pb-2","lifeEventSaveBtn","px-0"],[1,"btn","btn-primary",3,"disabled","click"],["class","text-danger",4,"ngIf"],[1,"btn","btn-outline-primary",3,"disabled","click"],[1,"fas","fa-chevron-left","mr-2"],[1,"text-danger"],[1,"card","mt-3"],[3,"message"],[1,"mb-3","mt-3","d-flex","d"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"col-12","col-sm-6","col-md-6","pt-2","pb-2","lifeEventBackBtn","px-0"],[1,"d-flex","justify-content-between","py-3","row",3,"ngClass","click"],[1,"d-flex","flex-fill","col-md-4"],[1,"d-flex","flex-fill","col-md-4",3,"ngClass"],[1,"fas","mt-1","mr-2",3,"ngClass"],[1,"text-center"],[1,"d-flex","flex-fill","col-12","col-sm-12","col-md-4","px-0","justify-content-md-end"],["class","text-primary pt-0 btn btn-link mr-md-3 pr-0",4,"ngIf"],[1,"text-primary","pt-0","btn","btn-link","mr-md-3","pr-0"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"phr-page-heading")(3,"div",2),e.\u0275\u0275template(4,Me,3,4,"button",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275element(6,"div",5),e.\u0275\u0275elementStart(7,"div",6)(8,"div")(9,"phr-life-events-creation-form",7,8),e.\u0275\u0275listener("onSave",function(){return n.reportLifeEvent()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,Fe,2,1,"div",9),e.\u0275\u0275elementStart(12,"div",10)(13,"button",11),e.\u0275\u0275listener("click",function(){return n.reportLifeEvent()}),e.\u0275\u0275template(14,Pe,3,3,"span",12),e.\u0275\u0275template(15,Ve,2,0,"span",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"button",13),e.\u0275\u0275listener("click",function(){return n.togglePopover()}),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275template(19,ke,3,3,"div",14),e.\u0275\u0275template(20,He,12,9,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"div",15),e.\u0275\u0275template(22,pt,5,2,"ng-template",null,16,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(24,mt,11,8,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(26,Et,10,17,"ng-template",null,18,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!n.configDDError),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",n.popoverHidden),e.\u0275\u0275advance(4),e.\u0275\u0275property("lifeEventCodes",n.lifeEventCodes),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.errMsg&&n.errMsg.length>1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!n.isCreateEventFormValid()&&!n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.saving),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,10,"ACTION.CANCEL")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.configDDError),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.configDDError))},dependencies:[j.E,_.mk,_.sg,_.O5,_.tP,_.PC,f.uN,f.Pz,f.nv,f.Vx,f.tO,G.F,P.E,K.g,Q.T,Z,re,ae.O,de,Te,v.X$,_.gd,_.uU],styles:[".lifeEventHeader[_ngcontent-%COMP%]{border-right:solid 1px #e9ecef}.lifeEventSaveBtn[_ngcontent-%COMP%]{text-align:right}.phr-popover-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%;text-align:end}.phr-popover-wrapper[_ngcontent-%COMP%]   .popover[_ngcontent-%COMP%]{top:100%;left:unset;right:0}@media screen and (max-width: 960px){.lifeEventHeaderLast[_ngcontent-%COMP%]{border-right:0}.progressBar[_ngcontent-%COMP%]{margin-top:10px}}@media screen and (max-width: 640px){.lifeEventSaveBtn[_ngcontent-%COMP%], .lifeEventBackBtn[_ngcontent-%COMP%]{text-align:center}.lifeEventSaveBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .lifeEventBackBtn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 480px){.lifeEventHeader[_ngcontent-%COMP%]{border-right:0}}"]}),i})();var R=a(98474),C=a(68757),gt=a(3270),Ct=a(14927);const yt=function(i,r){return{of:i,view:r}},St=[{path:"",component:ht},{path:"life-events-history",component:(()=>{class i{constructor(t,n,o){this.translateService=t,this.i18nService=n,this.broadcast=o,this.lifeEventsHistory=[],this.readonly=!1,this.searchString="",this.filters=[],this.lifeEventHistoryCols=[{title:"",localeKey:"LABEL.EVENT",sort:C.ER.ALPHA,direction:C.Sr.DESC,enumerable:!1,property:"event"},{title:"",localeKey:"LABEL.DATE_OCCURRED",sort:C.ER.DATE,direction:C.Sr.DESC,enumerable:!1,transform:s=>{if(s){const m=p()(s,"MM/DD/YYYY");return m.locale(this.translateService.currentLang),m.format("MM/DD/YYYY").replace(/^\w/,u=>u.toUpperCase())}},property:"dateOccurred"},{title:"",localeKey:"LABEL.INITIATED_BY",sort:C.ER.ALPHA,direction:C.Sr.DESC,enumerable:!1,property:"initiated"},{title:"",localeKey:"LABEL.DATE_SUBMITTED",sort:C.ER.DATE,direction:C.Sr.DESC,enumerable:!0,transform:s=>{if(s){const m=p()(s,"MM/DD/YYYY");return m.locale(this.translateService.currentLang),m.format("MM/DD/YYYY").replace(/^\w/,u=>u.toUpperCase())}},property:"dateSubmitted"}].map(s=>(s.title=this.translateService.instant(s.localeKey),new C.hj(s))),this.broadcast.on(this.i18nService.changedEvent).subscribe(s=>{this.localize()})}ngOnInit(){this.initFilters(),this.localize()}initFilters(){this.filters=R.iZ.buildFilters([new C.hj({localeKey:"LABEL.DATE_SUBMITTED",property:"dateSubmitted",title:"Date Submitted",sort:C.ER.ALPHA,enumerable:!0})],this.lifeEventsHistory)}localize(){this.lifeEventHistoryCols=this.lifeEventHistoryCols.map(t=>(t.title=this.translateService.instant(t.localeKey),t)),this.filters=this.filters.map(t=>(t.attribute.title=this.translateService.instant(t.attribute.localeKey),t))}handleSortChange(t){return this.lifeEventHistoryCols.map(o=>(o.direction=o.property===t.property?t.direction:null,o))}handleSearchStringChange(t){this.searchString=t}handleFilterChanged(t){const n=this.filters.findIndex(o=>o.attribute.property===t.attribute.property);this.filters[n]=t}handleFiltersChanged(t){this.filters=t}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(v.sK),e.\u0275\u0275directiveInject(gt.D),e.\u0275\u0275directiveInject(Ct.BroadcastEventService))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["phr-life-events-history"]],inputs:{lifeEventsHistory:"lifeEventsHistory"},decls:1,vars:10,consts:[[3,"data","filters","searchString","tableColumns","mobileColCount","itemsPerPage","paginationMessages","onSort"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"phr-table-component",0),e.\u0275\u0275listener("onSort",function(s){return n.handleSortChange(s)}),e.\u0275\u0275elementEnd()),2&t&&e.\u0275\u0275property("data",n.lifeEventsHistory)("filters",n.filters)("searchString",n.searchString)("tableColumns",n.lifeEventHistoryCols)("mobileColCount",2)("itemsPerPage",10)("paginationMessages",e.\u0275\u0275pureFunction2(7,yt,n.translateService.instant("LABEL.OF"),n.translateService.instant("LABEL.VIEWING")))},dependencies:[R.RT],encapsulation:2}),i})()}];let xt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.Bz.forChild(St),h.Bz]}),i})();var It=a(42341),bt=a(24236),Tt=a(39055),Dt=a(27939),Lt=a(69741),At=a(78376),wt=a(8920);let Ot=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[F.Q],imports:[h.Bz,v.aw,It.z,_.ez,b.FormsModule,f.IJ,T.pk,b.ReactiveFormsModule,c.j,D.L,xt,bt.PersonalInfoModule,Tt.ContactInfoModule,Dt.AddressModule,Lt.TaxWithholdingModule,At.EmergencyContactsModule,wt.DirectDepositModule,R.JT]}),i})()},46936:(O,S,a)=>{a.d(S,{Q:()=>x});var h=a(15861),b=a(2994),c=a(27221),D=a(72986),v=a(61737),f=a(94650),_=a(80529),T=a(27111);let x=(()=>{class g{constructor(d,E,p){this.http=d,this.domainService=E,this.authService=p,this.baseUrl=`${this.domainService.getEssApiPath()}/clients/`}getLifeEventCodes(d=this.authService.clientIdQP){return this.http.get(`${this.baseUrl}${d}/life-event-codes`,{withCredentials:!0}).toPromise()}reportLifeEvent(d,E,p=this.authService.clientIdQP){var l=this;return(0,h.Z)(function*(){return l.http.post(`${l.baseUrl}${p}/life-event`,{code:d,eventDate:E},{withCredentials:!0}).toPromise()})()}getActiveLifeEventWorkflow(d=this.authService.clientIdQP){var E=this;return new Promise(function(){var p=(0,h.Z)(function*(l,I){try{l(yield E.http.get(`${E.baseUrl}${d}/life-event`,{withCredentials:!0}).toPromise())}catch(L){I(L)}});return function(l,I){return p.apply(this,arguments)}}())}updateLifeEventComponent(d,E="C",p=this.authService.clientIdQP){return this.http.patch(`${this.baseUrl}${p}/life-event`,{component:d,progress:E},{withCredentials:!0,responseType:"text"}).toPromise()}ssoBe(){return this.http.get(this.domainService.getEssApiPath()+"/sso/obbe",{withCredentials:!0}).pipe((0,b.b)(({url:d})=>window.location.href=d),(0,c.K)(()=>(0,v._)("No sso to obbe configured")),(0,D.q)(1))}}return g.\u0275fac=function(d){return new(d||g)(f.\u0275\u0275inject(_.eN),f.\u0275\u0275inject(T.NF),f.\u0275\u0275inject(T.e8))},g.\u0275prov=f.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac}),g})()}}]);